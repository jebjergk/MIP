var dA=Object.defineProperty;var fA=(e,t,r)=>t in e?dA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wf=(e,t,r)=>fA(e,typeof t!="symbol"?t+"":t,r);function hA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Zn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sj={exports:{}},yd={},lj={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),pA=Symbol.for("react.portal"),mA=Symbol.for("react.fragment"),vA=Symbol.for("react.strict_mode"),gA=Symbol.for("react.profiler"),yA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),wA=Symbol.for("react.forward_ref"),bA=Symbol.for("react.suspense"),_A=Symbol.for("react.memo"),jA=Symbol.for("react.lazy"),ex=Symbol.iterator;function SA(e){return e===null||typeof e!="object"?null:(e=ex&&e[ex]||e["@@iterator"],typeof e=="function"?e:null)}var uj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cj=Object.assign,dj={};function Ao(e,t,r){this.props=e,this.context=t,this.refs=dj,this.updater=r||uj}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fj(){}fj.prototype=Ao.prototype;function Km(e,t,r){this.props=e,this.context=t,this.refs=dj,this.updater=r||uj}var Hm=Km.prototype=new fj;Hm.constructor=Km;cj(Hm,Ao.prototype);Hm.isPureReactComponent=!0;var tx=Array.isArray,hj=Object.prototype.hasOwnProperty,Vm={current:null},pj={key:!0,ref:!0,__self:!0,__source:!0};function mj(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)hj.call(t,n)&&!pj.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:fl,type:e,key:a,ref:o,props:i,_owner:Vm.current}}function PA(e,t){return{$$typeof:fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qm(e){return typeof e=="object"&&e!==null&&e.$$typeof===fl}function kA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rx=/\/+/g;function Kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kA(""+e.key):t.toString(36)}function Nu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fl:case pA:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Kf(o,0):n,tx(i)?(r="",e!=null&&(r=e.replace(rx,"$&/")+"/"),Nu(i,t,r,"",function(c){return c})):i!=null&&(qm(i)&&(i=PA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rx,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",tx(e))for(var l=0;l<e.length;l++){a=e[l];var u=n+Kf(a,l);o+=Nu(a,t,r,u,i)}else if(u=SA(e),typeof u=="function")for(e=u.call(e),l=0;!(a=e.next()).done;)a=a.value,u=n+Kf(a,l++),o+=Nu(a,t,r,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ul(e,t,r){if(e==null)return e;var n=[],i=0;return Nu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function NA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Eu={transition:null},EA={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Eu,ReactCurrentOwner:Vm};function vj(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Ul,forEach:function(e,t,r){Ul(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ul(e,function(){t++}),t},toArray:function(e){return Ul(e,function(t){return t})||[]},only:function(e){if(!qm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Ao;ue.Fragment=mA;ue.Profiler=gA;ue.PureComponent=Km;ue.StrictMode=vA;ue.Suspense=bA;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EA;ue.act=vj;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cj({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Vm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)hj.call(t,u)&&!pj.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:fl,type:e.type,key:i,ref:a,props:n,_owner:o}};ue.createContext=function(e){return e={$$typeof:xA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yA,_context:e},e.Consumer=e};ue.createElement=mj;ue.createFactory=function(e){var t=mj.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:wA,render:e}};ue.isValidElement=qm;ue.lazy=function(e){return{$$typeof:jA,_payload:{_status:-1,_result:e},_init:NA}};ue.memo=function(e,t){return{$$typeof:_A,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Eu.transition;Eu.transition={};try{e()}finally{Eu.transition=t}};ue.unstable_act=vj;ue.useCallback=function(e,t){return Xt.current.useCallback(e,t)};ue.useContext=function(e){return Xt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Xt.current.useEffect(e,t)};ue.useId=function(){return Xt.current.useId()};ue.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Xt.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};ue.useRef=function(e){return Xt.current.useRef(e)};ue.useState=function(e){return Xt.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return Xt.current.useTransition()};ue.version="18.3.1";lj.exports=ue;var p=lj.exports;const xd=Zn(p),gj=hA({__proto__:null,default:xd},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=p,AA=Symbol.for("react.element"),CA=Symbol.for("react.fragment"),TA=Object.prototype.hasOwnProperty,IA=OA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MA={key:!0,ref:!0,__self:!0,__source:!0};function yj(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)TA.call(t,n)&&!MA.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:AA,type:e,key:a,ref:o,props:i,_owner:IA.current}}yd.Fragment=CA;yd.jsx=yj;yd.jsxs=yj;sj.exports=yd;var s=sj.exports,Hh={},xj={exports:{}},_r={},wj={exports:{}},bj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,$){var F=A.length;A.push($);e:for(;0<F;){var Q=F-1>>>1,J=A[Q];if(0<i(J,$))A[Q]=$,A[F]=J,F=Q;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var $=A[0],F=A.pop();if(F!==$){A[0]=F;e:for(var Q=0,J=A.length,ne=J>>>1;Q<ne;){var pe=2*(Q+1)-1,je=A[pe],be=pe+1,me=A[be];if(0>i(je,F))be<J&&0>i(me,je)?(A[Q]=me,A[be]=F,Q=be):(A[Q]=je,A[pe]=F,Q=pe);else if(be<J&&0>i(me,F))A[Q]=me,A[be]=F,Q=be;else break e}}return $}function i(A,$){var F=A.sortIndex-$.sortIndex;return F!==0?F:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,h=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var $=r(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=A)n(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=r(c)}}function _(A){if(y=!1,b(A),!v)if(r(u)!==null)v=!0,G(S);else{var $=r(c);$!==null&&X(_,$.startTime-A)}}function S(A,$){v=!1,y&&(y=!1,g(k),k=-1),m=!0;var F=h;try{for(b($),f=r(u);f!==null&&(!(f.expirationTime>$)||A&&!T());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var J=Q(f.expirationTime<=$);$=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(u)&&n(u),b($)}else n(u);f=r(u)}if(f!==null)var ne=!0;else{var pe=r(c);pe!==null&&X(_,pe.startTime-$),ne=!1}return ne}finally{f=null,h=F,m=!1}}var j=!1,P=null,k=-1,E=5,N=-1;function T(){return!(e.unstable_now()-N<E)}function O(){if(P!==null){var A=e.unstable_now();N=A;var $=!0;try{$=P(!0,A)}finally{$?W():(j=!1,P=null)}}else j=!1}var W;if(typeof w=="function")W=function(){w(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=O,W=function(){K.postMessage(null)}}else W=function(){x(O,0)};function G(A){P=A,j||(j=!0,W())}function X(A,$){k=x(function(){A(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,G(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var F=h;h=$;try{return A()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=h;h=A;try{return $()}finally{h=F}},e.unstable_scheduleCallback=function(A,$,F){var Q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,A={id:d++,callback:$,priorityLevel:A,startTime:F,expirationTime:J,sortIndex:-1},F>Q?(A.sortIndex=F,t(c,A),r(u)===null&&A===r(c)&&(y?(g(k),k=-1):y=!0,X(_,F-Q))):(A.sortIndex=J,t(u,A),v||m||(v=!0,G(S))),A},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(A){var $=h;return function(){var F=h;h=$;try{return A.apply(this,arguments)}finally{h=F}}}})(bj);wj.exports=bj;var DA=wj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA=p,yr=DA;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _j=new Set,Cs={};function Sa(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(Cs[e]=t,e=0;e<t.length;e++)_j.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vh=Object.prototype.hasOwnProperty,RA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nx={},ix={};function $A(e){return Vh.call(ix,e)?!0:Vh.call(nx,e)?!1:RA.test(e)?ix[e]=!0:(nx[e]=!0,!1)}function zA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FA(e,t,r,n){if(t===null||typeof t>"u"||zA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gm=/[\-:]([a-z])/g;function Ym(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gm,Ym);Lt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gm,Ym);Lt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gm,Ym);Lt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xm(e,t,r,n){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FA(t,r,i,n)&&(r=null),n||i===null?$A(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jn=LA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),jj=Symbol.for("react.provider"),Sj=Symbol.for("react.context"),Zm=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),Pj=Symbol.for("react.offscreen"),ax=Symbol.iterator;function Go(e){return e===null||typeof e!="object"?null:(e=ax&&e[ax]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Hf;function fs(e){if(Hf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hf=t&&t[1]||""}return`
`+Hf+e}var Vf=!1;function qf(e,t){if(!e||Vf)return"";Vf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Vf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fs(e):""}function BA(e){switch(e.tag){case 5:return fs(e.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return e=qf(e.type,!1),e;case 11:return e=qf(e.type.render,!1),e;case 1:return e=qf(e.type,!0),e;default:return""}}function Xh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ka:return"Fragment";case Wa:return"Portal";case qh:return"Profiler";case Qm:return"StrictMode";case Gh:return"Suspense";case Yh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sj:return(e.displayName||"Context")+".Consumer";case jj:return(e._context.displayName||"Context")+".Provider";case Zm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jm:return t=e.displayName||null,t!==null?t:Xh(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return Xh(e(t))}catch{}}return null}function UA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xh(t);case 8:return t===Qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WA(e){var t=kj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=WA(e))}function Nj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qh(e,t){var r=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ox(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ej(e,t){t=t.checked,t!=null&&Xm(e,"checked",t,!1)}function Zh(e,t){Ej(e,t);var r=Mi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jh(e,t.type,Mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jh(e,t,r){(t!=="number"||qu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hs=Array.isArray;function io(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ep(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(hs(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mi(r)}}function Oj(e,t){var r=Mi(t.value),n=Mi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ux(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Aj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Aj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,Cj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ts(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KA=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){KA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function Tj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function Ij(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Tj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var HA=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rp(e,t){if(t){if(HA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function np(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function ev(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ap=null,ao=null,oo=null;function cx(e){if(e=ml(e)){if(typeof ap!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Sd(t),ap(e.stateNode,e.type,t))}}function Mj(e){ao?oo?oo.push(e):oo=[e]:ao=e}function Dj(){if(ao){var e=ao,t=oo;if(oo=ao=null,cx(e),t)for(e=0;e<t.length;e++)cx(t[e])}}function Lj(e,t){return e(t)}function Rj(){}var Gf=!1;function $j(e,t,r){if(Gf)return e(t,r);Gf=!0;try{return Lj(e,t,r)}finally{Gf=!1,(ao!==null||oo!==null)&&(Rj(),Dj())}}function Is(e,t){var r=e.stateNode;if(r===null)return null;var n=Sd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var op=!1;if(Fn)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){op=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{op=!1}function VA(e,t,r,n,i,a,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var bs=!1,Gu=null,Yu=!1,sp=null,qA={onError:function(e){bs=!0,Gu=e}};function GA(e,t,r,n,i,a,o,l,u){bs=!1,Gu=null,VA.apply(qA,arguments)}function YA(e,t,r,n,i,a,o,l,u){if(GA.apply(this,arguments),bs){if(bs){var c=Gu;bs=!1,Gu=null}else throw Error(B(198));Yu||(Yu=!0,sp=c)}}function Pa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dx(e){if(Pa(e)!==e)throw Error(B(188))}function XA(e){var t=e.alternate;if(!t){if(t=Pa(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return dx(i),e;if(a===n)return dx(i),t;a=a.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function Fj(e){return e=XA(e),e!==null?Bj(e):null}function Bj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bj(e);if(t!==null)return t;e=e.sibling}return null}var Uj=yr.unstable_scheduleCallback,fx=yr.unstable_cancelCallback,QA=yr.unstable_shouldYield,ZA=yr.unstable_requestPaint,nt=yr.unstable_now,JA=yr.unstable_getCurrentPriorityLevel,tv=yr.unstable_ImmediatePriority,Wj=yr.unstable_UserBlockingPriority,Xu=yr.unstable_NormalPriority,eC=yr.unstable_LowPriority,Kj=yr.unstable_IdlePriority,wd=null,gn=null;function tC(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(wd,e,void 0,(e.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:iC,rC=Math.log,nC=Math.LN2;function iC(e){return e>>>=0,e===0?32:31-(rC(e)/nC|0)|0}var Vl=64,ql=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=ps(l):(a&=o,a!==0&&(n=ps(a)))}else o=r&~i,o!==0?n=ps(o):a!==0&&(n=ps(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xr(t),i=1<<r,n|=e[r],t&=~i;return n}function aC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Xr(a),l=1<<o,u=i[o];u===-1?(!(l&r)||l&n)&&(i[o]=aC(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}function lp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hj(){var e=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),e}function Yf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xr(t),e[t]=r}function sC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Xr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function rv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ke=0;function Vj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qj,nv,Gj,Yj,Xj,up=!1,Gl=[],ji=null,Si=null,Pi=null,Ms=new Map,Ds=new Map,vi=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hx(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function Xo(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ml(t),t!==null&&nv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uC(e,t,r,n,i){switch(t){case"focusin":return ji=Xo(ji,e,t,r,n,i),!0;case"dragenter":return Si=Xo(Si,e,t,r,n,i),!0;case"mouseover":return Pi=Xo(Pi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ms.set(a,Xo(Ms.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ds.set(a,Xo(Ds.get(a)||null,e,t,r,n,i)),!0}return!1}function Qj(e){var t=Yi(e.target);if(t!==null){var r=Pa(t);if(r!==null){if(t=r.tag,t===13){if(t=zj(r),t!==null){e.blockedOn=t,Xj(e.priority,function(){Gj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ip=n,r.target.dispatchEvent(n),ip=null}else return t=ml(r),t!==null&&nv(t),e.blockedOn=r,!1;t.shift()}return!0}function px(e,t,r){Ou(e)&&r.delete(t)}function cC(){up=!1,ji!==null&&Ou(ji)&&(ji=null),Si!==null&&Ou(Si)&&(Si=null),Pi!==null&&Ou(Pi)&&(Pi=null),Ms.forEach(px),Ds.forEach(px)}function Qo(e,t){e.blockedOn===t&&(e.blockedOn=null,up||(up=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,cC)))}function Ls(e){function t(i){return Qo(i,e)}if(0<Gl.length){Qo(Gl[0],e);for(var r=1;r<Gl.length;r++){var n=Gl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ji!==null&&Qo(ji,e),Si!==null&&Qo(Si,e),Pi!==null&&Qo(Pi,e),Ms.forEach(t),Ds.forEach(t),r=0;r<vi.length;r++)n=vi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vi.length&&(r=vi[0],r.blockedOn===null);)Qj(r),r.blockedOn===null&&vi.shift()}var so=Jn.ReactCurrentBatchConfig,Zu=!0;function dC(e,t,r,n){var i=ke,a=so.transition;so.transition=null;try{ke=1,iv(e,t,r,n)}finally{ke=i,so.transition=a}}function fC(e,t,r,n){var i=ke,a=so.transition;so.transition=null;try{ke=4,iv(e,t,r,n)}finally{ke=i,so.transition=a}}function iv(e,t,r,n){if(Zu){var i=cp(e,t,r,n);if(i===null)ah(e,t,n,Ju,r),hx(e,n);else if(uC(i,e,t,r,n))n.stopPropagation();else if(hx(e,n),t&4&&-1<lC.indexOf(e)){for(;i!==null;){var a=ml(i);if(a!==null&&qj(a),a=cp(e,t,r,n),a===null&&ah(e,t,n,Ju,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ah(e,t,n,null,r)}}var Ju=null;function cp(e,t,r,n){if(Ju=null,e=ev(n),e=Yi(e),e!==null)if(t=Pa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ju=e,null}function Zj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JA()){case tv:return 1;case Wj:return 4;case Xu:case eC:return 16;case Kj:return 536870912;default:return 16}default:return 16}}var xi=null,av=null,Au=null;function Jj(){if(Au)return Au;var e,t=av,r=t.length,n,i="value"in xi?xi.value:xi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Au=i.slice(e,1<n?1-n:void 0)}function Cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function mx(){return!1}function jr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yl:mx,this.isPropagationStopped=mx,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ov=jr(Co),pl=Xe({},Co,{view:0,detail:0}),hC=jr(pl),Xf,Qf,Zo,bd=Xe({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zo&&(Zo&&e.type==="mousemove"?(Xf=e.screenX-Zo.screenX,Qf=e.screenY-Zo.screenY):Qf=Xf=0,Zo=e),Xf)},movementY:function(e){return"movementY"in e?e.movementY:Qf}}),vx=jr(bd),pC=Xe({},bd,{dataTransfer:0}),mC=jr(pC),vC=Xe({},pl,{relatedTarget:0}),Zf=jr(vC),gC=Xe({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),yC=jr(gC),xC=Xe({},Co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wC=jr(xC),bC=Xe({},Co,{data:0}),gx=jr(bC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SC[e])?!!t[e]:!1}function sv(){return PC}var kC=Xe({},pl,{key:function(e){if(e.key){var t=_C[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(e){return e.type==="keypress"?Cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NC=jr(kC),EC=Xe({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yx=jr(EC),OC=Xe({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),AC=jr(OC),CC=Xe({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),TC=jr(CC),IC=Xe({},bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MC=jr(IC),DC=[9,13,27,32],lv=Fn&&"CompositionEvent"in window,_s=null;Fn&&"documentMode"in document&&(_s=document.documentMode);var LC=Fn&&"TextEvent"in window&&!_s,eS=Fn&&(!lv||_s&&8<_s&&11>=_s),xx=" ",wx=!1;function tS(e,t){switch(e){case"keyup":return DC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function RC(e,t){switch(e){case"compositionend":return rS(t);case"keypress":return t.which!==32?null:(wx=!0,xx);case"textInput":return e=t.data,e===xx&&wx?null:e;default:return null}}function $C(e,t){if(Ha)return e==="compositionend"||!lv&&tS(e,t)?(e=Jj(),Au=av=xi=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eS&&t.locale!=="ko"?null:t.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zC[e.type]:t==="textarea"}function nS(e,t,r,n){Mj(n),t=ec(t,"onChange"),0<t.length&&(r=new ov("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var js=null,Rs=null;function FC(e){pS(e,0)}function _d(e){var t=Ga(e);if(Nj(t))return e}function BC(e,t){if(e==="change")return t}var iS=!1;if(Fn){var Jf;if(Fn){var eh="oninput"in document;if(!eh){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),eh=typeof _x.oninput=="function"}Jf=eh}else Jf=!1;iS=Jf&&(!document.documentMode||9<document.documentMode)}function jx(){js&&(js.detachEvent("onpropertychange",aS),Rs=js=null)}function aS(e){if(e.propertyName==="value"&&_d(Rs)){var t=[];nS(t,Rs,e,ev(e)),$j(FC,t)}}function UC(e,t,r){e==="focusin"?(jx(),js=t,Rs=r,js.attachEvent("onpropertychange",aS)):e==="focusout"&&jx()}function WC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(Rs)}function KC(e,t){if(e==="click")return _d(t)}function HC(e,t){if(e==="input"||e==="change")return _d(t)}function VC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jr=typeof Object.is=="function"?Object.is:VC;function $s(e,t){if(Jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Vh.call(t,i)||!Jr(e[i],t[i]))return!1}return!0}function Sx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Px(e,t){var r=Sx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sx(r)}}function oS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sS(){for(var e=window,t=qu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qu(e.document)}return t}function uv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qC(e){var t=sS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&oS(r.ownerDocument.documentElement,r)){if(n!==null&&uv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Px(r,a);var o=Px(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GC=Fn&&"documentMode"in document&&11>=document.documentMode,Va=null,dp=null,Ss=null,fp=!1;function kx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fp||Va==null||Va!==qu(n)||(n=Va,"selectionStart"in n&&uv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ss&&$s(Ss,n)||(Ss=n,n=ec(dp,"onSelect"),0<n.length&&(t=new ov("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Va)))}function Xl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qa={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},th={},lS={};Fn&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function jd(e){if(th[e])return th[e];if(!qa[e])return e;var t=qa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lS)return th[e]=t[r];return e}var uS=jd("animationend"),cS=jd("animationiteration"),dS=jd("animationstart"),fS=jd("transitionend"),hS=new Map,Nx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(e,t){hS.set(e,t),Sa(t,[e])}for(var rh=0;rh<Nx.length;rh++){var nh=Nx[rh],YC=nh.toLowerCase(),XC=nh[0].toUpperCase()+nh.slice(1);$i(YC,"on"+XC)}$i(uS,"onAnimationEnd");$i(cS,"onAnimationIteration");$i(dS,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(fS,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function Ex(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YA(n,t,void 0,e),e.currentTarget=null}function pS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&i.isPropagationStopped())break e;Ex(i,l,c),a=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&i.isPropagationStopped())break e;Ex(i,l,c),a=u}}}if(Yu)throw e=sp,Yu=!1,sp=null,e}function Re(e,t){var r=t[gp];r===void 0&&(r=t[gp]=new Set);var n=e+"__bubble";r.has(n)||(mS(t,e,2,!1),r.add(n))}function ih(e,t,r){var n=0;t&&(n|=4),mS(r,e,n,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[Ql]){e[Ql]=!0,_j.forEach(function(r){r!=="selectionchange"&&(QC.has(r)||ih(r,!1,e),ih(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,ih("selectionchange",!1,t))}}function mS(e,t,r,n){switch(Zj(t)){case 1:var i=dC;break;case 4:i=fC;break;default:i=iv}r=i.bind(null,t,r,e),i=void 0,!op||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ah(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Yi(l),o===null)return;if(u=o.tag,u===5||u===6){n=a=o;continue e}l=l.parentNode}}n=n.return}$j(function(){var c=a,d=ev(r),f=[];e:{var h=hS.get(e);if(h!==void 0){var m=ov,v=e;switch(e){case"keypress":if(Cu(r)===0)break e;case"keydown":case"keyup":m=NC;break;case"focusin":v="focus",m=Zf;break;case"focusout":v="blur",m=Zf;break;case"beforeblur":case"afterblur":m=Zf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=AC;break;case uS:case cS:case dS:m=yC;break;case fS:m=TC;break;case"scroll":m=hC;break;case"wheel":m=MC;break;case"copy":case"cut":case"paste":m=wC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yx}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=Is(w,g),_!=null&&y.push(Fs(w,_,b)))),x)break;w=w.return}0<y.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==ip&&(v=r.relatedTarget||r.fromElement)&&(Yi(v)||v[Bn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=c,v=v?Yi(v):null,v!==null&&(x=Pa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=vx,_="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=yx,_="onPointerLeave",g="onPointerEnter",w="pointer"),x=m==null?h:Ga(m),b=v==null?h:Ga(v),h=new y(_,w+"leave",m,r,d),h.target=x,h.relatedTarget=b,_=null,Yi(d)===c&&(y=new y(g,w+"enter",v,r,d),y.target=b,y.relatedTarget=x,_=y),x=_,m&&v)t:{for(y=m,g=v,w=0,b=y;b;b=Da(b))w++;for(b=0,_=g;_;_=Da(_))b++;for(;0<w-b;)y=Da(y),w--;for(;0<b-w;)g=Da(g),b--;for(;w--;){if(y===g||g!==null&&y===g.alternate)break t;y=Da(y),g=Da(g)}y=null}else y=null;m!==null&&Ox(f,h,m,y,!1),v!==null&&x!==null&&Ox(f,x,v,y,!0)}}e:{if(h=c?Ga(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=BC;else if(bx(h))if(iS)S=HC;else{S=WC;var j=UC}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=KC);if(S&&(S=S(e,c))){nS(f,S,r,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Jh(h,"number",h.value)}switch(j=c?Ga(c):window,e){case"focusin":(bx(j)||j.contentEditable==="true")&&(Va=j,dp=c,Ss=null);break;case"focusout":Ss=dp=Va=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,kx(f,r,d);break;case"selectionchange":if(GC)break;case"keydown":case"keyup":kx(f,r,d)}var P;if(lv)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ha?tS(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(eS&&r.locale!=="ko"&&(Ha||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ha&&(P=Jj()):(xi=d,av="value"in xi?xi.value:xi.textContent,Ha=!0)),j=ec(c,k),0<j.length&&(k=new gx(k,e,null,r,d),f.push({event:k,listeners:j}),P?k.data=P:(P=rS(r),P!==null&&(k.data=P)))),(P=LC?RC(e,r):$C(e,r))&&(c=ec(c,"onBeforeInput"),0<c.length&&(d=new gx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=P))}pS(f,t)})}function Fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ec(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Is(e,r),a!=null&&n.unshift(Fs(e,a,i)),a=Is(e,t),a!=null&&n.push(Fs(e,a,i))),e=e.return}return n}function Da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ox(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,i?(u=Is(r,a),u!=null&&o.unshift(Fs(r,u,l))):i||(u=Is(r,a),u!=null&&o.push(Fs(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ZC=/\r\n?/g,JC=/\u0000|\uFFFD/g;function Ax(e){return(typeof e=="string"?e:""+e).replace(ZC,`
`).replace(JC,"")}function Zl(e,t,r){if(t=Ax(t),Ax(e)!==t&&r)throw Error(B(425))}function tc(){}var hp=null,pp=null;function mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vp=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,Cx=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cx<"u"?function(e){return Cx.resolve(null).then(e).catch(rT)}:vp;function rT(e){setTimeout(function(){throw e})}function oh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ls(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ls(t)}function ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var To=Math.random().toString(36).slice(2),pn="__reactFiber$"+To,Bs="__reactProps$"+To,Bn="__reactContainer$"+To,gp="__reactEvents$"+To,nT="__reactListeners$"+To,iT="__reactHandles$"+To;function Yi(e){var t=e[pn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bn]||r[pn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tx(e);e!==null;){if(r=e[pn])return r;e=Tx(e)}return t}e=r,r=e.parentNode}return null}function ml(e){return e=e[pn]||e[Bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ga(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Sd(e){return e[Bs]||null}var yp=[],Ya=-1;function zi(e){return{current:e}}function ze(e){0>Ya||(e.current=yp[Ya],yp[Ya]=null,Ya--)}function Le(e,t){Ya++,yp[Ya]=e.current,e.current=t}var Di={},Ut=zi(Di),or=zi(!1),ca=Di;function po(e,t){var r=e.type.contextTypes;if(!r)return Di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sr(e){return e=e.childContextTypes,e!=null}function rc(){ze(or),ze(Ut)}function Ix(e,t,r){if(Ut.current!==Di)throw Error(B(168));Le(Ut,t),Le(or,r)}function vS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(B(108,UA(e)||"Unknown",i));return Xe({},r,n)}function nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,ca=Ut.current,Le(Ut,e),Le(or,or.current),!0}function Mx(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=vS(e,t,ca),n.__reactInternalMemoizedMergedChildContext=e,ze(or),ze(Ut),Le(Ut,e)):ze(or),Le(or,r)}var On=null,Pd=!1,sh=!1;function gS(e){On===null?On=[e]:On.push(e)}function aT(e){Pd=!0,gS(e)}function Fi(){if(!sh&&On!==null){sh=!0;var e=0,t=ke;try{var r=On;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}On=null,Pd=!1}catch(i){throw On!==null&&(On=On.slice(e+1)),Uj(tv,Fi),i}finally{ke=t,sh=!1}}return null}var Xa=[],Qa=0,ic=null,ac=0,Nr=[],Er=0,da=null,Tn=1,In="";function Ki(e,t){Xa[Qa++]=ac,Xa[Qa++]=ic,ic=e,ac=t}function yS(e,t,r){Nr[Er++]=Tn,Nr[Er++]=In,Nr[Er++]=da,da=e;var n=Tn;e=In;var i=32-Xr(n)-1;n&=~(1<<i),r+=1;var a=32-Xr(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Tn=1<<32-Xr(t)+i|r<<i|n,In=a+e}else Tn=1<<a|r<<i|n,In=e}function cv(e){e.return!==null&&(Ki(e,1),yS(e,1,0))}function dv(e){for(;e===ic;)ic=Xa[--Qa],Xa[Qa]=null,ac=Xa[--Qa],Xa[Qa]=null;for(;e===da;)da=Nr[--Er],Nr[Er]=null,In=Nr[--Er],Nr[Er]=null,Tn=Nr[--Er],Nr[Er]=null}var vr=null,pr=null,We=!1,Kr=null;function xS(e,t){var r=Or(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Dx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vr=e,pr=ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=da!==null?{id:Tn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Or(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vr=e,pr=null,!0):!1;default:return!1}}function xp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wp(e){if(We){var t=pr;if(t){var r=t;if(!Dx(e,t)){if(xp(e))throw Error(B(418));t=ki(r.nextSibling);var n=vr;t&&Dx(e,t)?xS(n,r):(e.flags=e.flags&-4097|2,We=!1,vr=e)}}else{if(xp(e))throw Error(B(418));e.flags=e.flags&-4097|2,We=!1,vr=e}}}function Lx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function Jl(e){if(e!==vr)return!1;if(!We)return Lx(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mp(e.type,e.memoizedProps)),t&&(t=pr)){if(xp(e))throw wS(),Error(B(418));for(;t;)xS(e,t),t=ki(t.nextSibling)}if(Lx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pr=ki(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=vr?ki(e.stateNode.nextSibling):null;return!0}function wS(){for(var e=pr;e;)e=ki(e.nextSibling)}function mo(){pr=vr=null,We=!1}function fv(e){Kr===null?Kr=[e]:Kr.push(e)}var oT=Jn.ReactCurrentBatchConfig;function Jo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function eu(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rx(e){var t=e._init;return t(e._payload)}function bS(e){function t(g,w){if(e){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function r(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Ai(g,w),g.index=0,g.sibling=null,g}function a(g,w,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,w,b,_){return w===null||w.tag!==6?(w=ph(b,g.mode,_),w.return=g,w):(w=i(w,b),w.return=g,w)}function u(g,w,b,_){var S=b.type;return S===Ka?d(g,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fi&&Rx(S)===w.type)?(_=i(w,b.props),_.ref=Jo(g,w,b),_.return=g,_):(_=$u(b.type,b.key,b.props,null,g.mode,_),_.ref=Jo(g,w,b),_.return=g,_)}function c(g,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=mh(b,g.mode,_),w.return=g,w):(w=i(w,b.children||[]),w.return=g,w)}function d(g,w,b,_,S){return w===null||w.tag!==7?(w=ia(b,g.mode,_,S),w.return=g,w):(w=i(w,b),w.return=g,w)}function f(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ph(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wl:return b=$u(w.type,w.key,w.props,null,g.mode,b),b.ref=Jo(g,null,w),b.return=g,b;case Wa:return w=mh(w,g.mode,b),w.return=g,w;case fi:var _=w._init;return f(g,_(w._payload),b)}if(hs(w)||Go(w))return w=ia(w,g.mode,b,null),w.return=g,w;eu(g,w)}return null}function h(g,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(g,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wl:return b.key===S?u(g,w,b,_):null;case Wa:return b.key===S?c(g,w,b,_):null;case fi:return S=b._init,h(g,w,S(b._payload),_)}if(hs(b)||Go(b))return S!==null?null:d(g,w,b,_,null);eu(g,b)}return null}function m(g,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,l(w,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wl:return g=g.get(_.key===null?b:_.key)||null,u(w,g,_,S);case Wa:return g=g.get(_.key===null?b:_.key)||null,c(w,g,_,S);case fi:var j=_._init;return m(g,w,b,j(_._payload),S)}if(hs(_)||Go(_))return g=g.get(b)||null,d(w,g,_,S,null);eu(w,_)}return null}function v(g,w,b,_){for(var S=null,j=null,P=w,k=w=0,E=null;P!==null&&k<b.length;k++){P.index>k?(E=P,P=null):E=P.sibling;var N=h(g,P,b[k],_);if(N===null){P===null&&(P=E);break}e&&P&&N.alternate===null&&t(g,P),w=a(N,w,k),j===null?S=N:j.sibling=N,j=N,P=E}if(k===b.length)return r(g,P),We&&Ki(g,k),S;if(P===null){for(;k<b.length;k++)P=f(g,b[k],_),P!==null&&(w=a(P,w,k),j===null?S=P:j.sibling=P,j=P);return We&&Ki(g,k),S}for(P=n(g,P);k<b.length;k++)E=m(P,g,k,b[k],_),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?k:E.key),w=a(E,w,k),j===null?S=E:j.sibling=E,j=E);return e&&P.forEach(function(T){return t(g,T)}),We&&Ki(g,k),S}function y(g,w,b,_){var S=Go(b);if(typeof S!="function")throw Error(B(150));if(b=S.call(b),b==null)throw Error(B(151));for(var j=S=null,P=w,k=w=0,E=null,N=b.next();P!==null&&!N.done;k++,N=b.next()){P.index>k?(E=P,P=null):E=P.sibling;var T=h(g,P,N.value,_);if(T===null){P===null&&(P=E);break}e&&P&&T.alternate===null&&t(g,P),w=a(T,w,k),j===null?S=T:j.sibling=T,j=T,P=E}if(N.done)return r(g,P),We&&Ki(g,k),S;if(P===null){for(;!N.done;k++,N=b.next())N=f(g,N.value,_),N!==null&&(w=a(N,w,k),j===null?S=N:j.sibling=N,j=N);return We&&Ki(g,k),S}for(P=n(g,P);!N.done;k++,N=b.next())N=m(P,g,k,N.value,_),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?k:N.key),w=a(N,w,k),j===null?S=N:j.sibling=N,j=N);return e&&P.forEach(function(O){return t(g,O)}),We&&Ki(g,k),S}function x(g,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Ka&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wl:e:{for(var S=b.key,j=w;j!==null;){if(j.key===S){if(S=b.type,S===Ka){if(j.tag===7){r(g,j.sibling),w=i(j,b.props.children),w.return=g,g=w;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fi&&Rx(S)===j.type){r(g,j.sibling),w=i(j,b.props),w.ref=Jo(g,j,b),w.return=g,g=w;break e}r(g,j);break}else t(g,j);j=j.sibling}b.type===Ka?(w=ia(b.props.children,g.mode,_,b.key),w.return=g,g=w):(_=$u(b.type,b.key,b.props,null,g.mode,_),_.ref=Jo(g,w,b),_.return=g,g=_)}return o(g);case Wa:e:{for(j=b.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(g,w.sibling),w=i(w,b.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else t(g,w);w=w.sibling}w=mh(b,g.mode,_),w.return=g,g=w}return o(g);case fi:return j=b._init,x(g,w,j(b._payload),_)}if(hs(b))return v(g,w,b,_);if(Go(b))return y(g,w,b,_);eu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(g,w.sibling),w=i(w,b),w.return=g,g=w):(r(g,w),w=ph(b,g.mode,_),w.return=g,g=w),o(g)):r(g,w)}return x}var vo=bS(!0),_S=bS(!1),oc=zi(null),sc=null,Za=null,hv=null;function pv(){hv=Za=sc=null}function mv(e){var t=oc.current;ze(oc),e._currentValue=t}function bp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function lo(e,t){sc=e,hv=Za=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(hv!==e)if(e={context:e,memoizedValue:t,next:null},Za===null){if(sc===null)throw Error(B(308));Za=e,sc.dependencies={lanes:0,firstContext:e}}else Za=Za.next=e;return t}var Xi=null;function vv(e){Xi===null?Xi=[e]:Xi.push(e)}function jS(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,vv(t)):(r.next=i.next,i.next=r),t.interleaved=r,Un(e,n)}function Un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hi=!1;function gv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ni(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Un(e,r)}return i=n.interleaved,i===null?(t.next=t,vv(n)):(t.next=i.next,i.next=t),n.interleaved=t,Un(e,r)}function Tu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rv(e,r)}}function $x(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lc(e,t,r,n){var i=e.updateQueue;hi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?a=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;o=0,d=c=u=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(h=t,m=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Xe({},f,h);break e;case 2:hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ha|=o,e.lanes=o,e.memoizedState=f}}function zx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var vl={},yn=zi(vl),Us=zi(vl),Ws=zi(vl);function Qi(e){if(e===vl)throw Error(B(174));return e}function yv(e,t){switch(Le(Ws,t),Le(Us,e),Le(yn,vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tp(t,e)}ze(yn),Le(yn,t)}function go(){ze(yn),ze(Us),ze(Ws)}function PS(e){Qi(Ws.current);var t=Qi(yn.current),r=tp(t,e.type);t!==r&&(Le(Us,e),Le(yn,r))}function xv(e){Us.current===e&&(ze(yn),ze(Us))}var qe=zi(0);function uc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lh=[];function wv(){for(var e=0;e<lh.length;e++)lh[e]._workInProgressVersionPrimary=null;lh.length=0}var Iu=Jn.ReactCurrentDispatcher,uh=Jn.ReactCurrentBatchConfig,fa=0,Ge=null,lt=null,_t=null,cc=!1,Ps=!1,Ks=0,sT=0;function Rt(){throw Error(B(321))}function bv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jr(e[r],t[r]))return!1;return!0}function _v(e,t,r,n,i,a){if(fa=a,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iu.current=e===null||e.memoizedState===null?dT:fT,e=r(n,i),Ps){a=0;do{if(Ps=!1,Ks=0,25<=a)throw Error(B(301));a+=1,_t=lt=null,t.updateQueue=null,Iu.current=hT,e=r(n,i)}while(Ps)}if(Iu.current=dc,t=lt!==null&&lt.next!==null,fa=0,_t=lt=Ge=null,cc=!1,t)throw Error(B(300));return e}function jv(){var e=Ks!==0;return Ks=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ge.memoizedState=_t=e:_t=_t.next=e,_t}function Dr(){if(lt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=_t===null?Ge.memoizedState:_t.next;if(t!==null)_t=t,lt=e;else{if(e===null)throw Error(B(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},_t===null?Ge.memoizedState=_t=e:_t=_t.next=e}return _t}function Hs(e,t){return typeof t=="function"?t(e):t}function ch(e){var t=Dr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=lt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,u=null,c=a;do{var d=c.lane;if((fa&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=n):u=u.next=f,Ge.lanes|=d,ha|=d}c=c.next}while(c!==null&&c!==a);u===null?o=n:u.next=l,Jr(n,t.memoizedState)||(tr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ge.lanes|=a,ha|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dh(e){var t=Dr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Jr(a,t.memoizedState)||(tr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function kS(){}function NS(e,t){var r=Ge,n=Dr(),i=t(),a=!Jr(n.memoizedState,i);if(a&&(n.memoizedState=i,tr=!0),n=n.queue,Sv(AS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,Vs(9,OS.bind(null,r,n,i,t),void 0,null),jt===null)throw Error(B(349));fa&30||ES(r,t,i)}return i}function ES(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function OS(e,t,r,n){t.value=r,t.getSnapshot=n,CS(t)&&TS(e)}function AS(e,t,r){return r(function(){CS(t)&&TS(e)})}function CS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jr(e,r)}catch{return!0}}function TS(e){var t=Un(e,1);t!==null&&Qr(t,e,1,-1)}function Fx(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t.queue=e,e=e.dispatch=cT.bind(null,Ge,e),[t.memoizedState,e]}function Vs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function IS(){return Dr().memoizedState}function Mu(e,t,r,n){var i=fn();Ge.flags|=e,i.memoizedState=Vs(1|t,r,void 0,n===void 0?null:n)}function kd(e,t,r,n){var i=Dr();n=n===void 0?null:n;var a=void 0;if(lt!==null){var o=lt.memoizedState;if(a=o.destroy,n!==null&&bv(n,o.deps)){i.memoizedState=Vs(t,r,a,n);return}}Ge.flags|=e,i.memoizedState=Vs(1|t,r,a,n)}function Bx(e,t){return Mu(8390656,8,e,t)}function Sv(e,t){return kd(2048,8,e,t)}function MS(e,t){return kd(4,2,e,t)}function DS(e,t){return kd(4,4,e,t)}function LS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RS(e,t,r){return r=r!=null?r.concat([e]):null,kd(4,4,LS.bind(null,t,e),r)}function Pv(){}function $S(e,t){var r=Dr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zS(e,t){var r=Dr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function FS(e,t,r){return fa&21?(Jr(r,t)||(r=Hj(),Ge.lanes|=r,ha|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=r)}function lT(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=uh.transition;uh.transition={};try{e(!1),t()}finally{ke=r,uh.transition=n}}function BS(){return Dr().memoizedState}function uT(e,t,r){var n=Oi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},US(e))WS(t,r);else if(r=jS(e,t,r,n),r!==null){var i=Gt();Qr(r,e,n,i),KS(r,t,n)}}function cT(e,t,r){var n=Oi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(US(e))WS(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Jr(l,o)){var u=t.interleaved;u===null?(i.next=i,vv(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=jS(e,t,i,n),r!==null&&(i=Gt(),Qr(r,e,n,i),KS(r,t,n))}}function US(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function WS(e,t){Ps=cc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function KS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rv(e,r)}}var dc={readContext:Mr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},dT={readContext:Mr,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Mr,useEffect:Bx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Mu(4194308,4,LS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mu(4,2,e,t)},useMemo:function(e,t){var r=fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uT.bind(null,Ge,e),[n.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Fx,useDebugValue:Pv,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Fx(!1),t=e[0];return e=lT.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ge,i=fn();if(We){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),jt===null)throw Error(B(349));fa&30||ES(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Bx(AS.bind(null,n,a,e),[e]),n.flags|=2048,Vs(9,OS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=fn(),t=jt.identifierPrefix;if(We){var r=In,n=Tn;r=(n&~(1<<32-Xr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ks++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fT={readContext:Mr,useCallback:$S,useContext:Mr,useEffect:Sv,useImperativeHandle:RS,useInsertionEffect:MS,useLayoutEffect:DS,useMemo:zS,useReducer:ch,useRef:IS,useState:function(){return ch(Hs)},useDebugValue:Pv,useDeferredValue:function(e){var t=Dr();return FS(t,lt.memoizedState,e)},useTransition:function(){var e=ch(Hs)[0],t=Dr().memoizedState;return[e,t]},useMutableSource:kS,useSyncExternalStore:NS,useId:BS,unstable_isNewReconciler:!1},hT={readContext:Mr,useCallback:$S,useContext:Mr,useEffect:Sv,useImperativeHandle:RS,useInsertionEffect:MS,useLayoutEffect:DS,useMemo:zS,useReducer:dh,useRef:IS,useState:function(){return dh(Hs)},useDebugValue:Pv,useDeferredValue:function(e){var t=Dr();return lt===null?t.memoizedState=e:FS(t,lt.memoizedState,e)},useTransition:function(){var e=dh(Hs)[0],t=Dr().memoizedState;return[e,t]},useMutableSource:kS,useSyncExternalStore:NS,useId:BS,unstable_isNewReconciler:!1};function Ur(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _p(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nd={isMounted:function(e){return(e=e._reactInternals)?Pa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Oi(e),a=Ln(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ni(e,a,i),t!==null&&(Qr(t,e,i,n),Tu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Oi(e),a=Ln(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ni(e,a,i),t!==null&&(Qr(t,e,i,n),Tu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gt(),n=Oi(e),i=Ln(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ni(e,i,n),t!==null&&(Qr(t,e,n,r),Tu(t,e,n))}};function Ux(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!$s(r,n)||!$s(i,a):!0}function HS(e,t,r){var n=!1,i=Di,a=t.contextType;return typeof a=="object"&&a!==null?a=Mr(a):(i=sr(t)?ca:Ut.current,n=t.contextTypes,a=(n=n!=null)?po(e,i):Di),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nd.enqueueReplaceState(t,t.state,null)}function jp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},gv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Mr(a):(a=sr(t)?ca:Ut.current,i.context=po(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_p(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Nd.enqueueReplaceState(i,i.state,null),lc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var r="",n=t;do r+=BA(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function fh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function VS(e,t,r){r=Ln(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hc||(hc=!0,Mp=n),Sp(e,t)},r}function qS(e,t,r){r=Ln(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Sp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Sp(e,t),typeof n!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Kx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pT;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=ET.bind(null,e,t,r),t.then(e,e))}function Hx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vx(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ln(-1,1),t.tag=2,Ni(r,t,1))),r.lanes|=1),e)}var mT=Jn.ReactCurrentOwner,tr=!1;function Ht(e,t,r,n){t.child=e===null?_S(t,null,r,n):vo(t,e.child,r,n)}function qx(e,t,r,n,i){r=r.render;var a=t.ref;return lo(t,i),n=_v(e,t,r,n,a,i),r=jv(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(We&&r&&cv(t),t.flags|=1,Ht(e,t,n,i),t.child)}function Gx(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Iv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,GS(e,t,a,n,i)):(e=$u(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(o,n)&&e.ref===t.ref)return Wn(e,t,i)}return t.flags|=1,e=Ai(a,n),e.ref=t.ref,e.return=t,t.child=e}function GS(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if($s(a,n)&&e.ref===t.ref)if(tr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,Wn(e,t,i)}return Pp(e,t,r,n,i)}function YS(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(eo,fr),fr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(eo,fr),fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Le(eo,fr),fr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Le(eo,fr),fr|=n;return Ht(e,t,i,r),t.child}function XS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pp(e,t,r,n,i){var a=sr(r)?ca:Ut.current;return a=po(t,a),lo(t,i),r=_v(e,t,r,n,a,i),n=jv(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(We&&n&&cv(t),t.flags|=1,Ht(e,t,r,i),t.child)}function Yx(e,t,r,n,i){if(sr(r)){var a=!0;nc(t)}else a=!1;if(lo(t,i),t.stateNode===null)Du(e,t),HS(t,r,n),jp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Mr(c):(c=sr(r)?ca:Ut.current,c=po(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Wx(t,o,n,c),hi=!1;var h=t.memoizedState;o.state=h,lc(t,n,o,i),u=t.memoizedState,l!==n||h!==u||or.current||hi?(typeof d=="function"&&(_p(t,r,d,n),u=t.memoizedState),(l=hi||Ux(t,r,l,n,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,SS(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ur(t.type,l),o.props=c,f=t.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Mr(u):(u=sr(r)?ca:Ut.current,u=po(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Wx(t,o,n,u),hi=!1,h=t.memoizedState,o.state=h,lc(t,n,o,i);var v=t.memoizedState;l!==f||h!==v||or.current||hi?(typeof m=="function"&&(_p(t,r,m,n),v=t.memoizedState),(c=hi||Ux(t,r,c,n,h,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return kp(e,t,r,n,a,i)}function kp(e,t,r,n,i,a){XS(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Mx(t,r,!1),Wn(e,t,a);n=t.stateNode,mT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vo(t,e.child,null,a),t.child=vo(t,null,l,a)):Ht(e,t,l,a),t.memoizedState=n.state,i&&Mx(t,r,!0),t.child}function QS(e){var t=e.stateNode;t.pendingContext?Ix(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ix(e,t.context,!1),yv(e,t.containerInfo)}function Xx(e,t,r,n,i){return mo(),fv(i),t.flags|=256,Ht(e,t,r,n),t.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Ep(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZS(e,t,r){var n=t.pendingProps,i=qe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(qe,i&1),e===null)return wp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ad(o,n,0,null),e=ia(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ep(r),t.memoizedState=Np,e):kv(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return vT(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Ai(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ai(l,a):(a=ia(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ep(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Np,n}return a=e.child,e=a.sibling,n=Ai(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kv(e,t){return t=Ad({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tu(e,t,r,n){return n!==null&&fv(n),vo(t,e.child,null,r),e=kv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vT(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=fh(Error(B(422))),tu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ad({mode:"visible",children:n.children},i,0,null),a=ia(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&vo(t,e.child,null,o),t.child.memoizedState=Ep(o),t.memoizedState=Np,a);if(!(t.mode&1))return tu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(B(419)),n=fh(a,n,void 0),tu(e,t,o,n)}if(l=(o&e.childLanes)!==0,tr||l){if(n=jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Un(e,i),Qr(n,e,i,-1))}return Tv(),n=fh(Error(B(421))),tu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=OT.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pr=ki(i.nextSibling),vr=t,We=!0,Kr=null,e!==null&&(Nr[Er++]=Tn,Nr[Er++]=In,Nr[Er++]=da,Tn=e.id,In=e.overflow,da=t),t=kv(t,n.children),t.flags|=4096,t)}function Qx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bp(e.return,t,r)}function hh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function JS(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ht(e,t,n.children,r),n=qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qx(e,r,t);else if(e.tag===19)Qx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(qe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&uc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),hh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}hh(t,!0,r,null,a);break;case"together":hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Du(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=Ai(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ai(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gT(e,t,r){switch(t.tag){case 3:QS(t),mo();break;case 5:PS(t);break;case 1:sr(t.type)&&nc(t);break;case 4:yv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Le(oc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?ZS(e,t,r):(Le(qe,qe.current&1),e=Wn(e,t,r),e!==null?e.sibling:null);Le(qe,qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return JS(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(qe,qe.current),n)break;return null;case 22:case 23:return t.lanes=0,YS(e,t,r)}return Wn(e,t,r)}var e1,Op,t1,r1;e1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Op=function(){};t1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Qi(yn.current);var a=null;switch(r){case"input":i=Qh(e,i),n=Qh(e,n),a=[];break;case"select":i=Xe({},i,{value:void 0}),n=Xe({},n,{value:void 0}),a=[];break;case"textarea":i=ep(e,i),n=ep(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=tc)}rp(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cs.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var u=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Re("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};r1=function(e,t,r,n){r!==n&&(t.flags|=4)};function es(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yT(e,t,r){var n=t.pendingProps;switch(dv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return sr(t.type)&&rc(),$t(t),null;case 3:return n=t.stateNode,go(),ze(or),ze(Ut),wv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kr!==null&&(Rp(Kr),Kr=null))),Op(e,t),$t(t),null;case 5:xv(t);var i=Qi(Ws.current);if(r=t.type,e!==null&&t.stateNode!=null)t1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return $t(t),null}if(e=Qi(yn.current),Jl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[pn]=t,n[Bs]=a,e=(t.mode&1)!==0,r){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(i=0;i<ms.length;i++)Re(ms[i],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":ox(n,a),Re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Re("invalid",n);break;case"textarea":lx(n,a),Re("invalid",n)}rp(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),i=["children",""+l]):Cs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Re("scroll",n)}switch(r){case"input":Kl(n),sx(n,a,!0);break;case"textarea":Kl(n),ux(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=tc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Aj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[pn]=t,e[Bs]=n,e1(e,t,!1,!1),t.stateNode=e;e:{switch(o=np(r,n),r){case"dialog":Re("cancel",e),Re("close",e),i=n;break;case"iframe":case"object":case"embed":Re("load",e),i=n;break;case"video":case"audio":for(i=0;i<ms.length;i++)Re(ms[i],e);i=n;break;case"source":Re("error",e),i=n;break;case"img":case"image":case"link":Re("error",e),Re("load",e),i=n;break;case"details":Re("toggle",e),i=n;break;case"input":ox(e,n),i=Qh(e,n),Re("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Xe({},n,{value:void 0}),Re("invalid",e);break;case"textarea":lx(e,n),i=ep(e,n),Re("invalid",e);break;default:i=n}rp(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?Ij(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Cj(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ts(e,u):typeof u=="number"&&Ts(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cs.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Re("scroll",e):u!=null&&Xm(e,a,u,o))}switch(r){case"input":Kl(e),sx(e,n,!1);break;case"textarea":Kl(e),ux(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?io(e,!!n.multiple,a,!1):n.defaultValue!=null&&io(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=tc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)r1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=Qi(Ws.current),Qi(yn.current),Jl(t)){if(n=t.stateNode,r=t.memoizedProps,n[pn]=t,(a=n.nodeValue!==r)&&(e=vr,e!==null))switch(e.tag){case 3:Zl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pn]=t,t.stateNode=n}return $t(t),null;case 13:if(ze(qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&pr!==null&&t.mode&1&&!(t.flags&128))wS(),mo(),t.flags|=98560,a=!1;else if(a=Jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[pn]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),a=!1}else Kr!==null&&(Rp(Kr),Kr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ct===0&&(ct=3):Tv())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return go(),Op(e,t),e===null&&zs(t.stateNode.containerInfo),$t(t),null;case 10:return mv(t.type._context),$t(t),null;case 17:return sr(t.type)&&rc(),$t(t),null;case 19:if(ze(qe),a=t.memoizedState,a===null)return $t(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)es(a,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uc(e),o!==null){for(t.flags|=128,es(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(qe,qe.current&1|2),t.child}e=e.sibling}a.tail!==null&&nt()>xo&&(t.flags|=128,n=!0,es(a,!1),t.lanes=4194304)}else{if(!n)if(e=uc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),es(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!We)return $t(t),null}else 2*nt()-a.renderingStartTime>xo&&r!==1073741824&&(t.flags|=128,n=!0,es(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nt(),t.sibling=null,r=qe.current,Le(qe,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return Cv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fr&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function xT(e,t){switch(dv(t),t.tag){case 1:return sr(t.type)&&rc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),ze(or),ze(Ut),wv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xv(t),null;case 13:if(ze(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(qe),null;case 4:return go(),null;case 10:return mv(t.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var ru=!1,Ft=!1,wT=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ja(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Je(e,t,n)}else r.current=null}function Ap(e,t,r){try{r()}catch(n){Je(e,t,n)}}var Zx=!1;function bT(e,t){if(hp=Zu,e=sS(),uv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==a||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===i&&(l=o),h===a&&++d===n&&(u=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(pp={focusedElem:e,selectionRange:r},Zu=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ur(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){Je(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return v=Zx,Zx=!1,v}function ks(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ap(t,r,a)}i=i.next}while(i!==n)}}function Ed(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Cp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function n1(e){var t=e.alternate;t!==null&&(e.alternate=null,n1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[Bs],delete t[gp],delete t[nT],delete t[iT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function i1(e){return e.tag===5||e.tag===3||e.tag===4}function Jx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=tc));else if(n!==4&&(e=e.child,e!==null))for(Tp(e,t,r),e=e.sibling;e!==null;)Tp(e,t,r),e=e.sibling}function Ip(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ip(e,t,r),e=e.sibling;e!==null;)Ip(e,t,r),e=e.sibling}var Tt=null,Wr=!1;function si(e,t,r){for(r=r.child;r!==null;)a1(e,t,r),r=r.sibling}function a1(e,t,r){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(wd,r)}catch{}switch(r.tag){case 5:Ft||Ja(r,t);case 6:var n=Tt,i=Wr;Tt=null,si(e,t,r),Tt=n,Wr=i,Tt!==null&&(Wr?(e=Tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Tt.removeChild(r.stateNode));break;case 18:Tt!==null&&(Wr?(e=Tt,r=r.stateNode,e.nodeType===8?oh(e.parentNode,r):e.nodeType===1&&oh(e,r),Ls(e)):oh(Tt,r.stateNode));break;case 4:n=Tt,i=Wr,Tt=r.stateNode.containerInfo,Wr=!0,si(e,t,r),Tt=n,Wr=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ap(r,t,o),i=i.next}while(i!==n)}si(e,t,r);break;case 1:if(!Ft&&(Ja(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Je(r,t,l)}si(e,t,r);break;case 21:si(e,t,r);break;case 22:r.mode&1?(Ft=(n=Ft)||r.memoizedState!==null,si(e,t,r),Ft=n):si(e,t,r);break;default:si(e,t,r)}}function e0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wT),t.forEach(function(n){var i=AT.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Br(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Wr=!1;break e;case 3:Tt=l.stateNode.containerInfo,Wr=!0;break e;case 4:Tt=l.stateNode.containerInfo,Wr=!0;break e}l=l.return}if(Tt===null)throw Error(B(160));a1(a,o,i),Tt=null,Wr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Je(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o1(t,e),t=t.sibling}function o1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Br(t,e),sn(e),n&4){try{ks(3,e,e.return),Ed(3,e)}catch(y){Je(e,e.return,y)}try{ks(5,e,e.return)}catch(y){Je(e,e.return,y)}}break;case 1:Br(t,e),sn(e),n&512&&r!==null&&Ja(r,r.return);break;case 5:if(Br(t,e),sn(e),n&512&&r!==null&&Ja(r,r.return),e.flags&32){var i=e.stateNode;try{Ts(i,"")}catch(y){Je(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Ej(i,a),np(l,o);var c=np(l,a);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?Ij(i,f):d==="dangerouslySetInnerHTML"?Cj(i,f):d==="children"?Ts(i,f):Xm(i,d,f,c)}switch(l){case"input":Zh(i,a);break;case"textarea":Oj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?io(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?io(i,!!a.multiple,a.defaultValue,!0):io(i,!!a.multiple,a.multiple?[]:"",!1))}i[Bs]=a}catch(y){Je(e,e.return,y)}}break;case 6:if(Br(t,e),sn(e),n&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Je(e,e.return,y)}}break;case 3:if(Br(t,e),sn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(t.containerInfo)}catch(y){Je(e,e.return,y)}break;case 4:Br(t,e),sn(e);break;case 13:Br(t,e),sn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ov=nt())),n&4&&e0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ft=(c=Ft)||d,Br(t,e),Ft=c):Br(t,e),sn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(f=H=d;H!==null;){switch(h=H,m=h.child,h.tag){case 0:case 11:case 14:case 15:ks(4,h,h.return);break;case 1:Ja(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Je(n,r,y)}}break;case 5:Ja(h,h.return);break;case 22:if(h.memoizedState!==null){r0(f);continue}}m!==null?(m.return=h,H=m):r0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Tj("display",o))}catch(y){Je(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Je(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Br(t,e),sn(e),n&4&&e0(e);break;case 21:break;default:Br(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(i1(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ts(i,""),n.flags&=-33);var a=Jx(e);Ip(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Jx(e);Tp(e,l,o);break;default:throw Error(B(161))}}catch(u){Je(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _T(e,t,r){H=e,s1(e)}function s1(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var i=H,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ru;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ft;l=ru;var c=Ft;if(ru=o,(Ft=u)&&!c)for(H=i;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?n0(i):u!==null?(u.return=o,H=u):n0(i);for(;a!==null;)H=a,s1(a),a=a.sibling;H=i,ru=l,Ft=c}t0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,H=a):t0(e)}}function t0(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||Ed(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ft)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ur(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zx(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ls(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ft||t.flags&512&&Cp(t)}catch(h){Je(t,t.return,h)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function r0(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function n0(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ed(4,t)}catch(u){Je(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Je(t,i,u)}}var a=t.return;try{Cp(t)}catch(u){Je(t,a,u)}break;case 5:var o=t.return;try{Cp(t)}catch(u){Je(t,o,u)}}}catch(u){Je(t,t.return,u)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var jT=Math.ceil,fc=Jn.ReactCurrentDispatcher,Nv=Jn.ReactCurrentOwner,Ir=Jn.ReactCurrentBatchConfig,he=0,jt=null,at=null,Dt=0,fr=0,eo=zi(0),ct=0,qs=null,ha=0,Od=0,Ev=0,Ns=null,er=null,Ov=0,xo=1/0,En=null,hc=!1,Mp=null,Ei=null,nu=!1,wi=null,pc=0,Es=0,Dp=null,Lu=-1,Ru=0;function Gt(){return he&6?nt():Lu!==-1?Lu:Lu=nt()}function Oi(e){return e.mode&1?he&2&&Dt!==0?Dt&-Dt:oT.transition!==null?(Ru===0&&(Ru=Hj()),Ru):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Zj(e.type)),e):1}function Qr(e,t,r,n){if(50<Es)throw Es=0,Dp=null,Error(B(185));hl(e,r,n),(!(he&2)||e!==jt)&&(e===jt&&(!(he&2)&&(Od|=r),ct===4&&gi(e,Dt)),lr(e,n),r===1&&he===0&&!(t.mode&1)&&(xo=nt()+500,Pd&&Fi()))}function lr(e,t){var r=e.callbackNode;oC(e,t);var n=Qu(e,e===jt?Dt:0);if(n===0)r!==null&&fx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fx(r),t===1)e.tag===0?aT(i0.bind(null,e)):gS(i0.bind(null,e)),tT(function(){!(he&6)&&Fi()}),r=null;else{switch(Vj(n)){case 1:r=tv;break;case 4:r=Wj;break;case 16:r=Xu;break;case 536870912:r=Kj;break;default:r=Xu}r=m1(r,l1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function l1(e,t){if(Lu=-1,Ru=0,he&6)throw Error(B(327));var r=e.callbackNode;if(uo()&&e.callbackNode!==r)return null;var n=Qu(e,e===jt?Dt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mc(e,n);else{t=n;var i=he;he|=2;var a=c1();(jt!==e||Dt!==t)&&(En=null,xo=nt()+500,na(e,t));do try{kT();break}catch(l){u1(e,l)}while(!0);pv(),fc.current=a,he=i,at!==null?t=0:(jt=null,Dt=0,t=ct)}if(t!==0){if(t===2&&(i=lp(e),i!==0&&(n=i,t=Lp(e,i))),t===1)throw r=qs,na(e,0),gi(e,n),lr(e,nt()),r;if(t===6)gi(e,n);else{if(i=e.current.alternate,!(n&30)&&!ST(i)&&(t=mc(e,n),t===2&&(a=lp(e),a!==0&&(n=a,t=Lp(e,a))),t===1))throw r=qs,na(e,0),gi(e,n),lr(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Hi(e,er,En);break;case 3:if(gi(e,n),(n&130023424)===n&&(t=Ov+500-nt(),10<t)){if(Qu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vp(Hi.bind(null,e,er,En),t);break}Hi(e,er,En);break;case 4:if(gi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Xr(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jT(n/1960))-n,10<n){e.timeoutHandle=vp(Hi.bind(null,e,er,En),n);break}Hi(e,er,En);break;case 5:Hi(e,er,En);break;default:throw Error(B(329))}}}return lr(e,nt()),e.callbackNode===r?l1.bind(null,e):null}function Lp(e,t){var r=Ns;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=mc(e,t),e!==2&&(t=er,er=r,t!==null&&Rp(t)),e}function Rp(e){er===null?er=e:er.push.apply(er,e)}function ST(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Jr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gi(e,t){for(t&=~Ev,t&=~Od,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xr(t),n=1<<r;e[r]=-1,t&=~n}}function i0(e){if(he&6)throw Error(B(327));uo();var t=Qu(e,0);if(!(t&1))return lr(e,nt()),null;var r=mc(e,t);if(e.tag!==0&&r===2){var n=lp(e);n!==0&&(t=n,r=Lp(e,n))}if(r===1)throw r=qs,na(e,0),gi(e,t),lr(e,nt()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hi(e,er,En),lr(e,nt()),null}function Av(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(xo=nt()+500,Pd&&Fi())}}function pa(e){wi!==null&&wi.tag===0&&!(he&6)&&uo();var t=he;he|=1;var r=Ir.transition,n=ke;try{if(Ir.transition=null,ke=1,e)return e()}finally{ke=n,Ir.transition=r,he=t,!(he&6)&&Fi()}}function Cv(){fr=eo.current,ze(eo)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eT(r)),at!==null)for(r=at.return;r!==null;){var n=r;switch(dv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rc();break;case 3:go(),ze(or),ze(Ut),wv();break;case 5:xv(n);break;case 4:go();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:mv(n.type._context);break;case 22:case 23:Cv()}r=r.return}if(jt=e,at=e=Ai(e.current,null),Dt=fr=t,ct=0,qs=null,Ev=Od=ha=0,er=Ns=null,Xi!==null){for(t=0;t<Xi.length;t++)if(r=Xi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Xi=null}return e}function u1(e,t){do{var r=at;try{if(pv(),Iu.current=dc,cc){for(var n=Ge.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cc=!1}if(fa=0,_t=lt=Ge=null,Ps=!1,Ks=0,Nv.current=null,r===null||r.return===null){ct=1,qs=t,at=null;break}e:{var a=e,o=r.return,l=r,u=t;if(t=Dt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Hx(o);if(m!==null){m.flags&=-257,Vx(m,o,l,a,t),m.mode&1&&Kx(a,c,t),t=m,u=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(u),t.updateQueue=y}else v.add(u);break e}else{if(!(t&1)){Kx(a,c,t),Tv();break e}u=Error(B(426))}}else if(We&&l.mode&1){var x=Hx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Vx(x,o,l,a,t),fv(yo(u,l));break e}}a=u=yo(u,l),ct!==4&&(ct=2),Ns===null?Ns=[a]:Ns.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=VS(a,u,t);$x(a,g);break e;case 1:l=u;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ei===null||!Ei.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=qS(a,l,t);$x(a,_);break e}}a=a.return}while(a!==null)}f1(r)}catch(S){t=S,at===r&&r!==null&&(at=r=r.return);continue}break}while(!0)}function c1(){var e=fc.current;return fc.current=dc,e===null?dc:e}function Tv(){(ct===0||ct===3||ct===2)&&(ct=4),jt===null||!(ha&268435455)&&!(Od&268435455)||gi(jt,Dt)}function mc(e,t){var r=he;he|=2;var n=c1();(jt!==e||Dt!==t)&&(En=null,na(e,t));do try{PT();break}catch(i){u1(e,i)}while(!0);if(pv(),he=r,fc.current=n,at!==null)throw Error(B(261));return jt=null,Dt=0,ct}function PT(){for(;at!==null;)d1(at)}function kT(){for(;at!==null&&!QA();)d1(at)}function d1(e){var t=p1(e.alternate,e,fr);e.memoizedProps=e.pendingProps,t===null?f1(e):at=t,Nv.current=null}function f1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xT(r,t),r!==null){r.flags&=32767,at=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,at=null;return}}else if(r=yT(r,t,fr),r!==null){at=r;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ct===0&&(ct=5)}function Hi(e,t,r){var n=ke,i=Ir.transition;try{Ir.transition=null,ke=1,NT(e,t,r,n)}finally{Ir.transition=i,ke=n}return null}function NT(e,t,r,n){do uo();while(wi!==null);if(he&6)throw Error(B(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(sC(e,a),e===jt&&(at=jt=null,Dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nu||(nu=!0,m1(Xu,function(){return uo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ir.transition,Ir.transition=null;var o=ke;ke=1;var l=he;he|=4,Nv.current=null,bT(e,r),o1(r,e),qC(pp),Zu=!!hp,pp=hp=null,e.current=r,_T(r),ZA(),he=l,ke=o,Ir.transition=a}else e.current=r;if(nu&&(nu=!1,wi=e,pc=i),a=e.pendingLanes,a===0&&(Ei=null),tC(r.stateNode),lr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(hc)throw hc=!1,e=Mp,Mp=null,e;return pc&1&&e.tag!==0&&uo(),a=e.pendingLanes,a&1?e===Dp?Es++:(Es=0,Dp=e):Es=0,Fi(),null}function uo(){if(wi!==null){var e=Vj(pc),t=Ir.transition,r=ke;try{if(Ir.transition=null,ke=16>e?16:e,wi===null)var n=!1;else{if(e=wi,wi=null,pc=0,he&6)throw Error(B(331));var i=he;for(he|=4,H=e.current;H!==null;){var a=H,o=a.child;if(H.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:ks(8,d,a)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var h=d.sibling,m=d.return;if(n1(d),d===c){H=null;break}if(h!==null){h.return=m,H=h;break}H=m}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}H=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,H=o;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ks(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,H=g;break e}H=a.return}}var w=e.current;for(H=w;H!==null;){o=H;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,H=b;else e:for(o=w;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ed(9,l)}}catch(S){Je(l,l.return,S)}if(l===o){H=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,H=_;break e}H=l.return}}if(he=i,Fi(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(wd,e)}catch{}n=!0}return n}finally{ke=r,Ir.transition=t}}return!1}function a0(e,t,r){t=yo(r,t),t=VS(e,t,1),e=Ni(e,t,1),t=Gt(),e!==null&&(hl(e,1,t),lr(e,t))}function Je(e,t,r){if(e.tag===3)a0(e,e,r);else for(;t!==null;){if(t.tag===3){a0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ei===null||!Ei.has(n))){e=yo(r,e),e=qS(t,e,1),t=Ni(t,e,1),e=Gt(),t!==null&&(hl(t,1,e),lr(t,e));break}}t=t.return}}function ET(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(Dt&r)===r&&(ct===4||ct===3&&(Dt&130023424)===Dt&&500>nt()-Ov?na(e,0):Ev|=r),lr(e,t)}function h1(e,t){t===0&&(e.mode&1?(t=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):t=1);var r=Gt();e=Un(e,t),e!==null&&(hl(e,t,r),lr(e,r))}function OT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),h1(e,r)}function AT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),h1(e,r)}var p1;p1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tr=!1,gT(e,t,r);tr=!!(e.flags&131072)}else tr=!1,We&&t.flags&1048576&&yS(t,ac,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Du(e,t),e=t.pendingProps;var i=po(t,Ut.current);lo(t,r),i=_v(null,t,n,e,i,r);var a=jv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(a=!0,nc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gv(t),i.updater=Nd,t.stateNode=i,i._reactInternals=t,jp(t,n,e,r),t=kp(null,t,n,!0,a,r)):(t.tag=0,We&&a&&cv(t),Ht(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Du(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=TT(n),e=Ur(n,e),i){case 0:t=Pp(null,t,n,e,r);break e;case 1:t=Yx(null,t,n,e,r);break e;case 11:t=qx(null,t,n,e,r);break e;case 14:t=Gx(null,t,n,Ur(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ur(n,i),Pp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ur(n,i),Yx(e,t,n,i,r);case 3:e:{if(QS(t),e===null)throw Error(B(387));n=t.pendingProps,a=t.memoizedState,i=a.element,SS(e,t),lc(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=yo(Error(B(423)),t),t=Xx(e,t,n,r,i);break e}else if(n!==i){i=yo(Error(B(424)),t),t=Xx(e,t,n,r,i);break e}else for(pr=ki(t.stateNode.containerInfo.firstChild),vr=t,We=!0,Kr=null,r=_S(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mo(),n===i){t=Wn(e,t,r);break e}Ht(e,t,n,r)}t=t.child}return t;case 5:return PS(t),e===null&&wp(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,mp(n,i)?o=null:a!==null&&mp(n,a)&&(t.flags|=32),XS(e,t),Ht(e,t,o,r),t.child;case 6:return e===null&&wp(t),null;case 13:return ZS(e,t,r);case 4:return yv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vo(t,null,n,r):Ht(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ur(n,i),qx(e,t,n,i,r);case 7:return Ht(e,t,t.pendingProps,r),t.child;case 8:return Ht(e,t,t.pendingProps.children,r),t.child;case 12:return Ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Le(oc,n._currentValue),n._currentValue=o,a!==null)if(Jr(a.value,o)){if(a.children===i.children&&!or.current){t=Wn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=Ln(-1,r&-r),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),bp(a.return,r,t),l.lanes|=r;break}u=u.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),bp(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ht(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,lo(t,r),i=Mr(i),n=n(i),t.flags|=1,Ht(e,t,n,r),t.child;case 14:return n=t.type,i=Ur(n,t.pendingProps),i=Ur(n.type,i),Gx(e,t,n,i,r);case 15:return GS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ur(n,i),Du(e,t),t.tag=1,sr(n)?(e=!0,nc(t)):e=!1,lo(t,r),HS(t,n,i),jp(t,n,i,r),kp(null,t,n,!0,e,r);case 19:return JS(e,t,r);case 22:return YS(e,t,r)}throw Error(B(156,t.tag))};function m1(e,t){return Uj(e,t)}function CT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,r,n){return new CT(e,t,r,n)}function Iv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TT(e){if(typeof e=="function")return Iv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zm)return 11;if(e===Jm)return 14}return 2}function Ai(e,t){var r=e.alternate;return r===null?(r=Or(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $u(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Iv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ka:return ia(r.children,i,a,t);case Qm:o=8,i|=8;break;case qh:return e=Or(12,r,t,i|2),e.elementType=qh,e.lanes=a,e;case Gh:return e=Or(13,r,t,i),e.elementType=Gh,e.lanes=a,e;case Yh:return e=Or(19,r,t,i),e.elementType=Yh,e.lanes=a,e;case Pj:return Ad(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jj:o=10;break e;case Sj:o=9;break e;case Zm:o=11;break e;case Jm:o=14;break e;case fi:o=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Or(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ia(e,t,r,n){return e=Or(7,e,n,t),e.lanes=r,e}function Ad(e,t,r,n){return e=Or(22,e,n,t),e.elementType=Pj,e.lanes=r,e.stateNode={isHidden:!1},e}function ph(e,t,r){return e=Or(6,e,null,t),e.lanes=r,e}function mh(e,t,r){return t=Or(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IT(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mv(e,t,r,n,i,a,o,l,u){return e=new IT(e,t,r,l,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Or(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gv(a),e}function MT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function v1(e){if(!e)return Di;e=e._reactInternals;e:{if(Pa(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(sr(r))return vS(e,r,t)}return t}function g1(e,t,r,n,i,a,o,l,u){return e=Mv(r,n,!0,e,i,a,o,l,u),e.context=v1(null),r=e.current,n=Gt(),i=Oi(r),a=Ln(n,i),a.callback=t??null,Ni(r,a,i),e.current.lanes=i,hl(e,i,n),lr(e,n),e}function Cd(e,t,r,n){var i=t.current,a=Gt(),o=Oi(i);return r=v1(r),t.context===null?t.context=r:t.pendingContext=r,t=Ln(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ni(i,t,o),e!==null&&(Qr(e,i,o,a),Tu(e,i,o)),o}function vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dv(e,t){o0(e,t),(e=e.alternate)&&o0(e,t)}function DT(){return null}var y1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lv(e){this._internalRoot=e}Td.prototype.render=Lv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Cd(e,t,null,null)};Td.prototype.unmount=Lv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pa(function(){Cd(null,e,null,null)}),t[Bn]=null}};function Td(e){this._internalRoot=e}Td.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vi.length&&t!==0&&t<vi[r].priority;r++);vi.splice(r,0,e),r===0&&Qj(e)}};function Rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function s0(){}function LT(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=vc(o);a.call(c)}}var o=g1(t,n,e,0,null,!1,!1,"",s0);return e._reactRootContainer=o,e[Bn]=o.current,zs(e.nodeType===8?e.parentNode:e),pa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=vc(u);l.call(c)}}var u=Mv(e,0,!1,null,null,!1,!1,"",s0);return e._reactRootContainer=u,e[Bn]=u.current,zs(e.nodeType===8?e.parentNode:e),pa(function(){Cd(t,u,r,n)}),u}function Md(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var u=vc(o);l.call(u)}}Cd(t,o,e,i)}else o=LT(r,t,e,i,n);return vc(o)}qj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ps(t.pendingLanes);r!==0&&(rv(t,r|1),lr(t,nt()),!(he&6)&&(xo=nt()+500,Fi()))}break;case 13:pa(function(){var n=Un(e,1);if(n!==null){var i=Gt();Qr(n,e,1,i)}}),Dv(e,1)}};nv=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var r=Gt();Qr(t,e,134217728,r)}Dv(e,134217728)}};Gj=function(e){if(e.tag===13){var t=Oi(e),r=Un(e,t);if(r!==null){var n=Gt();Qr(r,e,t,n)}Dv(e,t)}};Yj=function(){return ke};Xj=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};ap=function(e,t,r){switch(t){case"input":if(Zh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Sd(n);if(!i)throw Error(B(90));Nj(n),Zh(n,i)}}}break;case"textarea":Oj(e,r);break;case"select":t=r.value,t!=null&&io(e,!!r.multiple,t,!1)}};Lj=Av;Rj=pa;var RT={usingClientEntryPoint:!1,Events:[ml,Ga,Sd,Mj,Dj,Av]},ts={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$T={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fj(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||DT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{wd=iu.inject($T),gn=iu}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RT;_r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(t))throw Error(B(200));return MT(e,t,null,r)};_r.createRoot=function(e,t){if(!Rv(e))throw Error(B(299));var r=!1,n="",i=y1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mv(e,1,!1,null,null,r,!1,n,i),e[Bn]=t.current,zs(e.nodeType===8?e.parentNode:e),new Lv(t)};_r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Fj(t),e=e===null?null:e.stateNode,e};_r.flushSync=function(e){return pa(e)};_r.hydrate=function(e,t,r){if(!Id(t))throw Error(B(200));return Md(null,e,t,!0,r)};_r.hydrateRoot=function(e,t,r){if(!Rv(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=y1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=g1(t,null,e,1,r??null,i,!1,a,o),e[Bn]=t.current,zs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Td(t)};_r.render=function(e,t,r){if(!Id(t))throw Error(B(200));return Md(null,e,t,!1,r)};_r.unmountComponentAtNode=function(e){if(!Id(e))throw Error(B(40));return e._reactRootContainer?(pa(function(){Md(null,null,e,!1,function(){e._reactRootContainer=null,e[Bn]=null})}),!0):!1};_r.unstable_batchedUpdates=Av;_r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Id(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Md(e,t,r,!1,n)};_r.version="18.3.1-next-f1338f8080-20240426";function x1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x1)}catch(e){console.error(e)}}x1(),xj.exports=_r;var $v=xj.exports,l0=$v;Hh.createRoot=l0.createRoot,Hh.hydrateRoot=l0.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(this,arguments)}var bi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bi||(bi={}));const u0="popstate";function zT(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return $p("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gc(i)}return BT(t,r,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FT(){return Math.random().toString(36).substr(2,8)}function c0(e,t){return{usr:e.state,key:e.key,idx:t}}function $p(e,t,r,n){return r===void 0&&(r=null),Gs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Io(t):t,{state:r,key:t&&t.key||n||FT()})}function gc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Io(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function BT(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=bi.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Gs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=bi.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:l,location:y.location,delta:g})}function h(x,g){l=bi.Push;let w=$p(y.location,x,g);c=d()+1;let b=c0(w,c),_=y.createHref(w);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}a&&u&&u({action:l,location:y.location,delta:1})}function m(x,g){l=bi.Replace;let w=$p(y.location,x,g);c=d();let b=c0(w,c),_=y.createHref(w);o.replaceState(b,"",_),a&&u&&u({action:l,location:y.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:gc(x);return w=w.replace(/ $/,"%20"),Ye(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let y={get action(){return l},get location(){return e(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(u0,f),u=x,()=>{i.removeEventListener(u0,f),u=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(x){return o.go(x)}};return y}var d0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d0||(d0={}));function UT(e,t,r){return r===void 0&&(r="/"),WT(e,t,r)}function WT(e,t,r,n){let i=typeof t=="string"?Io(t):t,a=wo(i.pathname||"/",r);if(a==null)return null;let o=w1(e);KT(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=tI(a);l=JT(o[u],c)}return l}function w1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Ye(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Ci([n,u.relativePath]),d=r.concat(u);a.children&&a.children.length>0&&(Ye(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),w1(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:QT(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of b1(a.path))i(a,o,u)}),t}function b1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=b1(n.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function KT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ZT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HT=/^:[\w-]+$/,VT=3,qT=2,GT=1,YT=10,XT=-2,f0=e=>e==="*";function QT(e,t){let r=e.split("/"),n=r.length;return r.some(f0)&&(n+=XT),t&&(n+=qT),r.filter(i=>!f0(i)).reduce((i,a)=>i+(HT.test(a)?VT:a===""?GT:YT),n)}function ZT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function JT(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=zp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ci([a,f.pathname]),pathnameBase:oI(Ci([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ci([a,f.pathnameBase]))}return o}function zp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=eI(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=l[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function eI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function tI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const rI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nI=e=>rI.test(e);function iI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Io(e):e,a;if(r)if(nI(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),zv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=h0(r.substring(1),"/"):a=h0(r,t)}else a=t;return{pathname:a,search:sI(n),hash:lI(i)}}function h0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fv(e,t){let r=aI(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Bv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Io(e):(i=Gs({},e),Ye(!i.pathname||!i.pathname.includes("?"),vh("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),vh("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),vh("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let u=iI(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ci=e=>e.join("/").replace(/\/\/+/g,"/"),oI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _1=["post","put","patch","delete"];new Set(_1);const cI=["get",..._1];new Set(cI);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(this,arguments)}const Dd=p.createContext(null),j1=p.createContext(null),ei=p.createContext(null),Ld=p.createContext(null),Pn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),S1=p.createContext(null);function dI(e,t){let{relative:r}=t===void 0?{}:t;Mo()||Ye(!1);let{basename:n,navigator:i}=p.useContext(ei),{hash:a,pathname:o,search:l}=Rd(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Ci([n,o])),i.createHref({pathname:u,search:l,hash:a})}function Mo(){return p.useContext(Ld)!=null}function ka(){return Mo()||Ye(!1),p.useContext(Ld).location}function P1(e){p.useContext(ei).static||p.useLayoutEffect(e)}function Do(){let{isDataRoute:e}=p.useContext(Pn);return e?kI():fI()}function fI(){Mo()||Ye(!1);let e=p.useContext(Dd),{basename:t,future:r,navigator:n}=p.useContext(ei),{matches:i}=p.useContext(Pn),{pathname:a}=ka(),o=JSON.stringify(Fv(i,r.v7_relativeSplatPath)),l=p.useRef(!1);return P1(()=>{l.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=Bv(c,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ci([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}const hI=p.createContext(null);function pI(e){let t=p.useContext(Pn).outlet;return t&&p.createElement(hI.Provider,{value:e},t)}function k1(){let{matches:e}=p.useContext(Pn),t=e[e.length-1];return t?t.params:{}}function Rd(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(ei),{matches:i}=p.useContext(Pn),{pathname:a}=ka(),o=JSON.stringify(Fv(i,n.v7_relativeSplatPath));return p.useMemo(()=>Bv(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function mI(e,t){return vI(e,t)}function vI(e,t,r,n){Mo()||Ye(!1);let{navigator:i}=p.useContext(ei),{matches:a}=p.useContext(Pn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ka(),d;if(t){var f;let x=typeof t=="string"?Io(t):t;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||Ye(!1),d=x}else d=c;let h=d.pathname||"/",m=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=UT(e,{pathname:m}),y=bI(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ci([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ci([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&y?p.createElement(Ld.Provider,{value:{location:Ys({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bi.Pop}},y):y}function gI(){let e=PI(),t=uI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:i},r):null,null)}const yI=p.createElement(gI,null);class xI extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Pn.Provider,{value:this.props.routeContext},p.createElement(S1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wI(e){let{routeContext:t,match:r,children:n}=e,i=p.useContext(Dd);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Pn.Provider,{value:t},n)}function bI(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,y=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||yI,u&&(c<0&&h===0?(NI("route-fallback"),v=!0,x=null):c===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),w=()=>{let b;return m?b=y:v?b=x:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(wI,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(xI,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var N1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(N1||{}),E1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E1||{});function _I(e){let t=p.useContext(Dd);return t||Ye(!1),t}function jI(e){let t=p.useContext(j1);return t||Ye(!1),t}function SI(e){let t=p.useContext(Pn);return t||Ye(!1),t}function O1(e){let t=SI(),r=t.matches[t.matches.length-1];return r.route.id||Ye(!1),r.route.id}function PI(){var e;let t=p.useContext(S1),r=jI(),n=O1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kI(){let{router:e}=_I(N1.UseNavigateStable),t=O1(E1.UseNavigateStable),r=p.useRef(!1);return P1(()=>{r.current=!0}),p.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ys({fromRouteId:t},a)))},[e,t])}const p0={};function NI(e,t,r){p0[e]||(p0[e]=!0)}function EI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function OI(e){let{to:t,replace:r,state:n,relative:i}=e;Mo()||Ye(!1);let{future:a,static:o}=p.useContext(ei),{matches:l}=p.useContext(Pn),{pathname:u}=ka(),c=Do(),d=Bv(t,Fv(l,a.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return p.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function AI(e){return pI(e.context)}function Kt(e){Ye(!1)}function CI(e){let{basename:t="/",children:r=null,location:n,navigationType:i=bi.Pop,navigator:a,static:o=!1,future:l}=e;Mo()&&Ye(!1);let u=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:u,navigator:a,static:o,future:Ys({v7_relativeSplatPath:!1},l)}),[u,l,a,o]);typeof n=="string"&&(n=Io(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,y=p.useMemo(()=>{let x=wo(d,u);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:v},navigationType:i}},[u,d,f,h,m,v,i]);return y==null?null:p.createElement(ei.Provider,{value:c},p.createElement(Ld.Provider,{children:r,value:y}))}function TI(e){let{children:t,location:r}=e;return mI(Fp(t),r)}new Promise(()=>{});function Fp(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,i)=>{if(!p.isValidElement(n))return;let a=[...t,i];if(n.type===p.Fragment){r.push.apply(r,Fp(n.props.children,a));return}n.type!==Kt&&Ye(!1),!n.props.index||!n.props.children||Ye(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fp(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function A1(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function II(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MI(e,t){return e.button===0&&(!t||t==="_self")&&!II(e)}function Bp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function DI(e,t){let r=Bp(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const LI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$I="6";try{window.__reactRouterVersion=$I}catch{}const zI=p.createContext({isTransitioning:!1}),FI="startTransition",m0=gj[FI];function BI(e){let{basename:t,children:r,future:n,window:i}=e,a=p.useRef();a.current==null&&(a.current=zT({window:i,v5Compat:!0}));let o=a.current,[l,u]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=p.useCallback(f=>{c&&m0?m0(()=>u(f)):u(f)},[u,c]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>EI(n),[n]),p.createElement(CI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const UI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=p.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=A1(t,LI),{basename:m}=p.useContext(ei),v,y=!1;if(typeof c=="string"&&WI.test(c)&&(v=c,UI))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=wo(_.pathname,m);_.origin===b.origin&&S!=null?c=S+_.search+_.hash:y=!0}catch{}let x=dI(c,{relative:i}),g=HI(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||g(b)}return p.createElement("a",yc({},h,{href:v||x,onClick:y||a?n:w,ref:r,target:u}))}),v0=p.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:c,children:d}=t,f=A1(t,RI),h=Rd(u,{relative:f.relative}),m=ka(),v=p.useContext(j1),{navigator:y,basename:x}=p.useContext(ei),g=v!=null&&VI(h)&&c===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,b=m.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(b=b.toLowerCase(),_=_?_.toLowerCase():null,w=w.toLowerCase()),_&&x&&(_=wo(_,x)||_);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=b===w||!o&&b.startsWith(w)&&b.charAt(S)==="/",P=_!=null&&(_===w||!o&&_.startsWith(w)&&_.charAt(w.length)==="/"),k={isActive:j,isPending:P,isTransitioning:g},E=j?n:void 0,N;typeof a=="function"?N=a(k):N=[a,j?"active":null,P?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(k):l;return p.createElement(ge,yc({},f,{"aria-current":E,className:N,ref:r,style:T,to:u,viewTransition:c}),typeof d=="function"?d(k):d)});var Up;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Up||(Up={}));var g0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));function KI(e){let t=p.useContext(Dd);return t||Ye(!1),t}function HI(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,u=Do(),c=ka(),d=Rd(e,{relative:o});return p.useCallback(f=>{if(MI(f,r)){f.preventDefault();let h=n!==void 0?n:gc(c)===gc(d);u(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[c,u,d,n,i,r,e,a,o,l])}function gl(e){let t=p.useRef(Bp(e)),r=p.useRef(!1),n=ka(),i=p.useMemo(()=>DI(n.search,r.current?null:t.current),[n.search]),a=Do(),o=p.useCallback((l,u)=>{const c=Bp(typeof l=="function"?l(i):l);r.current=!0,a("?"+c,u)},[a,i]);return[i,o]}function VI(e,t){t===void 0&&(t={});let r=p.useContext(zI);r==null&&Ye(!1);let{basename:n}=KI(Up.useViewTransitionState),i=Rd(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=wo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=wo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return zp(i.pathname,o)!=null||zp(i.pathname,a)!=null}const C1=p.createContext({explainMode:!0,setExplainMode:()=>{}});function Pt(){const e=p.useContext(C1);if(!e)throw new Error("useExplainMode must be used within ExplainModeProvider");return e}function qI({children:e,defaultOn:t=!0}){const[r,n]=p.useState(t),i=p.useCallback(a=>{n(o=>typeof a=="function"?a(o):a)},[]);return s.jsx(C1.Provider,{value:{explainMode:!!r,setExplainMode:i},children:e})}const Wp={id:"default",title:"Explain",what:"",why:"",how:"",sources:[],fields:[],links:[],lastUpdated:void 0},T1=p.createContext({isOpen:!1,open:()=>{},close:()=>{},context:Wp,setContext:()=>{}});function nn(){const e=p.useContext(T1);if(!e)throw new Error("useExplainCenter must be used within ExplainCenterProvider");return e}function xc(e){const{setContext:t,open:r}=nn();return p.useCallback(()=>{e&&(t(e),r())},[e,t,r])}function GI({children:e}){const[t,r]=p.useState(!1),[n,i]=p.useState(Wp),a=p.useCallback(()=>r(!0),[]),o=p.useCallback(()=>r(!1),[]),l=p.useCallback(u=>{i(c=>{const d=typeof u=="function"?u(c):u;return{...Wp,...c,...d}})},[]);return s.jsx(T1.Provider,{value:{isOpen:t,open:a,close:o,context:n,setContext:l},children:e})}function dt({title:e,explanation:t,reasons:r=[],action:n,className:i=""}){const{explainMode:a}=Pt();return s.jsxs("div",{className:`empty-state ${i}`.trim(),children:[s.jsx("p",{className:"empty-state-title",children:e}),n&&s.jsx("p",{className:"empty-state-action",children:n}),a&&s.jsxs(s.Fragment,{children:[t&&s.jsx("p",{className:"empty-state-explanation",children:t}),r.length>0&&s.jsxs("p",{className:"empty-state-reasons",children:[s.jsx("strong",{children:"Common reasons:"})," ",r.join(" ")]})]})]})}function en({message:e}){return s.jsxs("div",{className:"error-state",children:[s.jsx("p",{className:"error-state-message",children:e}),s.jsxs("p",{className:"error-state-action",children:[s.jsx(ge,{to:"/debug",className:"error-state-link",children:"Open Debug"})," ","to see which endpoints are failing and get diagnostics."]})]})}const YI={run_status:{short:"Whether this pipeline run finished successfully, failed, or was skipped.",long:"Run status tells you the outcome of one automated pipeline run. SUCCESS means all steps completed; FAILED means something broke; SKIPPED means the run did not execute (e.g. no new data). Use it to quickly see if you need to investigate.",what:"Run status is the outcome of one pipeline run: SUCCESS, FAIL, RUNNING, or a skip reason (e.g. no new bars).",why:"So you can see at a glance whether the pipeline ran and whether you need to look at logs or data.",how:"Read from MIP.APP.MIP_AUDIT_LOG; the completion row for each RUN_ID carries the final status.",next:"Open the run detail to see the timeline and interpreted summary."},has_new_bars:{short:"Whether new market data was available for this run.",long:"Has new bars indicates if the system had fresh price/candle data for the run. If false, the run may have skipped trading steps because there was nothing new to act on. Check this when a run seems to do nothing."},rate_limit:{short:"A cap on how often the system can run to avoid overloading.",long:"Rate limit is a safety setting that prevents the pipeline from running too frequently. If you see rate limit in skip reasons, the run was postponed until the next allowed time. This protects systems and data feeds."},latest_ts:{short:"The most recent timestamp recorded for this run or step.",long:"Latest timestamp (latest_ts) is when the last relevant event or data point occurred. It helps you see how fresh the run's inputs were and align events in time order."},skip_reasons:{short:"Why a run or step did not execute (e.g. no new data, rate limit).",long:"Skip reasons explain why a run or step was not executed. Common reasons include no new bars (no new data), rate limit (too soon since last run), or other business rules. Use these to debug why nothing ran."},error_message:{short:"The error message captured when a step failed (SQLERRM).",long:"Error message contains the actual error text from Snowflake when a pipeline step fails. This is the SQLERRM value captured in the exception handler. Use it to understand what went wrong without querying the database.",what:"The SQLERRM text from a failed SQL statement.",why:"So you can see the actual error without running SQL queries.",how:"Captured in exception handlers and stored in MIP_AUDIT_LOG.ERROR_MESSAGE."},error_sqlstate:{short:"SQL error state code from Snowflake (e.g., 02000, P0001).",long:"SQLSTATE is a 5-character code that categorizes the type of error. For example, 02000 means 'no data', P0001 means 'raise_exception'. Use it to programmatically handle error types or to search for similar errors.",what:"A 5-character SQL standard error code.",why:"Helps categorize errors and search for similar issues.",how:"Captured from :sqlstate in exception handlers and stored in MIP_AUDIT_LOG.ERROR_SQLSTATE."},error_query_id:{short:"Snowflake query ID of the failed statement.",long:"Query ID is the unique identifier Snowflake assigns to every query. When a step fails, we capture the query ID so you can look up the exact statement in QUERY_HISTORY. Use it to see the full SQL, execution plan, and detailed error info.",what:"The Snowflake QUERY_ID for the failed statement.",why:"Lets you look up the exact query in Snowflake's QUERY_HISTORY.",how:"Captured from last_query_id() in exception handlers and stored in MIP_AUDIT_LOG.ERROR_QUERY_ID.",next:"Copy the query ID and use it in: SELECT * FROM TABLE(INFORMATION_SCHEMA.QUERY_HISTORY()) WHERE QUERY_ID = '<query_id>';"},duration_ms:{short:"Time taken to execute this step in milliseconds.",long:"Duration in milliseconds shows how long a pipeline step took to execute. Use it to identify slow steps or to track performance over time. Calculated as the difference between started_at and completed_at.",what:"Execution time in milliseconds.",why:"Helps identify slow steps and track performance."},step_timeline:{short:"Ordered list of pipeline steps showing status and duration.",long:"The step timeline shows all pipeline steps in execution order. Each step shows its name, status (success/fail/skip), and duration. Failed steps are highlighted in red. Click a step to see its full details including error information.",what:"Visual timeline of all steps in a pipeline run.",why:"Quickly see which steps ran, which failed, and how long each took."},debug_sql:{short:"Pre-generated SQL queries to investigate this run in Snowflake.",long:"Debug SQL provides ready-to-use queries for investigating a run directly in Snowflake. Includes queries for all events, failed steps, and query history lookup. Copy and paste into Snowflake to get more details.",what:"Generated SQL for debugging in Snowflake.",why:"Saves time when you need to dig deeper than the UI shows.",next:"Click 'Show Debug SQL', select a query type, and copy the SQL to Snowflake."},error_details:{short:"Full error information including message, SQLSTATE, and query ID.",long:"Error details combines all captured error information for failed steps: the error message, SQLSTATE code, and query ID. Use these to diagnose issues without manually querying the audit log.",what:"Combined error message, SQLSTATE, and query ID for failed steps.",why:"One place to see everything you need to debug a failure."},run_explorer:{short:"Interactive two-pane view for exploring pipeline runs.",long:"The Run Explorer provides a left pane with filterable run list and a right pane with detailed run information. Select a run to see its summary, step timeline, error panel, and debug SQL. Failed steps are automatically highlighted."}},XI={starting_cash:{short:"Cash balance at the start of the simulation or period.",long:"Starting cash is the amount of money the portfolio had at the beginning of the run or period. It's the baseline for measuring gains and losses. Compare with final equity to see total return."},final_equity:{short:"Total portfolio value (cash + positions) at the end of the period.",long:"Final equity is the total value of the portfolio at the end of the runcash plus the value of any open positions. It's the number that matters for seeing how much the strategy made or lost."},total_return:{short:"Overall gain or loss as a percentage from start to end.",long:"Total return is the percentage change from starting value to final value. Positive means the portfolio grew; negative means it shrank. It's the main headline number for performance."},max_drawdown:{short:"Largest peak-to-trough drop in value during the period.",long:"Max drawdown is the biggest drop from a previous high to a low during the period. It shows the worst loss an investor would have seen. Lower is better; it's a key risk measure."},win_days:{short:"Number of days where the portfolio made money.",long:"Win days counts how many trading days ended with a profit. It doesn't tell you how much was made, but it gives a sense of how often the strategy is right."},loss_days:{short:"Number of days where the portfolio lost money.",long:"Loss days counts how many trading days ended with a loss. Used together with win days, it helps you see the balance of good vs bad days."},status:{short:"Current state of the portfolio (e.g. active, closed, bust).",long:"Portfolio status describes whether the portfolio is active (running), closed (manually stopped), or bust (hit a loss limit and stopped). Use it to see if the portfolio is still trading."}},QI={risk_gate:{short:"The rule that controls whether you can open new positions or only close them.",long:"The risk gate is a safety layer that limits what the portfolio can do. It has three modesNormal, Caution, and Defensiveand tells you clearly what is allowed and what to do next.",what:"The risk gate is the rule set that decides whether opening new positions is allowed or only closing/reducing positions is allowed. It reflects current risk state and drawdown limits.",why:"So you know at a glance what the system will and won't dowhether you can add risk or should only reduce itwithout reading raw codes or logs.",how:"The API normalizes risk state and risk gate views (e.g. V_PORTFOLIO_RISK_STATE, V_PORTFOLIO_RISK_GATE) into a single plain-language object: mode, entries_allowed, exits_allowed, reason_text, and what_to_do_now.",next:"Use the permission matrix and What to do now on the Portfolio Risk Gate panel to decide your next action."},mode:{short:"Current risk gate mode: Normal (full trading), Caution (warn), or Defensive (exits only).",long:"Risk gate mode tells you what the system allows right now. Normal means full trading; Caution means new positions allowed but be careful; Defensive means only closing or reducing positions, no new entries. The mode is derived from risk state and drawdown rules."},risk_status:{short:"Raw risk status from the system (e.g. OK, WARN) before it is turned into a mode.",long:"Risk status is the underlying signalOK, WARN, or similarthat the system uses to decide the gate mode. OK usually means Normal; WARN can mean Caution; combined with entries blocked it becomes Defensive.",what:"Risk status is the internal state (e.g. OK, WARN) that indicates whether the portfolio is within safe limits or approaching them.",why:"So the UI can show a human-friendly mode (Normal / Caution / Defensive) while the system still uses a simple status for logic.",how:"Read from risk state or risk gate views; the normalized object maps risk_status and entries_blocked into risk_label and mode.",next:"Look at the headline Risk Gate: Normal / Caution / Defensive to see how your status is presented."},entries_blocked:{short:"Whether new positions are currently allowed or blocked.",long:"Entries blocked means the system is not allowed to open new positions right now. It's a safety switchoften turned on after a big drawdown or when risk limits are hit. Existing positions may still be closed."},entries_allowed:{short:"Whether opening new positions is allowed.",long:"Entries allowed means the risk gate permits opening new positions. When false (Defensive mode), only closing or reducing positions is allowed. Use this with the permission matrix to see what you can do.",what:"Entries allowed is a yes/no: you are either allowed to open new positions (buy, add) or you are not. When not allowed, only closing or reducing positions is permitted.",why:"So you know immediately whether you can add exposure or must limit yourself to reducing it. No guessing from raw codes.",how:"Derived from risk state or risk gate (e.g. NOT entries_blocked, or allowed_actions = ALLOW_ENTRIES). The Portfolio panel shows it as Open new positions: Allowed or Blocked.",next:"If Allowed, you can use Suggestions to open new positions. If Blocked, follow What to do now and only close or reduce."},exits_allowed:{short:"Closing or reducing positions is always allowed when the gate is active.",long:"Exits allowed means you can always close or reduce existing positions, even when new entries are blocked. The gate never prevents unwinding riskonly adding new exposure.",what:"Exits allowed means you can close or reduce existing positions at any time. The risk gate never blocks unwindingonly adding new risk.",why:"So you know you can always reduce exposure when the gate is on. The system will not trap you in positions when you need to cut risk.",how:"The normalized risk gate sets exits_allowed to true whenever the gate is in use. The UI shows Close/reduce positions: Allowed.",next:"Use View Positions and your broker or simulator to close or reduce positions when the gate is Defensive or Caution."},drawdown_stop:{short:"A limit that pauses new entries when the portfolio has lost too much from a peak.",long:"Drawdown stop is a safety rule: when the portfolio's value has fallen too far from its high (e.g. past a set percentage), the system stops allowing new positions and may switch to Defensive mode. You can still close or reduce.",what:"Drawdown stop is the rule that says 'no new entries when loss from peak exceeds X.' It protects the portfolio from adding risk after a big drop.",why:"So losses don't snowball. Once the portfolio has hit the limit, the system stops adding exposure until conditions improve or you restart.",how:"Computed from portfolio equity vs peak; when the drop exceeds the configured threshold, entries are blocked and reason may reference drawdown (e.g. DRAWDOWN_STOP_ACTIVE).",next:"If the reason mentions drawdown, check max drawdown and equity. You can close positions or restart the episode (see Runbook) when appropriate."},allow_exits_only:{short:"Only closing positions is allowed; no new buys.",long:"Allow exits only means the portfolio can only close or reduce positions, not open new ones. It's a middle ground between full trading and a complete stop, used to reduce risk while letting the system unwind."},reason_text:{short:"Plain-language reason for the current gate state.",long:"Reason text explains in one sentence why the risk gate is in its current modee.g. within limits, drawdown hit, or safety pause. Use it to understand what triggered the state."},what_to_do_now:{short:"Actionable steps recommended for the current gate.",long:"What to do now lists concrete steps the system recommends for the current risk gate modee.g. use Suggestions, avoid opening many positions, or wait and close only. Follow these to stay aligned with risk policy.",what:"What to do now is a short list of recommended actions for the current risk gate modee.g. you can open positions normally, or only close them, or be cautious with new ones.",why:"So you have clear next steps instead of guessing. Each mode has different guidance to keep you aligned with risk policy.",how:"Built by the API from the normalized risk gate: one set of bullets for Normal, another for Caution, another for Defensive (and drawdown-specific lines when applicable).",next:"Follow the bullets on the Risk Gate panel; use Open Suggestions or View Positions as needed, and see the Runbook to restart an episode if required."},defensive_mode:{short:"Gate mode where only closing or reducing positions is allowed; no new entries.",long:"Defensive mode means the risk gate has turned on: you cannot open new positions, only close or reduce existing ones. It is used after a drawdown stop or when risk limits say no new exposure.",what:"Defensive mode is the risk gate state where entries are blocked and only exits (close or reduce) are allowed. The headline shows Defensive with a stop icon.",why:"So you know the system has paused new risk and you must limit yourself to unwinding. It protects the portfolio from adding exposure when conditions are bad.",how:"Set when entries_blocked is true or allowed_actions is ALLOW_EXITS_ONLY; the UI displays Risk Gate: Defensive and Exits only, with What to do now bullets.",next:"Do not open new positions. Use View Positions to close or reduce. See How to restart episode in the Risk Gate panel if you need to start a new episode."},stop_reason:{short:"Why trading was limited or stopped (e.g. drawdown, flat rule).",long:"Stop reason explains why the risk gate is onfor example drawdown limit hit, or a rule that says no new entries until the portfolio is flat. Use it to understand what triggered the restriction."}},ZI={eligible_signals:{short:"Number of signals that passed filters and could be acted on.",long:"Eligible signals are recommendations that passed all checks (time, score, pattern) and could be used for trading. Not all become trades; this is the pool of candidates."},filtered_by_threshold:{short:"Signals removed because they didn't meet a score or quality bar.",long:"Filtered by threshold means some signals were excluded because their score or strength was below a set bar. It's a quality filter so only stronger signals are considered."},trusted_signals:{short:"Signals that passed trust and safety checks.",long:"Trusted signals are those that passed both quality and policy checks (e.g. risk, consistency). The system only trades on trusted signals to reduce bad or risky trades."}},JI={proposed_count:{short:"Number of orders the system suggested.",long:"Proposed count is how many order suggestions were generated in this run. Not all get approved or executed; this is the first step in the pipeline."},approved_count:{short:"Number of proposed orders that were approved.",long:"Approved count is how many of the proposed orders passed validation and were okayed. Approval can be automatic or manual depending on configuration."},executed_count:{short:"Number of orders that were actually filled in the market.",long:"Executed count is how many orders were actually filled. It can be lower than approved if the market moved or orders were cancelled. This is the real trading outcome."}},eM={symbol:{short:"The ticker or identifier for the holding (e.g. stock or asset).",long:"Symbol is the market identifier for the asset you holdlike a stock ticker. It tells you which asset this position is for."},side:{short:"Long = you own the asset; Short = you owe it (sold borrowed); Flat = no position.",long:"Side describes the direction of the position. Long means you own the asset (bought it). Short means you sold it (borrowed) and owe ityou profit if the price falls. Flat means no exposure."},quantity:{short:"How many units of the asset you hold.",long:"Quantity is the number of shares or units you own in this position. It's used with price to see current value."},cost_basis:{short:"Total amount you paid for this position (used to figure gain/loss).",long:"Cost basis is the total amount originally paid for this position. When you sell, it's compared to the sale amount to calculate your gain or loss."}},tM={symbol:{short:"The ticker or identifier for the asset that was traded.",long:"Symbol is the market identifier for the asset that was bought or sold in this trade."},side:{short:"Whether the trade was a buy or a sell.",long:"Side tells you the direction: BUY means you added to the position; SELL means you reduced or closed it. It's the basic action of the trade."},quantity:{short:"How many units were bought or sold in this trade.",long:"Quantity is the number of shares or units traded. Together with price it determines the size of the trade."},price:{short:"Price per unit at which the trade was filled.",long:"Price is the per-unit execution pricewhat you actually paid or received for each share or unit. It's used with quantity to get the total value."},notional:{short:"Total value of the trade (quantity  price).",long:"Notional is the total dollar value of the tradequantity times price. It's how much money actually moved in this trade."},realized_pnl:{short:"Profit or loss locked in when the trade closed part of a position.",long:"Realized P&L is the profit or loss that was locked in when this trade closed or reduced a position. Positive means a gain; negative means a loss."}},rM={status_badge:{short:"A label showing the current state of a run, portfolio, or step.",long:"Status badges show at a glance whether something succeeded, failed, is pending, or was skipped. Hover for more detail on what that status means in this context."},system_status:{short:"API and Snowflake data backend health.",long:"Green means the API and Snowflake data backend are both reachable. Yellow means the API is up but Snowflake (where portfolios, briefs, and training data live) is not reachablecheck credentials and network. Red means the API itself is not reachablethe server may be down or unreachable."}},nM={market_type:{short:"Asset class or market (e.g. STOCK, ETF, FX).",long:"Market type is the category of assets this row applies tostocks, ETFs, or forex. It lets you filter and compare training quality by market."},symbol:{short:"Ticker or identifier for the asset (e.g. AAPL, SPY).",long:"Symbol is the ticker or code for the assetlike a stock symbol. Use it to find a specific asset's training status."},pattern_id:{short:"Identifier for the signal pattern used.",long:"Pattern ID is the internal ID of the recommendation pattern. Different patterns can have different maturity and performance."},interval_minutes:{short:"Bar interval in minutes (e.g. 1440 = daily).",long:"Interval minutes is the timeframe of the barse.g. 1440 means daily bars. Training status here is for daily (1440) only."},as_of_ts:{short:"Timestamp of the latest data used for this row.",long:"As-of timestamp is when the most recent recommendation or outcome data was recorded. It tells you how fresh this status is."},recs_total:{short:"Number of recommendations (sample size) for this group.",long:"Sample size (recs_total) is how many recommendations were generated for this market/symbol/pattern. More recommendations usually mean a more reliable maturity score."},outcomes_total:{short:"Number of evaluated outcomes across horizons.",long:"Outcomes total is how many recommendation outcomes were evaluated (e.g. did the trade hit or miss). It feeds into coverage and horizon metrics."},horizons_covered:{short:"How many time windows (1, 3, 5, 10, 20 bars) have outcome data.",long:"Horizons covered is the number of evaluation windows (1, 3, 5, 10, 20 bars) that have outcome data. All five means full horizon completeness."},coverage_ratio:{short:"Share of possible outcomes that were evaluated (01).",long:"Coverage ratio is the fraction of possible outcomes that were actually evaluated. 1.0 means every recommendation has outcomes for all horizons; lower means some are still pending."},avg_outcome_h1:{short:"Average realized return over 1-bar horizon (null if missing).",long:"Avg outcome H1 is the average return realized when holding for 1 bar after the signal. It's one of five horizon windows used to judge pattern quality."},avg_outcome_h3:{short:"Average realized return over 3-bar horizon (null if missing).",long:"Avg outcome H3 is the average return over a 3-bar holding period. Used with other horizons to see how the pattern performs at different time windows."},avg_outcome_h5:{short:"Average realized return over 5-bar horizon (null if missing).",long:"Avg outcome H5 is the average return over a 5-bar horizon. Part of the five horizon metrics that feed into maturity."},avg_outcome_h10:{short:"Average realized return over 10-bar horizon (null if missing).",long:"Avg outcome H10 is the average return over a 10-bar holding period. Longer horizons can show different behavior than short ones."},avg_outcome_h20:{short:"Average realized return over 20-bar horizon (null if missing).",long:"Avg outcome H20 is the average return over a 20-bar horizon. The longest window in the standard set; null if not yet evaluated."},maturity_score:{short:"Overall data-quality score 0100 (sample + coverage + horizons).",long:"Maturity score is a 0100 number combining how much data you have (sample size), how complete outcomes are (coverage), and how many time windows have data (horizons). Higher means more reliable."},maturity_stage:{short:"Label for maturity band (INSUFFICIENT / WARMING_UP / LEARNING / CONFIDENT).",long:"Maturity stage is a simple label: INSUFFICIENT (score &lt;25), WARMING_UP (2549), LEARNING (5074), CONFIDENT (75+). It tells you at a glance if the data is enough to trust."},reasons:{short:"Plain-language explanations for the score (what happened and why).",long:"Reasons are short explanations for why the maturity score is what it ise.g. not enough recommendations yet, or all horizons have data. Use them to understand and act."},stage_insufficient:{short:"Score &lt;25  not enough data to be reliable.",long:"INSUFFICIENT means the maturity score is under 25. There isn't enough recommendation or outcome data yet to trust this row. Run more pipelines or wait for more data."},stage_warming_up:{short:"Score 2549  data is building; confidence is growing.",long:"WARMING_UP means the score is between 25 and 49. Data is accumulating and the score is becoming more meaningful, but it's not yet strong enough to rely on fully."},stage_learning:{short:"Score 5074  enough data to learn from; score is meaningful.",long:"LEARNING means the score is between 50 and 74. There's enough data to draw conclusions and the maturity score is a useful signal. Good for monitoring and tuning."},stage_confident:{short:"Score 75+  strong data coverage and outcome completeness.",long:"CONFIDENT means the score is 75 or higher. Data coverage and outcome completeness are strong. This row's metrics are reliable for decision-making."},filter_market_type:{short:"Filter rows by market (STOCK, ETF, FX).",long:"Market type filter limits the table to one asset class. Use it to focus on stocks, ETFs, or forex."},filter_symbol:{short:"Search by symbol (ticker)  partial match.",long:"Symbol search filters rows by ticker. Type part of a symbol to narrow the list; matching is case-insensitive."}},iM={horizon_bars:{short:"Holding period in bars (e.g. 1, 3, 5, 10, 20) after the signal; for daily data, 1 bar = 1 day.",long:"Horizon bars is how many bars (e.g. days for daily data) the outcome was measured over. 1 = one bar hold; 5 = five bars. For daily data, horizon is in days. Different horizons can show different performance."},horizon_days:{short:"Horizon in days (for daily data, same as horizon_bars).",long:"For daily bars, horizon in days is the same as horizon_bars: 1 bar = 1 day, 5 bars = 5 days. Used in plain-language explanations."},n:{short:"Number of evaluated outcomes for this horizon.",long:"N is the count of outcomes (successful evaluations) for this horizon. Higher N means the mean and pct positive are based on more data."},mean_outcome:{short:"Average realized return for that horizon.",long:"Mean outcome is the average return realized when holding for this many bars after the signal. Positive means the pattern tended to make money over that horizon."},mean_realized_return:{short:"Average realized return over this horizon (decimal, e.g. 0.02 = 2%).",long:"Mean realized return is the average return actually achieved when holding for this many bars after the signal. It uses REALIZED_RETURN from evaluated outcomes. Positive means the pattern tended to make money over this horizon; the value is in decimal form (e.g. 0.02 = 2%)."},realized_return:{short:"Return from entry price to exit price over the chosen horizon (decimal).",long:"Realized return is the actual return from the entry price to the exit price at the chosen horizon. It is computed from completed evaluations only. Shown in decimal form (e.g. 0.02 = 2%)."},pct_positive:{short:"Share of outcomes that had positive return (01 as decimal, shown as 0100%).",long:"Pct positive is the fraction of evaluated outcomes where the return was positive. Higher means the pattern wins more often over this horizon."},pct_hit:{short:"Share of outcomes where HIT_FLAG was true (target hit).",long:"Pct hit is the fraction of evaluated outcomes where the hit flag was truei.e. the outcome met the pattern's target or success criterion. It is stored as 01 and shown as 0100%."},hit_rate:{short:"Hit rate: how often the move exceeded the minimum threshold (same as pct_hit).",long:"Hit rate shows how often the realized move exceeded the pattern's minimum threshold (HIT_FLAG = true). It is the same as pct_hit: the fraction of outcomes that met the success criterion."},min_outcome:{short:"Smallest realized return in the sample.",long:"Min outcome is the worst single outcome over this horizon. It shows the downside risk in the sample."},max_outcome:{short:"Largest realized return in the sample.",long:"Max outcome is the best single outcome over this horizon. Together with min, it shows the range of results."},last_recommendation_ts:{short:"Timestamp of the most recent recommendation for this symbol/pattern.",long:"Last recommendation timestamp is when the latest signal was generated. It tells you how fresh the data is for this row."}},aM={rank_score:{short:"Deterministic rank score (maturity + sample); higher is better.",long:"Rank score is the maturity score (0100) used to order suggestions. Only rows that meet the minimum sample size are shown. Higher score means more data and more reliable metrics."},suggestion_score:{short:"Transparent score: 0.6maturity + 0.2(mean_return1000) + 0.2(pct_positive100). Uses horizon 5 if present; else best of {3,5,10}.",long:"Suggestion score is computed as: require recs_total  10 and horizons_covered  3; then score = 0.6  maturity_score (from Training Status or a proxy) + 0.2  (mean_realized_return  1000) + 0.2  (pct_positive  100). We use horizon 5 when present; otherwise we choose the best available horizon from {3, 5, 10} by pct_positive (then mean return). No magicformula is deterministic and shown in the tooltip."},suggestion_score_formula:{short:"Score = 0.6maturity + 0.2(mean_return1000) + 0.2(pct_positive100). Horizon: 5 if present, else best of {3,5,10}. Requires recs  10, horizons  3.",long:"The suggestion score uses: (1) maturity_score from Training Status if available, else a proxy from recs_total and horizons_covered; (2) performance at one horizonwe use horizon 5 when present, otherwise the best available of {3, 5, 10} by pct_positive (then mean return). Formula: 0.6maturity + 0.2(mean_return1000) + 0.2(pct_positive100). Minimum: recs_total  10 and at least 3 distinct horizons (e.g. 1, 3, 5, 10, 20) must have outcome data."},why_this_is_shown:{short:"Plain-English reason this candidate appears in the list (deterministic, no LLM).",long:"Why this is shown is a fixed template filled with this row's numbers: that it meets the minimums (recs_total  10, horizons_covered  3), its maturity score and stage, and its 5-bar mean return and pct positive. It explains why this symbol/pattern is ranked and shown."},min_sample:{short:"Minimum number of recommendations required to appear in suggestions.",long:"Minimum sample is the least number of recommendations a symbol/pattern must have to be listed. It filters out very new or thin data so rankings are meaningful."},min_recs_required:{short:"recs_total  10 required for a symbol/pattern to appear in the ranked list.",long:"Minimum recs required means at least 10 recommendations must exist for this market_type/symbol/pattern_id (daily bars) before the row is shown. This avoids ranking on too little data."},min_horizons_required:{short:"At least 3 distinct horizons (e.g. 1, 3, 5, 10, 20 bars) must have outcome data.",long:"Minimum horizons required means at least 3 of the standard evaluation windows (1, 3, 5, 10, 20 bars) must have evaluated outcomes. This ensures the score uses meaningful horizon coverage."},what_history_suggests:{short:"Two-line plain-English summary from evaluated history (template-based, no LLM).",long:"What history suggests is a fixed template: line 1 = sample size and pct positive at the strongest horizon; line 2 = mean return at that horizon. It summarizes what the data showsdeterministic, not AI-generated."},how_to_interpret:{short:"How to read the horizon table and use this for research (no trading advice).",long:"How to interpret: each row is one holding period (1, 3, 5, 10, 20 bars). N = outcome count; mean = average return; pct positive = share of wins. Use this to see which horizon performed best. Research guidance onlynot execution advice."},horizon_strip:{short:"Mini strip showing pct_positive or mean_outcome for horizons 1, 3, 5, 10, 20.",long:"The horizon strip shows a compact view of performance across the five standard horizons. Each cell is either pct_positive (share of positive returns) or mean_outcome (average return). Green shades = better; red = worse. Helps compare at a glance."},explanation_summary:{short:"Plain-English summary of why this row is ranked here (no LLM).",long:"The explanation is a fixed template filled with this row's numbersrecommendations, coverage, maturity stage, and how many horizons have positive average outcomes. It is deterministic, not AI-generated."},no_trades_notice:{short:"This page does not execute or propose trades.",long:"Suggestions are informational only. No trades are placed or proposed from this page. Use Training Status and Performance Summary for analysis; execution happens elsewhere."},detail_drawer:{short:"Click a candidate to open the detail drawer with full horizon table and how to interpret.",long:"The detail drawer shows the full per-horizon table (N, mean, pct positive, min, max) and short text on how to interpret the numbers. Close by clicking outside or the close control."},sample_size:{short:"Number of recommendations (recs_total) for this symbol/patternthe sample size.",long:"Sample size is recs_total: how many recommendations were generated for this market_type/symbol/pattern_id. Shown so you know how much history the suggestion is based on."}},oM={as_of_ts:{short:"What is as-of time?",long:"As-of time is the timestamp of the data this brief was built from. It tells you how fresh the brief ise.g. the latest bar or pipeline run that fed into signals, risk, and proposals."},pipeline_run_id:{short:"What is pipeline run id?",long:"Pipeline run id is the unique identifier of the daily pipeline run that produced this brief. Use it to trace back to audit logs, order proposals, and the exact run that wrote this brief."}},sM={hero_headline:{short:"Brand and product name for the platform.",long:"Market Intelligence Platform is the name of this system. It combines daily-bar research, outcomes-based learning, and explainable suggestions for symbol/pattern candidates."},hero_subtext:{short:"Three pillars: daily-bar research, outcomes-based learning, explainable suggestions.",long:"Daily-bar research means analysis on daily candles; outcomes-based learning means the system learns from realized returns and hit rates; explainable suggestions means ranked candidates with clear metrics and tooltips, not black-box signals."},quick_actions:{short:"Shortcuts to key views: Portfolio, Morning Brief, Training Status, Suggestions.",long:"Quick actions take you directly to the most used pages: view a portfolio (default portfolio 1), read the latest morning brief, open training status by symbol/pattern, or open the ranked suggestions list."},system_at_a_glance:{short:"Summary of last pipeline run, new evaluations since run, and latest brief timestamp.",long:"System at a glance shows live metrics: when the last pipeline run completed and its status, how many new outcome evaluations were added since that run, and when the latest morning brief was generated. Helps you see if data is fresh."}},lM={today_overview:{short:"Single view: system status, portfolio situation, and today's candidates from evaluated history.",long:"Today composes the most important information into one page: is the system alive, what is the portfolio risk state, what are the top things to look at today (ranked by maturity and outcome history). Research guidance onlyno auto-trading."},today_score:{short:"Deterministic score combining maturity and outcome performance for ranking today's candidates.",long:"Today score ranks candidates: a blend of data maturity (0100) and outcome history (mean return and pct positive at 5-bar horizon). Higher score means stronger data and better historical performance. Used only to order the list."},why_this_is_shown:{short:"Plain-English reason this candidate appears in today's list (deterministic, no LLM).",long:"Why it's shown is a fixed template: ranked by data maturity and outcome history, with 5-bar horizon mean return and pct positive. It explains why this symbol/pattern is in today's top candidates."},candidate:{short:"A symbol/pattern pair from today's eligible signals, ranked by maturity and outcome history.",long:"A candidate is a symbol and pattern that appeared in today's eligible signals (V_SIGNALS_ELIGIBLE_TODAY, daily bars). It is enriched with maturity metrics and outcome performance, then ranked. Shown only if maturity stage is not INSUFFICIENT and minimum sample is met."},recent_events:{short:"Run-level portfolio events (e.g. drawdown stop, first flat).",long:"Recent events come from V_PORTFOLIO_RUN_EVENTS: markers like drawdown stop and first time flat (no positions) after a stop. They help you see what happened in recent simulation runs."},latest_brief:{short:"Most recent morning brief for the selected portfolio.",long:"Latest brief is the most recent morning brief written for this portfolio (from MORNING_BRIEF). It includes as_of_ts and pipeline_run_id. Expand to see the full brief JSON."}},uM={audit:YI,portfolio:XI,risk_gate:QI,signals:ZI,proposals:JI,positions:eM,trades:tM,ui:rM,training_status:nM,performance:iM,suggestions:aM,brief:oM,home:sM,today:lM};function fe(e,t){if(!e||!t)return null;const r=uM[e];if(!r)return null;const n=r[t];if(!n||typeof n.short!="string")return null;const i={short:n.short,long:n.long??n.short};return typeof n.what=="string"&&(i.what=n.what),typeof n.why=="string"&&(i.why=n.why),typeof n.how=="string"&&(i.how=n.how),typeof n.next=="string"&&(i.next=n.next),typeof n.calc=="string"&&(i.calc=n.calc),i}function Uv(e){if(!e||typeof e!="string")return null;const t=e.indexOf(".");if(t<=0||t===e.length-1)return null;const r=e.slice(0,t),n=e.slice(t+1);return fe(r,n)}function D({scope:e,key:t,entryKey:r,variant:n="short"}){const i=t??r,{explainMode:a}=Pt(),[o,l]=p.useState(!1),u=p.useRef(null),c=p.useRef(null),d=i!=null&&i.includes(".")?Uv(i):fe(e,i);if(p.useEffect(()=>{if(!o||!u.current||!c.current)return;const y=u.current,x=c.current,g=y.getBoundingClientRect();x.style.left=`${g.left}px`,x.style.top=`${g.bottom+4}px`},[o]),!a||!d)return null;const f=d.what||d.why||d.how,h=n==="long"?d.long:d.short,m=n==="long"&&(d.long.length>120||f),v=m&&o&&(f?s.jsxs("span",{ref:c,className:"info-tooltip-popover info-tooltip-popover--structured",role:"tooltip",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[d.what&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"What:"})," ",d.what,s.jsx("br",{})]}),d.why&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Why:"})," ",d.why,s.jsx("br",{})]}),d.how&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"How:"})," ",d.how,s.jsx("br",{})]}),d.next&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Next:"})," ",d.next]})]}):s.jsx("span",{ref:c,className:"info-tooltip-popover",role:"tooltip",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:d.long}));return s.jsxs("span",{className:"info-tooltip-wrap",ref:u,children:[s.jsx("span",{className:"info-tooltip-icon",title:m?d.short:h,onMouseEnter:()=>m&&l(!0),onMouseLeave:()=>m&&l(!1),onFocus:()=>m&&l(!0),onBlur:()=>m&&l(!1),tabIndex:0,role:"img","aria-label":"More info",children:"?"}),m&&o&&v]})}function xr({message:e="Loading",className:t=""}){return s.jsx("div",{className:`loading-state ${t}`.trim(),role:"status","aria-live":"polite",children:s.jsx("p",{className:"loading-state-message",children:e})})}const gh={id:"home",title:"Home",what:"This page is your entry point: hero, quick actions to Portfolio and Morning Brief and Training and Suggestions, and a system-at-a-glance summary of the last pipeline run, new evaluations, and latest brief.",why:"So you can see at a glance whether the system is alive and jump to the right place without hunting through the menu.",how:"Live metrics come from GET /live/metrics (MIP_AUDIT_LOG for last run, MORNING_BRIEF for latest brief, RECOMMENDATION_OUTCOMES for counts). Quick action cards link to Portfolio (id 1), Brief, Training Status, and Suggestions.",sources:[{object:"MIP.APP.MIP_AUDIT_LOG",purpose:"Last pipeline run and status."},{object:"MIP.AGENT_OUT.MORNING_BRIEF",purpose:"Latest brief as-of timestamp per portfolio."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Total outcomes and count since last run."}],fields:[{key:"last_run",label:"Last pipeline run",meaning:"When the last daily pipeline run completed and its status.",glossaryKey:"live.last_pipeline_run"},{key:"since_last_run",label:"New evaluations since last run",meaning:"Number of outcome rows calculated after the last run completed.",glossaryKey:"live.new_evaluations_since_last_run"},{key:"latest_brief",label:"Latest brief (as-of)",meaning:"When the most recent morning brief was generated for the selected portfolio.",glossaryKey:"live.data_freshness"}]},cM={id:"portfolio",title:"Portfolio",what:"Shows portfolio list and detail: positions, trades, and run-level KPIs when available.",why:"So you can see what you hold, what was traded, and how the portfolio performed over a run.",how:"Data is read from Portfolio and related tables; KPIs may come from MART views. Daily bars only where applicable.",sources:[{object:"MIP.APP.PORTFOLIO",purpose:"Portfolio metadata and status."},{object:"MIP.APP.PORTFOLIO_POSITIONS",purpose:"Current positions."},{object:"MIP.APP.PORTFOLIO_TRADES",purpose:"Trade history."},{object:"MIP.MART.V_PORTFOLIO_RUN_KPIS",purpose:"Run-level KPIs when used."}],fields:[{key:"portfolio_id",label:"Portfolio ID",meaning:"Unique identifier for the portfolio."},{key:"status",label:"Status",meaning:"Current state (e.g. active, closed).",glossaryKey:"portfolio.status"},{key:"final_equity",label:"Final equity",meaning:"Total value at end of run.",glossaryKey:"portfolio.final_equity"},{key:"total_return",label:"Total return",meaning:"Percentage gain or loss from start to end.",glossaryKey:"portfolio.total_return"}]},dM={id:"risk_gate",title:"Risk Gate",what:"The Risk Gate is the rule set that controls whether the portfolio can open new positions or only close or reduce existing ones. It has three modesNormal (full trading), Caution (warn but entries allowed), and Defensive (exits only)so you always know what is allowed.",why:"So you see at a glance what the system will and won't do: whether you can add risk or should only reduce it. No guessing from raw codes or logs.",how:"The API reads V_PORTFOLIO_RISK_GATE and V_PORTFOLIO_RISK_STATE, then normalizes them into a single plain-language object: mode, entries_allowed, exits_allowed, reason_text, and what_to_do_now. The UI shows the permission matrix and recommended actions.",sources:[{object:"MIP.MART.V_PORTFOLIO_RISK_GATE",purpose:"Risk gate state per portfolio (e.g. entries blocked, allowed actions)."},{object:"MIP.MART.V_PORTFOLIO_RISK_STATE",purpose:"Risk state and stop reason (ALLOWED_ACTIONS, STOP_REASON, RISK_STATUS). Preferred when present; combined with risk gate for normalized output."}],fields:[{key:"entries_allowed",label:"Entries allowed",meaning:"Whether opening new positions (buy, add) is allowed. When false, only closing or reducing positions is permitted.",calc:"Derived from ENTRIES_BLOCKED: entries_allowed = NOT entries_blocked. Also respects ALLOWED_ACTIONS from risk state (ALLOW_ENTRIES vs ALLOW_EXITS_ONLY).",glossaryKey:"risk_gate.entries_allowed"},{key:"exits_only",label:"Exits only",meaning:"Mode where only closing or reducing positions is allowed; no new entries. The gate never blocks unwindingyou can always reduce exposure.",calc:'Shown when mode = ALLOW_EXITS_ONLY (from risk state) or when entries are blocked. UI subtext displays "Exits only" and permission matrix shows Open new positions: Blocked.',glossaryKey:"risk_gate.defensive_mode"},{key:"drawdown_stop",label:"Drawdown stop",meaning:"A safety rule that pauses new entries when the portfolio has lost too much from its peak (e.g. past a set percentage). You can still close or reduce positions.",calc:"Exists to prevent losses from snowballing: once the drop exceeds the configured threshold, the system stops adding exposure until conditions improve or you restart the episode. Reason code may be DRAWDOWN_STOP_ACTIVE.",glossaryKey:"risk_gate.drawdown_stop"},{key:"mode",label:"Mode (Normal / Caution / Defensive)",meaning:"Human-friendly label: Normal = full trading, Caution = be careful with new positions, Defensive = exits only.",calc:"Derived from risk_status and entries_blocked: Defensive when entries blocked or ALLOW_EXITS_ONLY; Caution when RISK_STATUS = WARN; else Normal.",glossaryKey:"risk_gate.mode"},{key:"reason_text",label:"Reason text",meaning:"One-sentence plain-language reason for the current gate state (e.g. within limits, drawdown hit, safety pause).",glossaryKey:"risk_gate.reason_text"},{key:"what_to_do_now",label:"What to do now",meaning:"Bullet list of recommended actions for the current modee.g. use Suggestions, avoid opening many positions, or only close/reduce.",glossaryKey:"risk_gate.what_to_do_now"}]},fM={id:"runs",title:"Run Explorer",what:"Two-pane explorer for pipeline runs. Left pane lists runs with filters; right pane shows selected run details including step timeline, error panel, and debug SQL.",why:"So you can confirm the pipeline ran, diagnose failures without SQL digging, see which step failed and what was skipped, and copy error details for debugging.",how:"Runs are read from MIP_AUDIT_LOG (EVENT_TYPE=PIPELINE, EVENT_NAME=SP_RUN_DAILY_PIPELINE). Steps come from PIPELINE_STEP events. Error details include SQLSTATE, query ID, and context. Debug SQL is auto-generated for the selected run.",sources:[{object:"MIP.APP.MIP_AUDIT_LOG",purpose:"Pipeline runs and steps; RUN_ID, EVENT_TS, STATUS, ERROR_MESSAGE, ERROR_SQLSTATE, ERROR_QUERY_ID, DURATION_MS, DETAILS."},{object:"INFORMATION_SCHEMA.QUERY_HISTORY",purpose:"Query details for failed queries (via ERROR_QUERY_ID)."}],fields:[{key:"run_id",label:"Run ID",meaning:"Unique identifier for the pipeline run. Click to copy."},{key:"started_at",label:"Started at",meaning:"When the run started."},{key:"completed_at",label:"Completed at",meaning:"When the run finished."},{key:"status",label:"Status",meaning:"Outcome: SUCCESS, FAIL, RUNNING, or skip reason.",glossaryKey:"audit.run_status"},{key:"duration_ms",label:"Duration",meaning:"Time taken for a step in milliseconds."},{key:"error_message",label:"Error Message",meaning:"The SQLERRM captured when a step failed."},{key:"error_sqlstate",label:"SQLSTATE",meaning:"SQL error state code from Snowflake (e.g., 02000 for no data)."},{key:"error_query_id",label:"Query ID",meaning:"Snowflake query ID of the failed statement. Use to look up in QUERY_HISTORY."},{key:"step_timeline",label:"Step Timeline",meaning:"Ordered list of pipeline steps. Click a step to see its details."},{key:"debug_sql",label:"Debug SQL",meaning:"Pre-generated SQL queries to investigate this run in Snowflake."},{key:"run_explorer",label:"Run Explorer",meaning:"Interactive view for exploring pipeline runs and diagnosing issues."},{key:"error_details",label:"Error Details",meaning:"Full error information including message, SQLSTATE, and query ID for failed steps."}]},hM={id:"brief",title:"Morning Brief",what:"Shows the latest morning brief for the selected portfolio: as-of time, pipeline run id, and the full brief content.",why:"So you can read the narrative and signals the system produced for that portfolio.",how:"Fetched from MORNING_BRIEF by portfolio_id; as_of_ts and pipeline_run_id come from the row or from the brief JSON attribution.",sources:[{object:"MIP.AGENT_OUT.MORNING_BRIEF",purpose:"Latest brief per portfolio; AS_OF_TS, PIPELINE_RUN_ID, BRIEF JSON."}],fields:[{key:"as_of_ts",label:"As-of timestamp",meaning:"When the brief was built.",glossaryKey:"brief.as_of_ts"},{key:"pipeline_run_id",label:"Pipeline run ID",meaning:"Run that produced this brief.",glossaryKey:"brief.pipeline_run_id"}]},pM={id:"training",title:"Training Status",what:"Shows how much evaluated history we have per symbol/pattern: maturity score, stage, sample size, outcomes, horizons covered, and coverage ratio.",why:"So you can see which symbol/pattern combinations have enough data to trust and which are still warming up.",how:"Daily bars only. Outcomes use EVAL_STATUS=COMPLETED; realized return is computed from entry to exit. Maturity combines recs, outcomes, and horizon coverage; optional TRAINING_GATE_PARAMS for thresholds.",sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Recommendations per symbol/pattern/interval."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Evaluated outcomes (REALIZED_RETURN, HIT_FLAG, EVAL_STATUS)."},{object:"MIP.APP.TRAINING_GATE_PARAMS",purpose:"Optional thresholds (e.g. MIN_SIGNALS) when used."}],fields:[{key:"maturity_score",label:"Maturity score",meaning:"0100 score from sample size, coverage, and horizons.",glossaryKey:"training_status.maturity_score"},{key:"maturity_stage",label:"Maturity stage",meaning:"Label: INSUFFICIENT, WARMING_UP, LEARNING, CONFIDENT.",glossaryKey:"training_status.maturity_stage"},{key:"recs_total",label:"Recs total",meaning:"Number of recommendations for this group.",glossaryKey:"training_status.recs_total"},{key:"outcomes_total",label:"Outcomes total",meaning:"Number of evaluated outcomes.",glossaryKey:"training_status.outcomes_total"},{key:"horizons_covered",label:"Horizons covered",meaning:"How many time windows (1, 3, 5, 10, 20 bars) have data.",glossaryKey:"training_status.horizons_covered"},{key:"coverage_ratio",label:"Coverage ratio",meaning:"Share of possible outcomes that were evaluated (01).",glossaryKey:"training_status.coverage_ratio"}]},yh={id:"suggestions",title:"Suggestions",what:"Ranked symbol/pattern candidates from evaluated outcome history. Strong candidates (recs  10, horizons  3) and early signals (recs  3, horizons  3) with clear labels.",why:"So you can see which symbol/pattern combinations have the best combination of data maturity and historical performance, without executing trades.",how:"Data from /performance/summary (RECOMMENDATION_LOG + RECOMMENDATION_OUTCOMES, daily bars, EVAL_STATUS completed). Score = 0.6maturity + 0.2(mean_return1000) + 0.2(pct_positive100). Early signals use effective_score = score  min(1, recs/10).",sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Recommendations (daily bars)."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Realized return and hit flag per horizon."}],fields:[{key:"suggestion_score",label:"Suggestion score",meaning:"Blend of maturity and 5-bar mean return and pct positive.",glossaryKey:"suggestions.suggestion_score"},{key:"effective_score",label:"Effective score",meaning:"Score downweighted for early signals: score  min(1, recs/10).",glossaryKey:"suggestions.effective_score"},{key:"recs_total",label:"Sample size (recs total)",meaning:"Number of recommendations for this symbol/pattern.",glossaryKey:"suggestions.sample_size"},{key:"strong_candidate",label:"Strong candidate",meaning:"recs  10 and horizons  3.",glossaryKey:"suggestions.strong_candidate"},{key:"early_signal",label:"Early signal",meaning:"recs  3 and horizons  3 but fewer than 10 recs; low confidence.",glossaryKey:"suggestions.early_signal"}]},mM={id:"today",title:"Today",what:"Composition view: system status, portfolio situation, and todays candidates from evaluated history.",why:"So you can see in one place whether the system is alive, what the portfolio looks like, and which symbol/pattern candidates are worth looking at today.",how:"Data is composed from status, portfolios, briefs, and training/signals; daily bars only. Candidates are ranked by maturity and outcome history.",sources:[{object:"MIP.APP.MIP_AUDIT_LOG",purpose:"Last pipeline run status."},{object:"MIP.APP.PORTFOLIO",purpose:"Portfolio list and risk state."},{object:"MIP.AGENT_OUT.MORNING_BRIEF",purpose:"Latest brief when used."}],fields:[]},vM={id:"debug",title:"Debug",what:"Route smoke checks: tests that each API endpoint responds.",why:"So you can quickly see which endpoints are reachable and which fail.",how:"Each row calls one API route; green means OK, red means error. No Snowflake objects; API only.",sources:[],fields:[]};function gM(e,t){return{id:"suggestions-evidence",title:`Suggestions: ${t?`${t}-day horizon`:"Selected horizon"}`,what:`Evidence drawer for this symbol/pattern at ${t||"?"} bars: what history suggests, horizon strip, distribution of realized returns, and confidence.`,why:"So you can see the full picture for one candidate before deciding where to look next.",how:`Daily bars only. Realized return = (exit price - entry price) / entry price over ${t||"N"} bars. Distribution comes from GET /performance/distribution (RECOMMENDATION_OUTCOMES, EVAL_STATUS=COMPLETED).`,sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Recommendations for this symbol/pattern."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Realized return per outcome; CALCULATED_AT for freshness."}],fields:[{key:"horizon_bars",label:"Horizon (bars)",meaning:"Holding period in bars (e.g. 5 = 5 days for daily).",glossaryKey:"performance.horizon_bars"},{key:"realized_return",label:"Realized return",meaning:"Return from entry to exit over this horizon (decimal).",glossaryKey:"performance.realized_return",calc:" (exit - entry) / entry"},{key:"pct_positive",label:"% positive",meaning:"Share of outcomes with positive return.",glossaryKey:"performance.pct_positive"},{key:"mean_realized_return",label:"Mean realized return",meaning:"Average return over this horizon.",glossaryKey:"performance.mean_realized_return"},{key:"distribution",label:"Distribution chart",meaning:"Histogram of realized returns for this horizon; shows spread of outcomes."}]}}const li="today",y0="risk_gate",x0="training_status",w0="performance";function au(e,t){var r;return(e==null?void 0:e[t])??(e==null?void 0:e[(r=t==null?void 0:t.toUpperCase)==null?void 0:r.call(t)])??null}function yM(){var S;const[e,t]=gl(),r=e.get("portfolio_id"),n=r?parseInt(r,10):null,{portfolios:i,defaultPortfolioId:a,loading:o}=Fy(),{explainMode:l}=Pt(),[u,c]=p.useState(null),[d,f]=p.useState(!0),[h,m]=p.useState(null),{setContext:v}=nn();if(p.useEffect(()=>{r!=null||o||a==null||t({portfolio_id:String(a)},{replace:!0})},[a,r,o,t]),p.useEffect(()=>{v(mM)},[v]),p.useEffect(()=>{let j=!1;f(!0),m(null);const P=n!=null?`${ae}/today?portfolio_id=${encodeURIComponent(n)}`:`${ae}/today`;return fetch(P).then(k=>k.ok?k.json():Promise.reject(new Error(k.statusText||"Failed to load"))).then(k=>{j||c(k)}).catch(k=>{j||m(k.message)}).finally(()=>{j||f(!1)}),()=>{j=!0}},[n]),d)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Today"}),s.jsx(xr,{message:"Loading system status and todays view"})]});if(h)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Today"}),s.jsx(en,{message:h})]});const y=(u==null?void 0:u.status)??{},x=(u==null?void 0:u.portfolio)??null,g=(u==null?void 0:u.brief)??null,w=Array.isArray(u==null?void 0:u.insights)?u.insights:[],b=y.snowflake_ok===!0,_=y.message??(b?"OK":"Data backend not reachable");return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Today"}),l&&s.jsxs("p",{className:"today-intro",children:["One view: system status, portfolio situation, and todays candidates from evaluated history. Research guidance onlyno auto-trading.",s.jsx(D,{scope:li,entryKey:"today_overview",variant:"short"})]}),s.jsxs("section",{className:"today-status-line","aria-label":"System status",children:[s.jsx("span",{className:`today-status-dot ${b?"today-status-dot--ok":"today-status-dot--degraded"}`,"aria-hidden":"true"}),s.jsx("span",{className:"today-status-message",children:_}),s.jsx(D,{scope:"ui",entryKey:"system_status",variant:"short"}),i.length>0&&s.jsxs("label",{className:"today-portfolio-picker",children:[s.jsx("span",{className:"today-portfolio-picker-label",children:"Portfolio:"}),s.jsxs("select",{value:n!=null?String(n):"",onChange:j=>{const P=j.target.value;t(P?{portfolio_id:P}:{})},"aria-label":"Select portfolio",children:[s.jsx("option",{value:"",children:""}),i.map(j=>{const P=j.PORTFOLIO_ID??j.portfolio_id;return s.jsx("option",{value:String(P),children:j.NAME??j.name??P},P)})]})]})]}),!b&&s.jsx("div",{className:"today-degraded-notice",children:s.jsx("p",{children:"Snowflake is unreachable. Portfolio, brief, and insights are unavailable until the connection is restored."})}),s.jsxs("div",{className:"today-grid",children:[s.jsxs("section",{className:"today-portfolio","aria-label":"Portfolio situation",children:[s.jsx("h2",{children:"Portfolio situation"}),n==null&&!o?s.jsx(dt,{title:"No portfolio selected",explanation:"Select a portfolio from the dropdown below or add ?portfolio_id=<id> to the URL. When portfolios exist, the first active one is selected by default.",reasons:["Use the portfolio selector below or /today?portfolio_id=<id> to load a specific portfolio."]}):n!=null&&!x?s.jsx(dt,{title:"No portfolio data",explanation:"Risk state and events could not be loaded for this portfolio.",reasons:["Portfolio may not exist.","Snowflake may be unreachable."]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"today-card today-card-risk",children:[s.jsxs("h3",{children:["Risk gate status ",s.jsx(D,{scope:y0,entryKey:"entries_blocked",variant:"short"})]}),(()=>{const j=x.risk_gate&&x.risk_gate[0]||x.risk_state&&x.risk_state[0],P=(j==null?void 0:j.ENTRIES_BLOCKED)??(j==null?void 0:j.entries_blocked)??!1,k=(j==null?void 0:j.STOP_REASON)??(j==null?void 0:j.stop_reason)??(j==null?void 0:j.BLOCK_REASON)??(j==null?void 0:j.block_reason),E=P?"Entries blocked but exits allowed.":"Trading allowed.";return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"today-risk-summary",children:s.jsx("strong",{children:E})}),P&&s.jsx(D,{scope:y0,entryKey:"allow_exits_only",variant:"short"}),k!=null&&String(k)!==""&&s.jsxs("p",{className:"today-risk-reason",children:["Reason: ",String(k)]})]})})()]}),s.jsxs("div",{className:"today-card today-card-events",children:[s.jsxs("h3",{children:["Recent events ",s.jsx(D,{scope:li,entryKey:"recent_events",variant:"short"})]}),((S=x.run_events)==null?void 0:S.length)>0?s.jsx("ul",{className:"today-events-list",children:x.run_events.slice(0,10).map((j,P)=>s.jsxs("li",{children:["Run ",au(j,"RUN_ID")??au(j,"run_id"),"  ",au(j,"STOP_REASON")??au(j,"stop_reason")??""]},P))}):s.jsx("p",{className:"today-empty-inline",children:"No recent run events."})]})]})]}),s.jsxs("section",{className:"today-insights","aria-label":"Today's insights",children:[s.jsxs("h2",{children:["Todays insights ",s.jsx(D,{scope:li,entryKey:"candidate",variant:"short"})]}),w.length===0?s.jsx(dt,{title:"No candidates to show",explanation:"Candidates are symbol/pattern pairs from todays eligible signals, ranked by maturity and outcome history. None met the filter (e.g. maturity stage not INSUFFICIENT, minimum recs).",reasons:["No eligible signals for today (INTERVAL_MINUTES=1440).","All candidates filtered out (maturity or sample).","Pipeline has not run yet."]}):s.jsx("ul",{className:"today-insights-list",children:w.map((j,P)=>{var k,E,N,T;return s.jsxs("li",{className:"today-insight-card",children:[s.jsxs("div",{className:"today-insight-header",children:[s.jsxs("span",{className:"today-insight-rank",children:["#",P+1]}),s.jsx("span",{className:"today-insight-symbol",children:j.symbol??""}),s.jsxs("span",{className:"today-insight-pattern",children:["pattern ",j.pattern_id??""]}),s.jsx("span",{className:"today-insight-market",children:j.market_type??""}),s.jsx("span",{className:`today-insight-stage today-insight-stage--${(j.maturity_stage??"").toLowerCase().replace("_","-")}`,title:l?(k=fe(x0,j.maturity_stage==="INSUFFICIENT"?"stage_insufficient":j.maturity_stage==="CONFIDENT"?"stage_confident":"maturity_stage"))==null?void 0:k.short:void 0,children:j.maturity_stage??""}),s.jsx(D,{scope:x0,entryKey:"maturity_stage",variant:"short"}),s.jsxs("span",{className:"today-insight-score",title:l?(E=fe(li,"today_score"))==null?void 0:E.short:void 0,children:["Today score: ",j.today_score!=null?Number(j.today_score).toFixed(2):""]}),s.jsx(D,{scope:li,entryKey:"today_score",variant:"short"})]}),s.jsx("div",{className:"today-insight-maturity-bar",children:s.jsx("div",{className:"today-insight-maturity-fill",style:{width:`${Math.min(100,Math.max(0,j.maturity_score??0))}%`},role:"progressbar","aria-valuenow":j.maturity_score??0,"aria-valuemin":0,"aria-valuemax":100})}),s.jsxs("p",{className:"today-insight-what",title:l?(N=fe(w0,"mean_outcome"))==null?void 0:N.short:void 0,children:["What history suggests: maturity score ",j.maturity_score??"","; outcomes at 5-bar horizon in performance summary.",s.jsx(D,{scope:w0,entryKey:"mean_outcome",variant:"short"})]}),s.jsxs("p",{className:"today-insight-why",title:l?(T=fe(li,"why_this_is_shown"))==null?void 0:T.short:void 0,children:["Why its shown: ",j.why_this_is_here??"",s.jsx(D,{scope:li,entryKey:"why_this_is_shown",variant:"short"})]})]},P)})})]})]}),s.jsxs("section",{className:"today-brief","aria-label":"Latest brief",children:[s.jsxs("h2",{children:["Latest brief ",s.jsx(D,{scope:li,entryKey:"latest_brief",variant:"short"})]}),n==null?s.jsx("p",{className:"today-empty-inline",children:"Select a portfolio above to see the latest brief."}):g?s.jsxs("details",{className:"today-brief-details",children:[s.jsxs("summary",{children:["Brief as of ",g.as_of_ts??""," (run ",g.pipeline_run_id??"",")"]}),g.brief_json!=null?s.jsx("pre",{className:"today-brief-json",children:typeof g.brief_json=="string"?g.brief_json:JSON.stringify(g.brief_json,null,2)}):s.jsx("p",{className:"today-empty-inline",children:"No brief JSON."})]}):s.jsx(dt,{title:"No brief",explanation:"No morning brief found for this portfolio.",reasons:["Pipeline has not written a brief yet.","Agent run may not have completed."]})]})]})}const xM=6e4;function aa(e){if(e==null)return"";const t=typeof e=="string"?new Date(e):e;if(Number.isNaN(t.getTime()))return"";const r=Date.now(),n=Math.floor((r-t.getTime())/1e3);if(n<0)return"just now";if(n<60)return`${n} sec ago`;const i=Math.floor(n/60);if(i<60)return`${i} min ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const o=Math.floor(a/24);return`${o} day${o!==1?"s":""} ago`}function wM(){const{explainMode:e}=Pt(),t=By(),[r,n]=p.useState(null),[i,a]=p.useState(!0),[o,l]=p.useState(null),[u,c]=p.useState(null),[d,f]=p.useState(0),h=p.useCallback(()=>{fetch(`${ae}/live/metrics?portfolio_id=${t}`).then(b=>b.ok?b.json():Promise.reject(new Error(b.statusText))).then(b=>{n(b),c(Date.now()),l(null)}).catch(b=>{l(b.message),n(null)}).finally(()=>a(!1))},[t]);p.useEffect(()=>{h();const b=setInterval(h,xM);return()=>clearInterval(b)},[h]),p.useEffect(()=>{const b=setInterval(()=>f(_=>_+1),1e3);return()=>clearInterval(b)},[]);const m=u!=null?Math.max(0,Math.floor((Date.now()-u)/1e3)):null;if(i&&!r)return s.jsxs("div",{className:"live-header",role:"status","aria-label":"Live metrics loading",children:[s.jsx("span",{className:"live-header-label",children:"Live"}),s.jsx("span",{className:"live-header-value",children:"Loading"})]});const v=r==null?void 0:r.last_run,y=r==null?void 0:r.last_brief,x=(r==null?void 0:r.outcomes)??{},g=x.since_last_run??0,w=x.last_calculated_at??null;return s.jsxs("div",{className:"live-header",role:"region","aria-label":"Live metrics",children:[s.jsx("span",{className:"live-header-label",children:"Live"}),v&&s.jsxs("span",{className:"live-header-item",title:e?void 0:null,children:["Last pipeline run: ",aa(v.completed_at??v.started_at),s.jsx("span",{className:`live-header-badge live-header-badge--${(v.status||"").toLowerCase()}`,children:v.status??""}),s.jsx(D,{scope:"live",entryKey:"last_pipeline_run",variant:"short"})]}),(y==null?void 0:y.found)&&s.jsxs("span",{className:"live-header-item",title:e?void 0:null,children:["Latest brief: ",aa(y.as_of_ts),s.jsx(D,{scope:"live",entryKey:"latest_brief",variant:"short"})]}),g>0&&s.jsxs("span",{className:"live-header-item live-header-item--pulse",title:e?void 0:null,children:["New evaluations since last run: +",g,s.jsx(D,{scope:"live",entryKey:"new_evaluations_since_last_run",variant:"short"})]}),w&&s.jsxs("span",{className:"live-header-item",title:e?void 0:null,children:["Data freshness: outcomes updated ",aa(w)," ago",s.jsx(D,{scope:"live",entryKey:"data_freshness",variant:"short"})]}),m!=null&&s.jsxs("span",{className:"live-header-item live-header-meta",children:["Updated ",m," sec ago"]}),o&&s.jsx("span",{className:"live-header-error",role:"alert",children:"Live metrics unavailable"})]})}function bM(){const e=By(),[t,r]=p.useState(!0),[n,i]=p.useState(null),{setContext:a}=nn(),o=xc(gh),l=xc({...gh,id:"home-glance",title:"System at a glance"});if(p.useEffect(()=>{a(gh)},[a]),p.useEffect(()=>{let h=!1;return fetch(`${ae}/live/metrics?portfolio_id=${e}`).then(m=>m.ok?m.json():Promise.reject(new Error(m.statusText))).then(m=>{h||i(m)}).catch(()=>{h||i(null)}).finally(()=>{h||r(!1)}),()=>{h=!0}},[e]),t)return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"home-hero home-hero--loading","aria-hidden":"true",children:[s.jsx("div",{className:"home-hero-overlay"}),s.jsxs("div",{className:"home-hero-content",children:[s.jsx("h1",{className:"home-hero-title",children:"Market Intelligence Platform"}),s.jsx("p",{className:"home-hero-subtext",children:"Daily-bar research  outcomes-based learning  explainable suggestions"})]})]}),s.jsx(xr,{message:"Loading"})]});const u=n==null?void 0:n.last_run,c=n==null?void 0:n.last_brief,f=((n==null?void 0:n.outcomes)??{}).since_last_run??0;return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"home-hero","aria-label":"Hero",children:[s.jsx("div",{className:"home-hero-bg",role:"img","aria-label":"Market intelligence visual"}),s.jsx("div",{className:"home-hero-overlay","aria-hidden":"true"}),s.jsxs("div",{className:"home-hero-content",children:[s.jsxs("h1",{className:"home-hero-title",children:["Market Intelligence Platform",s.jsx(D,{scope:"home",entryKey:"hero_headline",variant:"short"})]}),s.jsxs("p",{className:"home-hero-subtext",children:["Daily-bar research  outcomes-based learning  explainable suggestions",s.jsx(D,{scope:"home",entryKey:"hero_subtext",variant:"short"})]})]})]}),s.jsxs("section",{className:"home-quick-actions","aria-label":"Quick actions",children:[s.jsxs("h2",{className:"home-section-title",children:["Quick actions",s.jsx(D,{scope:"home",entryKey:"quick_actions",variant:"short"}),s.jsx("button",{type:"button",className:"home-explain-this",onClick:o,"aria-label":"Open Explain Center for this section",children:"Explain this"})]}),s.jsxs("div",{className:"home-quick-actions-grid",children:[s.jsxs(ge,{to:"/portfolios",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"View Portfolios"}),s.jsx("span",{className:"home-card-desc",children:"All portfolios  positions, trades, episodes"})]}),e!=null&&s.jsxs(ge,{to:`/portfolios/${e}`,className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"Default portfolio"}),s.jsxs("span",{className:"home-card-desc",children:["Portfolio ",e,"  quick link"]})]}),s.jsxs(ge,{to:"/brief",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"View Latest Morning Brief"}),s.jsx("span",{className:"home-card-desc",children:"Latest brief per portfolio"})]}),s.jsxs(ge,{to:"/training",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"Open Training Status"}),s.jsx("span",{className:"home-card-desc",children:"Maturity by symbol/pattern"})]}),s.jsxs(ge,{to:"/suggestions",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"Open Suggestions"}),s.jsx("span",{className:"home-card-desc",children:"Ranked symbol/pattern candidates"})]})]})]}),s.jsxs("section",{className:"home-glance","aria-label":"System at a glance",children:[s.jsxs("h2",{className:"home-section-title",children:["System at a glance",s.jsx(D,{scope:"home",entryKey:"system_at_a_glance",variant:"short"}),s.jsx("button",{type:"button",className:"home-explain-this",onClick:l,"aria-label":"Open Explain Center for this section",children:"Explain this"})]}),s.jsxs("div",{className:"home-glance-grid",children:[s.jsxs("div",{className:"home-card",children:[s.jsxs("span",{className:"home-card-label",children:["Last pipeline run",s.jsx(D,{scope:"live",entryKey:"last_pipeline_run",variant:"short"})]}),s.jsx("span",{className:"home-card-value",children:u?s.jsxs(s.Fragment,{children:[aa(u.completed_at??u.started_at),s.jsx("span",{className:`home-glance-badge home-glance-badge--${(u.status||"").toLowerCase()}`,children:u.status??""})]}):""})]}),s.jsxs("div",{className:"home-card",children:[s.jsxs("span",{className:"home-card-label",children:["New evaluations since last run",s.jsx(D,{scope:"live",entryKey:"new_evaluations_since_last_run",variant:"short"})]}),s.jsx("span",{className:"home-card-value",children:f>0?`+${f}`:f===0?"0":""})]}),s.jsxs("div",{className:"home-card",children:[s.jsxs("span",{className:"home-card-label",children:["Latest brief (as-of)",s.jsx(D,{scope:"live",entryKey:"data_freshness",variant:"short"})]}),s.jsx("span",{className:"home-card-value",children:c!=null&&c.found?aa(c.as_of_ts):"No brief yet"})]})]})]}),s.jsx(dt,{title:"Seeing empty pages?",action:s.jsxs(s.Fragment,{children:["Run the daily pipeline in Snowflake, then check ",s.jsx(ge,{to:"/runs",children:"Runs"}),"."]}),explanation:"MIP data is populated by the daily pipeline. If pages look empty, run SP_RUN_DAILY_PIPELINE in Snowflake.",reasons:["Pipeline has not run yet.","Snowflake credentials may be missing or invalid."]})]})}function I1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=I1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=I1(e))&&(n&&(n+=" "),n+=t);return n}var _M=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Wv(e){if(typeof e!="string")return!1;var t=_M;return t.includes(e)}var jM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SM=new Set(jM);function M1(e){return typeof e!="string"?!1:SM.has(e)}function D1(e){return typeof e=="string"&&e.startsWith("data-")}function wr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(M1(r)||D1(r))&&(t[r]=e[r]);return t}function Lo(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return wr(t)}return typeof e=="object"&&!Array.isArray(e)?wr(e):null}function Wt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(M1(r)||D1(r)||Wv(r))&&(t[r]=e[r]);return t}function PM(e){return e==null?null:p.isValidElement(e)?Wt(e.props):typeof e=="object"&&!Array.isArray(e)?Wt(e):null}var kM=["children","width","height","viewBox","className","style","title","desc"];function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(null,arguments)}function NM(e,t){if(e==null)return{};var r,n,i=EM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L1=p.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:u,desc:c}=e,d=NM(e,kM),f=a||{width:n,height:i,x:0,y:0},h=_e("recharts-surface",o);return p.createElement("svg",Kp({},Wt(d),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,u),p.createElement("desc",null,c),r)}),OM=["children","className"];function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(null,arguments)}function AM(e,t){if(e==null)return{};var r,n,i=CM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var St=p.forwardRef((e,t)=>{var{children:r,className:n}=e,i=AM(e,OM),a=_e("recharts-layer",n);return p.createElement("g",Hp({className:a},Wt(i),{ref:t}),r)}),TM=p.createContext(null);function Me(e){return function(){return e}}const R1=Math.cos,wc=Math.sin,an=Math.sqrt,bc=Math.PI,$d=2*bc,Vp=Math.PI,qp=2*Vp,Vi=1e-6,IM=qp-Vi;function $1(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function MM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $1;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class DM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$1:MM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=n-t,c=i-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Vi)if(!(Math.abs(f*u-c*d)>Vi)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=i-l,y=u*u+c*c,x=m*m+v*v,g=Math.sqrt(y),w=Math.sqrt(h),b=a*Math.tan((Vp-Math.acos((y+h-x)/(2*g*w)))/2),_=b/w,S=b/g;Math.abs(_-1)>Vi&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=t+S*u},${this._y1=r+S*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),c=t+l,d=r+u,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Vi||Math.abs(this._y1-d)>Vi)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%qp+qp),h>IM?this._append`A${n},${n},0,1,${f},${t-l},${r-u}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>Vi&&this._append`A${n},${n},0,${+(h>=Vp)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Kv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DM(t)}function Hv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z1(e){this._context=e}z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zd(e){return new z1(e)}function F1(e){return e[0]}function B1(e){return e[1]}function U1(e,t){var r=Me(!0),n=null,i=zd,a=null,o=Kv(l);e=typeof e=="function"?e:e===void 0?F1:Me(e),t=typeof t=="function"?t:t===void 0?B1:Me(t);function l(u){var c,d=(u=Hv(u)).length,f,h=!1,m;for(n==null&&(a=i(m=o())),c=0;c<=d;++c)!(c<d&&r(f=u[c],c,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,u),+t(f,c,u));if(m)return a=null,m+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Me(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Me(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Me(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}function ou(e,t,r){var n=null,i=Me(!0),a=null,o=zd,l=null,u=Kv(c);e=typeof e=="function"?e:e===void 0?F1:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?B1:Me(+r);function c(f){var h,m,v,y=(f=Hv(f)).length,x,g=!1,w,b=new Array(y),_=new Array(y);for(a==null&&(l=o(w=u())),h=0;h<=y;++h){if(!(h<y&&i(x=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(b[v],_[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return U1().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Me(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Me(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Me(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),c):a},c}class W1{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function LM(e){return new W1(e,!0)}function RM(e){return new W1(e,!1)}const Vv={draw(e,t){const r=an(t/bc);e.moveTo(r,0),e.arc(0,0,r,0,$d)}},$M={draw(e,t){const r=an(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},K1=an(1/3),zM=K1*2,FM={draw(e,t){const r=an(t/zM),n=r*K1;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BM={draw(e,t){const r=an(t),n=-r/2;e.rect(n,n,r,r)}},UM=.8908130915292852,H1=wc(bc/10)/wc(7*bc/10),WM=wc($d/10)*H1,KM=-R1($d/10)*H1,HM={draw(e,t){const r=an(t*UM),n=WM*r,i=KM*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=$d*a/5,l=R1(o),u=wc(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*i,u*n+l*i)}e.closePath()}},xh=an(3),VM={draw(e,t){const r=-an(t/(xh*3));e.moveTo(0,r*2),e.lineTo(-xh*r,-r),e.lineTo(xh*r,-r),e.closePath()}},Sr=-.5,Pr=an(3)/2,Gp=1/an(12),qM=(Gp/2+1)*3,GM={draw(e,t){const r=an(t/qM),n=r/2,i=r*Gp,a=n,o=r*Gp+r,l=-a,u=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,u),e.lineTo(Sr*n-Pr*i,Pr*n+Sr*i),e.lineTo(Sr*a-Pr*o,Pr*a+Sr*o),e.lineTo(Sr*l-Pr*u,Pr*l+Sr*u),e.lineTo(Sr*n+Pr*i,Sr*i-Pr*n),e.lineTo(Sr*a+Pr*o,Sr*o-Pr*a),e.lineTo(Sr*l+Pr*u,Sr*u-Pr*l),e.closePath()}};function YM(e,t){let r=null,n=Kv(i);e=typeof e=="function"?e:Me(e||Vv),t=typeof t=="function"?t:Me(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Me(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function _c(){}function jc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function V1(e){this._context=e}V1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XM(e){return new V1(e)}function q1(e){this._context=e}q1.prototype={areaStart:_c,areaEnd:_c,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QM(e){return new q1(e)}function G1(e){this._context=e}G1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZM(e){return new G1(e)}function Y1(e){this._context=e}Y1.prototype={areaStart:_c,areaEnd:_c,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JM(e){return new Y1(e)}function b0(e){return e<0?-1:1}function _0(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(b0(a)+b0(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function j0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wh(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function Sc(e){this._context=e}Sc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wh(this,this._t0,j0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wh(this,j0(this,r=_0(this,e,t)),r);break;default:wh(this,this._t0,r=_0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function X1(e){this._context=new Q1(e)}(X1.prototype=Object.create(Sc.prototype)).point=function(e,t){Sc.prototype.point.call(this,t,e)};function Q1(e){this._context=e}Q1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function eD(e){return new Sc(e)}function tD(e){return new X1(e)}function Z1(e){this._context=e}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=S0(e),i=S0(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S0(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function rD(e){return new Z1(e)}function Fd(e,t){this._context=e,this._t=t}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nD(e){return new Fd(e,.5)}function iD(e){return new Fd(e,0)}function aD(e){return new Fd(e,1)}function ma(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Yp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oD(e,t){return e[t]}function sD(e){const t=[];return t.key=e,t}function lD(){var e=Me([]),t=Yp,r=ma,n=oD;function i(a){var o=Array.from(e.apply(this,arguments),sD),l,u=o.length,c=-1,d;for(const f of a)for(l=0,++c;l<u;++l)(o[l][c]=[0,+n(f,o[l].key,c,a)]).data=f;for(l=0,d=Hv(t(o));l<u;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Me(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Yp:typeof a=="function"?a:Me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ma,i):r},i}function uD(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ma(e,t)}}function cD(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ma(e,t)}}function dD(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,u=0,c=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var y=e[t[v]],x=y[n][1]||0,g=y[n-1][1]||0;m+=x-g}u+=f,c+=m*f}i[n-1][1]+=i[n-1][0]=r,u&&(r-=c/u)}i[n-1][1]+=i[n-1][0]=r,ma(e,t)}}var Bd={},J1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(J1);var qv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(qv);var Ud={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Ud);var Wd={},eP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(eP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP,r=Ud;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const f=i[l];c?f==="\\"&&l+1<o?(l++,u+=i[l]):f===c?c="":u+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(u),u=""):u+=f:f==="["?(d=!0,u&&(a.push(u),u="")):f==="."?u&&(a.push(u),u=""):u+=f,l++}return u&&a.push(u),a}e.toPath=n})(Wd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1,r=qv,n=Ud,i=Wd;function a(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?r.isDeepKey(u)?a(l,i.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?c:d}default:{if(Array.isArray(u))return o(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?c:d}}}function o(l,u,c){if(u.length===0)return c;let d=l;for(let f=0;f<u.length;f++){if(d==null||t.isUnsafeProperty(u[f]))return c;d=d[u[f]]}return d===void 0?c:d}e.get=a})(Bd);var fD=Bd.get;const bo=Zn(fD);var hD=4;function _i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hD,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ze(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var l=r[o-1];return typeof l=="string"?i+l+a:l!==void 0?i+_i(l)+a:i+a},"")}var rr=e=>e===0?0:e>0?1:-1,wn=e=>typeof e=="number"&&e!=+e,va=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,q=e=>(typeof e=="number"||e instanceof Number)&&!wn(e),Lr=e=>q(e)||typeof e=="string",pD=0,Xs=e=>{var t=++pD;return"".concat(e||"").concat(t)},tn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!q(t)&&typeof t!="string")return n;var a;if(va(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return wn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},tP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function De(e,t,r){return q(e)&&q(t)?_i(e+r*(t-e)):t}function rP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):bo(n,t))===r)}var mD=e=>{for(var t=e.length,r=0,n=0,i=0,a=0,o=1/0,l=-1/0,u=0,c=0,d=0;d<t;d++){var f,h;u=((f=e[d])===null||f===void 0?void 0:f.cx)||0,c=((h=e[d])===null||h===void 0?void 0:h.cy)||0,r+=u,n+=c,i+=u*c,a+=u*u,o=Math.min(o,u),l=Math.max(l,u)}var m=t*a!==r*r?(t*i-r*n)/(t*a-r*r):0;return{xmin:o,xmax:l,a:m,b:(n-m*r)/t}},Oe=e=>e===null||typeof e>"u",yl=e=>Oe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function nr(e){return e!=null}function Na(){}var vD=["type","size","sizeType"];function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xp.apply(null,arguments)}function P0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P0(Object(r),!0).forEach(function(n){gD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gD(e,t,r){return(t=yD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yD(e){var t=xD(e,"string");return typeof t=="symbol"?t:t+""}function xD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wD(e,t){if(e==null)return{};var r,n,i=bD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nP={symbolCircle:Vv,symbolCross:$M,symbolDiamond:FM,symbolSquare:BM,symbolStar:HM,symbolTriangle:VM,symbolWye:GM},_D=Math.PI/180,jD=e=>{var t="symbol".concat(yl(e));return nP[t]||Vv},SD=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*_D;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PD=(e,t)=>{nP["symbol".concat(yl(e))]=t},Gv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=wD(e,vD),a=k0(k0({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=jD(o),m=YM().type(h).size(SD(r,n,o)),v=m();if(v!==null)return v},{className:u,cx:c,cy:d}=a,f=Wt(a);return q(c)&&q(d)&&q(r)?p.createElement("path",Xp({},f,{className:_e("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};Gv.registerSymbol=PD;var iP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Yv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Wv(i)&&(n[i]=a=>r[i](r,a))}),n},kD=(e,t,r)=>n=>(e(t,r,n),null),Kd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Wv(i)&&typeof a=="function"&&(n||(n={}),n[i]=kD(a,t,r))}),n},ND=e=>Array.isArray(e)&&e.length>0;function N0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ED(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(r),!0).forEach(function(n){OD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OD(e,t,r){return(t=AD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AD(e){var t=CD(e,"string");return typeof t=="symbol"?t:t+""}function CD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e,t){var r=ED({},e),n=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return a}var aP={},oP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],l=n(o,a,r);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(oP);var sP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(sP);var Xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Xv);var lP={},Hd={},uP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(uP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Hd);var cP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(cP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hd,r=cP;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(lP);var dP={},fP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bd;function r(n){return function(i){return t.get(i,n)}}e.property=r})(fP);var hP={},Qv={},pP={},Zv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Zv);var Jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Jv);var eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(eg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zv,r=Jv,n=eg;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(v,y,x,g,w,b){const _=h(v,y,x,g,w,b);return _!==void 0?!!_:a(v,y,m,b)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return u(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<v.length;y++){const x=v[y];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,y]of f.entries()){const x=d.get(v);if(h(x,y,v,d,f,m)===!1)return!1}return!0}function u(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let y=0;y<f.length;y++){const x=f[y];let g=!1;for(let w=0;w<d.length;w++){if(v.has(w))continue;const b=d[w];let _=!1;if(h(b,x,y,d,f,m)&&(_=!0),_){v.add(w),g=!0;break}}if(!g)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?u([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(pP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Qv);var mP={},tg={},vP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vP);var Vd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Vd);var rg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",y="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",j="[object Int16Array]",P="[object Int32Array]",k="[object BigInt64Array]",E="[object Float32Array]",N="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=E,e.float64ArrayTag=N,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=P,e.int8ArrayTag=S,e.mapTag=u,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(rg);var gP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(gP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP,r=Vd,n=rg,i=Jv,a=gP;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,v=void 0){const y=v==null?void 0:v(d,f,h,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,v);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,w]of d)x.set(g,l(w,g,h,m,v));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(l(g,void 0,h,m,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,v);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),u(x,d,h,m,v),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),u(x,d,h,m,v),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),u(x,d,h,m,v),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,u(x,d,h,m,v),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),u(x,d,h,m,v),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),u(x,d,h,m,v),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),u(x,d,h,m,v),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),u(x,d,h,m,v),x}return d}function u(d,f,h=d,m,v){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const g=y[x],w=Object.getOwnPropertyDescriptor(d,g);(w==null||w.writable)&&(d[g]=l(f[g],g,h,m,v))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(tg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tg;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(mP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qv,r=mP;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(hP);var yP={},xP={},wP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tg,r=Vd,n=rg;function i(a,o){return t.cloneDeepWith(a,(l,u,c,d)=>{const f=o==null?void 0:o(l,u,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case n.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(wP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(xP);var bP={},ng={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ng);var _P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vd;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(_P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv,r=ng,n=_P,i=Wd;function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let c=o;for(let d=0;d<u.length;d++){const f=u[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(bP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qv,r=Ud,n=xP,i=Bd,a=bP;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(c){const d=i.get(c,l);return d===void 0?a.has(c,l):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=o})(yP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xv,r=fP,n=hP,i=yP;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(dP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oP,r=sP,n=Xv,i=lP,a=dP;function o(l,u=n.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(a.iteratee(u),1)):[]}e.uniqBy=o})(aP);var TD=aP.uniqBy;const E0=Zn(TD);function ID(e,t,r){return t===!0?E0(e,r):typeof t=="function"?E0(e,t):e}var jP={exports:{}},SP={},PP={exports:{}},kP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=p;function MD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DD=typeof Object.is=="function"?Object.is:MD,LD=_o.useState,RD=_o.useEffect,$D=_o.useLayoutEffect,zD=_o.useDebugValue;function FD(e,t){var r=t(),n=LD({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return $D(function(){i.value=r,i.getSnapshot=t,bh(i)&&a({inst:i})},[e,r,t]),RD(function(){return bh(i)&&a({inst:i}),e(function(){bh(i)&&a({inst:i})})},[e]),zD(r),r}function bh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!DD(e,r)}catch{return!0}}function BD(e,t){return t()}var UD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BD:FD;kP.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:UD;PP.exports=kP;var WD=PP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=p,KD=WD;function HD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VD=typeof Object.is=="function"?Object.is:HD,qD=KD.useSyncExternalStore,GD=qd.useRef,YD=qd.useEffect,XD=qd.useMemo,QD=qd.useDebugValue;SP.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=GD(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=XD(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return f=v}return f=m}if(v=f,VD(d,m))return v;var y=n(m);return i!==void 0&&i(v,y)?(d=m,v):(d=m,f=y)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,i]);var l=qD(e,a[0],a[1]);return YD(function(){o.hasValue=!0,o.value=l},[l]),QD(l),l};jP.exports=SP;var ZD=jP.exports,ig=p.createContext(null),JD=e=>e,et=()=>{var e=p.useContext(ig);return e?e.store.dispatch:JD},zu=()=>{},e2=()=>zu,t2=(e,t)=>e===t;function Y(e){var t=p.useContext(ig),r=p.useMemo(()=>t?n=>{if(n!=null)return e(n)}:zu,[t,e]);return ZD.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:e2,t?t.store.getState:zu,t?t.store.getState:zu,r,t2)}function r2(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function n2(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function i2(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var O0=e=>Array.isArray(e)?e:[e];function a2(e){const t=Array.isArray(e[0])?e[0]:e;return i2(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function o2(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var s2=class{constructor(e){this.value=e}deref(){return this.value}},l2=typeof WeakRef<"u"?WeakRef:s2,u2=0,A0=1;function su(){return{s:u2,v:void 0,o:null,p:null}}function NP(e,t={}){let r=su();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var f;let l=r;const{length:u}=arguments;for(let h=0,m=u;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(v);x===void 0?(l=su(),y.set(v,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(v);x===void 0?(l=su(),y.set(v,l)):l=x}}const c=l;let d;if(l.s===A0)d=l.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new l2(d):d}return c.s=A0,c.v=d,d}return o.clearCache=()=>{r=su(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function c2(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,l,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),r2(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...u},{memoize:f,memoizeOptions:h=[],argsMemoize:m=NP,argsMemoizeOptions:v=[]}=d,y=O0(h),x=O0(v),g=a2(i),w=f(function(){return a++,c.apply(null,arguments)},...y),b=m(function(){o++;const S=o2(g,arguments);return l=w.apply(null,S),l},...x);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var C=c2(NP),d2=Object.assign((e,t=C)=>{n2(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>d2}),EP={},OP={},AP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),l=t(i);if(o===l&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=r})(AP);var CP={},ag={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ag);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ag,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(CP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP,r=CP,n=Wd;function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const c=(m,v)=>{let y=m;for(let x=0;x<v.length&&y!=null;++x)y=y[v[x]];return y},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:c(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?c(v,m):typeof v=="object"?v[m]:v,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let y=0;y<f.length;y++){const x=t.compareValues(m.criteria[y],v.criteria[y],l[y]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=i})(OP);var TP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(l,u)=>{for(let c=0;c<l.length;c++){const d=l[c];Array.isArray(d)&&u<a?o(d,u+1):i.push(d)}};return o(r,0),i}e.flatten=t})(TP);var og={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ng,r=Hd,n=Zv,i=eg;function a(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],o):!1}e.isIterateeCall=a})(og);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP,r=TP,n=og;function i(a,...o){const l=o.length;return l>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(EP);var f2=EP.sortBy;const Gd=Zn(f2);var IP=e=>e.legend.settings,h2=e=>e.legend.size,p2=e=>e.legend.payload;C([p2,IP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Gd(n,r):n});var lu=1;function m2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>lu||Math.abs(o.left-t.left)>lu||Math.abs(o.top-t.top)>lu||Math.abs(o.width-t.width)>lu)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ct(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var v2=typeof Symbol=="function"&&Symbol.observable||"@@observable",C0=v2,_h=()=>Math.random().toString(36).substring(7).split("").join("."),g2={INIT:`@@redux/INIT${_h()}`,REPLACE:`@@redux/REPLACE${_h()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_h()}`},Pc=g2;function sg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MP(e,t,r){if(typeof e!="function")throw new Error(Ct(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ct(1));return r(MP)(e,t)}let n=e,i=t,a=new Map,o=a,l=0,u=!1;function c(){o===a&&(o=new Map,a.forEach((x,g)=>{o.set(g,x)}))}function d(){if(u)throw new Error(Ct(3));return i}function f(x){if(typeof x!="function")throw new Error(Ct(4));if(u)throw new Error(Ct(5));let g=!0;c();const w=l++;return o.set(w,x),function(){if(g){if(u)throw new Error(Ct(6));g=!1,c(),o.delete(w),a=null}}}function h(x){if(!sg(x))throw new Error(Ct(7));if(typeof x.type>"u")throw new Error(Ct(8));if(typeof x.type!="string")throw new Error(Ct(17));if(u)throw new Error(Ct(9));try{u=!0,i=n(i,x)}finally{u=!1}return(a=o).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(Ct(10));n=x,h({type:Pc.REPLACE})}function v(){const x=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Ct(11));function w(){const _=g;_.next&&_.next(d())}return w(),{unsubscribe:x(w)}},[C0](){return this}}}return h({type:Pc.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[C0]:v}}function y2(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Pc.INIT})>"u")throw new Error(Ct(12));if(typeof r(void 0,{type:Pc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function DP(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{y2(r)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],v=h(m,l);if(typeof v>"u")throw l&&l.type,new Error(Ct(14));c[f]=v,u=u||v!==m}return u=u||n.length!==Object.keys(o).length,u?c:o}}function kc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function x2(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Ct(15))};const o={getState:i.getState,dispatch:(u,...c)=>a(u,...c)},l=e.map(u=>u(o));return a=kc(...l)(i.dispatch),{...i,dispatch:a}}}function LP(e){return sg(e)&&"type"in e&&typeof e.type=="string"}var RP=Symbol.for("immer-nothing"),T0=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var mr=Object,jo=mr.getPrototypeOf,Nc="constructor",Yd="prototype",Qp="configurable",Ec="enumerable",Fu="writable",Qs="value",Kn=e=>!!e&&!!e[Yt];function rn(e){var t;return e?$P(e)||Qd(e)||!!e[T0]||!!((t=e[Nc])!=null&&t[T0])||Zd(e)||Jd(e):!1}var w2=mr[Yd][Nc].toString(),I0=new WeakMap;function $P(e){if(!e||!lg(e))return!1;const t=jo(e);if(t===null||t===mr[Yd])return!0;const r=mr.hasOwnProperty.call(t,Nc)&&t[Nc];if(r===Object)return!0;if(!Ua(r))return!1;let n=I0.get(r);return n===void 0&&(n=Function.toString.call(r),I0.set(r,n)),n===w2}function Xd(e,t,r=!0){xl(e)===0?(r?Reflect.ownKeys(e):mr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function xl(e){const t=e[Yt];return t?t.type_:Qd(e)?1:Zd(e)?2:Jd(e)?3:0}var M0=(e,t,r=xl(e))=>r===2?e.has(t):mr[Yd].hasOwnProperty.call(e,t),Zp=(e,t,r=xl(e))=>r===2?e.get(t):e[t],Oc=(e,t,r,n=xl(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function b2(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qd=Array.isArray,Zd=e=>e instanceof Map,Jd=e=>e instanceof Set,lg=e=>typeof e=="object",Ua=e=>typeof e=="function",jh=e=>typeof e=="boolean";function _2(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var An=e=>e.copy_||e.base_,ug=e=>e.modified_?e.copy_:e.base_;function Jp(e,t){if(Zd(e))return new Map(e);if(Jd(e))return new Set(e);if(Qd(e))return Array[Yd].slice.call(e);const r=$P(e);if(t===!0||t==="class_only"&&!r){const n=mr.getOwnPropertyDescriptors(e);delete n[Yt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l[Fu]===!1&&(l[Fu]=!0,l[Qp]=!0),(l.get||l.set)&&(n[o]={[Qp]:!0,[Fu]:!0,[Ec]:l[Ec],[Qs]:e[o]})}return mr.create(jo(e),n)}else{const n=jo(e);if(n!==null&&r)return{...e};const i=mr.create(n);return mr.assign(i,e)}}function cg(e,t=!1){return ef(e)||Kn(e)||!rn(e)||(xl(e)>1&&mr.defineProperties(e,{set:uu,add:uu,clear:uu,delete:uu}),mr.freeze(e),t&&Xd(e,(r,n)=>{cg(n,!0)},!1)),e}function j2(){Hr(2)}var uu={[Qs]:j2};function ef(e){return e===null||!lg(e)?!0:mr.isFrozen(e)}var Ac="MapSet",em="Patches",D0="ArrayMethods",zP={};function ga(e){const t=zP[e];return t||Hr(0,e),t}var L0=e=>!!zP[e],Zs,FP=()=>Zs,S2=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:L0(Ac)?ga(Ac):void 0,arrayMethodsPlugin_:L0(D0)?ga(D0):void 0});function R0(e,t){t&&(e.patchPlugin_=ga(em),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tm(e){rm(e),e.drafts_.forEach(P2),e.drafts_=null}function rm(e){e===Zs&&(Zs=e.parent_)}var $0=e=>Zs=S2(Zs,e);function P2(e){const t=e[Yt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function z0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Yt].modified_&&(tm(t),Hr(4)),rn(e)&&(e=F0(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Yt].base_,e,t)}else e=F0(t,r);return k2(t,e,!0),tm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RP?e:void 0}function F0(e,t){if(ef(t))return t;const r=t[Yt];if(!r)return Cc(t,e.handledSet_,e);if(!tf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);WP(r,e)}return r.copy_}function k2(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cg(t,r)}function BP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var tf=(e,t)=>e.scope_===t,N2=[];function UP(e,t,r,n){const i=An(e),a=e.type_;if(n!==void 0&&Zp(i,n,a)===t){Oc(i,n,r,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Xd(i,(u,c)=>{if(Kn(c)){const d=l.get(c)||[];d.push(u),l.set(c,d)}})}const o=e.draftLocations_.get(t)??N2;for(const l of o)Oc(i,l,r,a)}function E2(e,t,r){e.callbacks_.push(function(i){var l;const a=t;if(!a||!tf(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const o=ug(a);UP(e,a.draft_??a,o,r),WP(a,i)})}function WP(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}BP(e)}}function O2(e,t,r){const{scope_:n}=e;if(Kn(r)){const i=r[Yt];tf(i,n)&&i.callbacks_.push(function(){Bu(e);const o=ug(i);UP(e,r,o,t)})}else rn(r)&&e.callbacks_.push(function(){const a=An(e);e.type_===3?a.has(r)&&Cc(r,n.handledSet_,n):Zp(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Cc(Zp(e.copy_,t,e.type_),n.handledSet_,n)})}function Cc(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Kn(e)||t.has(e)||!rn(e)||ef(e)||(t.add(e),Xd(e,(n,i)=>{if(Kn(i)){const a=i[Yt];if(tf(a,r)){const o=ug(a);Oc(e,n,o,e.type_),BP(a)}}else rn(i)&&Cc(i,t,r)})),e}function A2(e,t){const r=Qd(e),n={type_:r?1:0,scope_:t?t.scope_:FP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Tc;r&&(i=[n],a=Js);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,[l,n]}var Tc={get(e,t){if(t===Yt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=An(e);if(!M0(i,t,e.type_))return C2(e,i,t);const a=i[t];if(e.finalized_||!rn(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&_2(t))return a;if(a===Sh(e.base_,t)){Bu(e);const o=e.type_===1?+t:t,l=im(e.scope_,a,e,o);return e.copy_[o]=l}return a},has(e,t){return t in An(e)},ownKeys(e){return Reflect.ownKeys(An(e))},set(e,t,r){const n=KP(An(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Sh(An(e),t),a=i==null?void 0:i[Yt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(b2(r,i)&&(r!==void 0||M0(e.base_,t,e.type_)))return!0;Bu(e),nm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),O2(e,t,r)),!0},deleteProperty(e,t){return Bu(e),Sh(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),nm(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=An(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Fu]:!0,[Qp]:e.type_!==1||t!=="length",[Ec]:n[Ec],[Qs]:r[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return jo(e.base_)},setPrototypeOf(){Hr(12)}},Js={};for(let e in Tc){let t=Tc[e];Js[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Js.deleteProperty=function(e,t){return Js.set.call(this,e,t,void 0)};Js.set=function(e,t,r){return Tc.set.call(this,e[0],t,r,e[0])};function Sh(e,t){const r=e[Yt];return(r?An(r):e)[t]}function C2(e,t,r){var i;const n=KP(t,r);return n?Qs in n?n[Qs]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function KP(e,t){if(!(t in e))return;let r=jo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jo(r)}}function nm(e){e.modified_||(e.modified_=!0,e.parent_&&nm(e.parent_))}function Bu(e){e.copy_||(e.assigned_=new Map,e.copy_=Jp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var T2=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Ua(r)&&!Ua(n)){const o=n;n=r;const l=this;return function(c=o,...d){return l.produce(c,f=>n.call(this,f,...d))}}Ua(n)||Hr(6),i!==void 0&&!Ua(i)&&Hr(7);let a;if(rn(r)){const o=$0(this),l=im(o,r,void 0);let u=!0;try{a=n(l),u=!1}finally{u?tm(o):rm(o)}return R0(o,i),z0(a,o)}else if(!r||!lg(r)){if(a=n(r),a===void 0&&(a=r),a===RP&&(a=void 0),this.autoFreeze_&&cg(a,!0),i){const o=[],l=[];ga(em).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Hr(1,r)},this.produceWithPatches=(r,n)=>{if(Ua(r))return(l,...u)=>this.produceWithPatches(l,c=>r(c,...u));let i,a;return[this.produce(r,n,(l,u)=>{i=l,a=u}),i,a]},jh(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),jh(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),jh(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){rn(t)||Hr(8),Kn(t)&&(t=Zr(t));const r=$0(this),n=im(r,t,void 0);return n[Yt].isManual_=!0,rm(r),n}finishDraft(t,r){const n=t&&t[Yt];(!n||!n.isManual_)&&Hr(9);const{scope_:i}=n;return R0(i,r),z0(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=ga(em).applyPatches_;return Kn(t)?i(t,r):this.produce(t,a=>i(a,r))}};function im(e,t,r,n){const[i,a]=Zd(t)?ga(Ac).proxyMap_(t,r):Jd(t)?ga(Ac).proxySet_(t,r):A2(t,r);return((r==null?void 0:r.scope_)??FP()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?E2(r,a,n):a.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),i}function Zr(e){return Kn(e)||Hr(10,e),HP(e)}function HP(e){if(!rn(e)||ef(e))return e;const t=e[Yt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Jp(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Jp(e,!0);return Xd(r,(i,a)=>{Oc(r,i,HP(a))},n),t&&(t.finalized_=!1),r}var I2=new T2,VP=I2.produce;function qP(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var M2=qP(),D2=qP,L2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kc:kc.apply(null,arguments)};function Rr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(gr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>LP(n)&&n.type===e,r}var GP=class vs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vs.prototype)}static get[Symbol.species](){return vs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vs(...t[0].concat(this)):new vs(...t.concat(this))}};function B0(e){return rn(e)?VP(e,()=>{}):e}function cu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function R2(e){return typeof e=="boolean"}var $2=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new GP;return r&&(R2(r)?o.push(M2):o.push(D2(r.extraArgument))),o},YP="RTK_autoBatch",Ue=()=>e=>({payload:e,meta:{[YP]:!0}}),U0=e=>t=>{setTimeout(t,e)},XP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U0(10):e.type==="callback"?e.queueNotification:U0(e.timeout),c=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[YP]),a=!i,a&&(o||(o=!0,u(c))),n.dispatch(d)}finally{i=!0}}})},z2=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new GP(e);return n&&i.push(XP(typeof n=="object"?n:void 0)),i};function F2(e){const t=$2(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(sg(r))l=DP(r);else throw new Error(gr(1));let u;typeof n=="function"?u=n(t):u=t();let c=kc;i&&(c=L2({trace:!1,...typeof i=="object"&&i}));const d=x2(...u),f=z2(d);let h=typeof o=="function"?o(f):f();const m=c(...h);return MP(l,a,m)}function QP(e){const t={},r=[];let n;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(gr(28));if(l in t)throw new Error(gr(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function B2(e){return typeof e=="function"}function U2(e,t){let[r,n,i]=QP(t),a;if(B2(e))a=()=>B0(e());else{const l=B0(e);a=()=>l}function o(l=a(),u){let c=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Kn(d)){const m=f(d,u);return m===void 0?d:m}else{if(rn(d))return VP(d,h=>f(h,u));{const h=f(d,u);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=a,o}var W2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",K2=(e=21)=>{let t="",r=e;for(;r--;)t+=W2[Math.random()*64|0];return t},H2=Symbol.for("rtk-slice-createasyncthunk");function V2(e,t){return`${e}/${t}`}function q2({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[H2];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(gr(11));const l=(typeof i.reducers=="function"?i.reducers(Y2()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,S){const j=typeof _=="string"?_:_.type;if(!j)throw new Error(gr(12));if(j in c.sliceCaseReducersByType)throw new Error(gr(13));return c.sliceCaseReducersByType[j]=S,d},addMatcher(_,S){return c.sliceMatchers.push({matcher:_,reducer:S}),d},exposeAction(_,S){return c.actionCreators[_]=S,d},exposeCaseReducer(_,S){return c.sliceCaseReducersByName[_]=S,d}};u.forEach(_=>{const S=l[_],j={reducerName:_,type:V2(a,_),createNotation:typeof i.reducers=="function"};Q2(S)?J2(j,S,d,t):X2(j,S,d)});function f(){const[_={},S=[],j=void 0]=typeof i.extraReducers=="function"?QP(i.extraReducers):[i.extraReducers],P={..._,...c.sliceCaseReducersByType};return U2(i.initialState,k=>{for(let E in P)k.addCase(E,P[E]);for(let E of c.sliceMatchers)k.addMatcher(E.matcher,E.reducer);for(let E of S)k.addMatcher(E.matcher,E.reducer);j&&k.addDefaultCase(j)})}const h=_=>_,m=new Map,v=new WeakMap;let y;function x(_,S){return y||(y=f()),y(_,S)}function g(){return y||(y=f()),y.getInitialState()}function w(_,S=!1){function j(k){let E=k[_];return typeof E>"u"&&S&&(E=cu(v,j,g)),E}function P(k=h){const E=cu(m,S,()=>new WeakMap);return cu(E,k,()=>{const N={};for(const[T,O]of Object.entries(i.selectors??{}))N[T]=G2(O,k,()=>cu(v,k,g),S);return N})}return{reducerPath:_,getSelectors:P,get selectors(){return P(j)},selectSlice:j}}const b={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...w(o),injectInto(_,{reducerPath:S,...j}={}){const P=S??o;return _.inject({reducerPath:P,reducer:x},j),{...b,...w(P,!0)}}};return b}}function G2(e,t,r,n){function i(a,...o){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return i.unwrapped=e,i}var ur=q2();function Y2(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function X2({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!Z2(n))throw new Error(gr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Rr(e,o):Rr(e))}function Q2(e){return e._reducerDefinitionType==="asyncThunk"}function Z2(e){return e._reducerDefinitionType==="reducerWithPrepare"}function J2({type:e,reducerName:t},r,n,i){if(!i)throw new Error(gr(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:c,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),u&&n.addCase(f.rejected,u),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:o||du,pending:l||du,rejected:u||du,settled:c||du})}function du(){}var eL="task",ZP="listener",JP="completed",dg="cancelled",tL=`task-${dg}`,rL=`task-${JP}`,am=`${ZP}-${dg}`,nL=`${ZP}-${JP}`,rf=class{constructor(e){Wf(this,"name","TaskAbortError");Wf(this,"message");this.code=e,this.message=`${eL} ${dg} (reason: ${e})`}},fg=(e,t)=>{if(typeof e!="function")throw new TypeError(gr(32))},Ic=()=>{},ek=(e,t=Ic)=>(e.catch(t),e),tk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),oa=e=>{if(e.aborted)throw new rf(e.reason)};function rk(e,t){let r=Ic;return new Promise((n,i)=>{const a=()=>i(new rf(e.reason));if(e.aborted){a();return}r=tk(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Ic})}var iL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof rf?"cancelled":"rejected",error:r}}finally{t==null||t()}},Mc=e=>t=>ek(rk(e,t).then(r=>(oa(e),r))),nk=e=>{const t=Mc(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:co}=Object,W0={},nf="listenerMiddleware",aL=(e,t)=>{const r=n=>tk(e,()=>n.abort(e.reason));return(n,i)=>{fg(n);const a=new AbortController;r(a);const o=iL(async()=>{oa(e),oa(a.signal);const l=await n({pause:Mc(a.signal),delay:nk(a.signal),signal:a.signal});return oa(a.signal),l},()=>a.abort(rL));return i!=null&&i.autoJoin&&t.push(o.catch(Ic)),{result:Mc(e)(o),cancel(){a.abort(tL)}}}},oL=(e,t)=>{const r=async(n,i)=>{oa(t);let a=()=>{};const l=[new Promise((u,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),u([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await rk(t,Promise.race(l));return oa(t),u}finally{a()}};return(n,i)=>ek(r(n,i))},ik=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Rr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(gr(21));return fg(a),{predicate:i,type:t,effect:a}},ak=co(e=>{const{type:t,predicate:r,effect:n}=ik(e);return{id:K2(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(gr(22))}}},{withTypes:()=>ak}),K0=(e,t)=>{const{type:r,effect:n,predicate:i}=ik(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},om=e=>{e.pending.forEach(t=>{t.abort(am)})},sL=(e,t)=>()=>{for(const r of t.keys())om(r);e.clear()},H0=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ok=co(Rr(`${nf}/add`),{withTypes:()=>ok}),lL=Rr(`${nf}/removeAll`),sk=co(Rr(`${nf}/remove`),{withTypes:()=>sk}),uL=(...e)=>{console.error(`${nf}/error`,...e)},wl=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},i=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:a,onError:o=uL}=e;fg(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&om(m)}),u=m=>{const v=K0(t,m)??ak(m);return l(v)};co(u,{withTypes:()=>u});const c=m=>{const v=K0(t,m);return v&&(v.unsubscribe(),m.cancelActive&&om(v)),!!v};co(c,{withTypes:()=>c});const d=async(m,v,y,x)=>{const g=new AbortController,w=oL(u,g.signal),b=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(v,co({},y,{getOriginalState:x,condition:(_,S)=>w(_,S).then(Boolean),take:w,delay:nk(g.signal),pause:Mc(g.signal),extra:a,signal:g.signal,fork:aL(g.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,S,j)=>{_!==g&&(_.abort(am),j.delete(_))})},cancel:()=>{g.abort(am),m.pending.delete(g)},throwIfCancelled:()=>{oa(g.signal)}})))}catch(_){_ instanceof rf||H0(o,_,{raisedBy:"effect"})}finally{await Promise.all(b),g.abort(nL),i(m),m.pending.delete(g)}},f=sL(t,r);return{middleware:m=>v=>y=>{if(!LP(y))return v(y);if(ok.match(y))return u(y.payload);if(lL.match(y)){f();return}if(sk.match(y))return c(y.payload);let x=m.getState();const g=()=>{if(x===W0)throw new Error(gr(23));return x};let w;try{if(w=v(y),t.size>0){const b=m.getState(),_=Array.from(t.values());for(const S of _){let j=!1;try{j=S.predicate(y,b,x)}catch(P){j=!1,H0(o,P,{raisedBy:"predicate"})}j&&d(S,y,m,g)}}}finally{x=W0}return w},startListening:u,stopListening:c,clearListeners:f}};function gr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lk=ur({name:"chartLayout",initialState:cL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dL,setLayout:fL,setChartSize:hL,setScale:pL}=lk.actions,mL=lk.reducer;function uk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function se(e){return Number.isFinite(e)}function bn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function V0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(r),!0).forEach(function(n){vL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vL(e,t,r){return(t=gL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gL(e){var t=yL(e,"string");return typeof t=="symbol"?t:t+""}function yL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function He(e,t,r){return Oe(e)||Oe(t)?r:Lr(t)?bo(e,t,r):typeof t=="function"?t(e):r}var xL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&q(e[a]))return to(to({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&q(e[o]))return to(to({},e),{},{[o]:e[o]+(i||0)})}return e},ti=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ck=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(r),o},dk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=i==="category"&&o.bandwidth?o.bandwidth()/v:0;if(y=m==="angleAxis"&&a&&a.length>=2?rr(a[0]-a[1])*2*y:y,f||h){var x=(f||h||[]).map((g,w)=>{var b=n?n.indexOf(g):g,_=o.map(b);return se(_)?{coordinate:_+y,value:g,offset:y,index:w}:null}).filter(nr);return x}return u&&c?c.map((g,w)=>{var b=o.map(g);return se(b)?{coordinate:b+y,value:g,index:w,offset:y}:null}).filter(nr):o.ticks&&d!=null?o.ticks(d).map((g,w)=>{var b=o.map(g);return se(b)?{coordinate:b+y,value:g,index:w,offset:y}:null}).filter(nr):o.domain().map((g,w)=>{var b=o.map(g);return se(b)?{coordinate:b+y,value:n?n[g]:g,index:w,offset:y}:null}).filter(nr)},wL=(e,t)=>{if(!t||t.length!==2||!q(t[0])||!q(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!q(e[0])||e[0]<r)&&(i[0]=r),(!q(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},bL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,l=0;l<r;++l){var u=e[l],c=u==null?void 0:u[i];if(c!=null){var d=c[1],f=c[0],h=wn(d)?f:d;h>=0?(c[0]=a,a+=h,c[1]=a):(c[0]=o,o+=h,c[1]=o)}}}},_L=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=wn(u[1])?u[0]:u[1];c>=0?(u[0]=a,a+=c,u[1]=a):(u[0]=0,u[1]=0)}}}},jL={sign:bL,expand:uD,none:ma,silhouette:cD,wiggle:dD,positive:_L},SL=(e,t,r)=>{var n,i=(n=jL[r])!==null&&n!==void 0?n:ma,a=lD().keys(t).value((l,u)=>Number(He(l,u,0))).order(Yp).offset(i),o=a(e);return o.forEach((l,u)=>{l.forEach((c,d)=>{var f=He(e[d],t[u],0);Array.isArray(f)&&f.length===2&&q(f[0])&&q(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function PL(e){return e==null?void 0:String(e)}function Dc(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Oe(i[t.dataKey])){var l=rP(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var u=He(i,Oe(o)?t.dataKey:o),c=t.scale.map(u);return q(c)?c:null}var q0=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=He(a,t.dataKey,t.scale.domain()[o]);if(Oe(l))return null;var u=t.scale.map(l);return q(u)?u-i/2+n:null},kL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},NL=e=>{var t=e.flat(2).filter(q);return[Math.min(...t),Math.max(...t)]},EL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],OL=(e,t,r)=>{if(e!=null)return EL(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,l=o.reduce((u,c)=>{var d=uk(c,t,r),f=NL(d);return!se(f[0])||!se(f[1])?u:[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},G0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,So=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Gd(t,d=>d.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],c=i[o-1];a=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function X0(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return to(to({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Ro(e,t){if(e)return String(e);if(typeof t=="string")return t}var AL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},CL=(e,t)=>t==="centric"?e.angle:e.radius,ri=e=>e.layout.width,ni=e=>e.layout.height,TL=e=>e.layout.scale,fk=e=>e.layout.margin,af=C(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),of=C(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),IL="data-recharts-item-index",hk="data-recharts-item-id",bl=60;function Q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(n){ML(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ML(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=LL(e,"string");return typeof t=="symbol"?t:t+""}function LL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RL=e=>e.brush.height;function $L(e){var t=of(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bl;return r+i}return r},0)}function zL(e){var t=of(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bl;return r+i}return r},0)}function FL(e){var t=af(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function BL(e){var t=af(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Nt=C([ri,ni,fk,RL,$L,zL,FL,BL,IP,h2],(e,t,r,n,i,a,o,l,u,c)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=fu(fu({},f),d),m=h.bottom;h.bottom+=n,h=xL(h,u,c);var v=e-h.left-h.right,y=t-h.top-h.bottom;return fu(fu({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(y,0)})}),UL=C(Nt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),hg=C(ri,ni,(e,t)=>({x:0,y:0,width:e,height:t})),WL=p.createContext(null),ft=()=>p.useContext(WL)!=null,sf=e=>e.brush,lf=C([sf,Nt,fk],(e,t,r)=>({height:e.height,x:q(e.x)?e.x:t.left,y:q(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:q(e.width)?e.width:t.width})),pk={},mk={},vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{c&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{v(),o=void 0,l=null},x=()=>{d()},g=function(...w){if(i!=null&&i.aborted)return;o=this,l=w;const b=h==null;m(),u&&b&&d()};return g.schedule=m,g.cancel=y,g.flush=x,i==null||i.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(vk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:c}),m=function(...y){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk;function r(n,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:l})}e.throttle=r})(pk);var KL=pk.throttle;const HL=Zn(KL);var Lc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},mn={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},gk=(e,t,r)=>{var{width:n=mn.width,height:i=mn.height,aspect:a,maxHeight:o}=r,l=va(n)?e:Number(n),u=va(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},VL={width:0,height:0,overflow:"visible"},qL={width:0,overflowX:"visible"},GL={height:0,overflowY:"visible"},YL={},XL=e=>{var{width:t,height:r}=e,n=va(t),i=va(r);return n&&i?VL:n?qL:i?GL:YL};function QL(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=mn.width,a=mn.height):i===void 0?i=n&&n>0?void 0:mn.width:a===void 0&&(a=n&&n>0?void 0:mn.height),{width:i,height:a}}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(null,arguments)}function Z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZL(e,t,r){return(t=JL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e){var t=eR(e,"string");return typeof t=="symbol"?t:t+""}function eR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yk=p.createContext(mn.initialDimension);function tR(e){return bn(e.width)&&bn(e.height)}function xk(e){var{children:t,width:r,height:n}=e,i=p.useMemo(()=>({width:r,height:n}),[r,n]);return tR(i)?p.createElement(yk.Provider,{value:i},t):null}var pg=()=>p.useContext(yk),rR=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=mn.initialDimension,width:i,height:a,minWidth:o=mn.minWidth,minHeight:l,maxHeight:u,children:c,debounce:d=mn.debounce,id:f,className:h,onResize:m,style:v={}}=e,y=p.useRef(null),x=p.useRef();x.current=m,p.useImperativeHandle(t,()=>y.current);var[g,w]=p.useState({containerWidth:n.width,containerHeight:n.height}),b=p.useCallback((k,E)=>{w(N=>{var T=Math.round(k),O=Math.round(E);return N.containerWidth===T&&N.containerHeight===O?N:{containerWidth:T,containerHeight:O}})},[]);p.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Na;var k=O=>{var W,U=O[0];if(U!=null){var{width:K,height:G}=U.contentRect;b(K,G),(W=x.current)===null||W===void 0||W.call(x,K,G)}};d>0&&(k=HL(k,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(k),{width:N,height:T}=y.current.getBoundingClientRect();return b(N,T),E.observe(y.current),()=>{E.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:S}=g;Lc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:P}=gk(_,S,{width:i,height:a,aspect:r,maxHeight:u});return Lc(j!=null&&j>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,P,i,a,o,l,r),p.createElement("div",{id:f?"".concat(f):void 0,className:_e("recharts-responsive-container",h),style:J0(J0({},v),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:y},p.createElement("div",{style:XL({width:i,height:a})},p.createElement(xk,{width:j,height:P},c)))}),Gr=p.forwardRef((e,t)=>{var r=pg();if(bn(r.width)&&bn(r.height))return e.children;var{width:n,height:i}=QL({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=gk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return q(a)&&q(o)?p.createElement(xk,{width:a,height:o},e.children):p.createElement(rR,sm({},e,{width:n,height:i,ref:t}))});function mg(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var $o=()=>{var e,t=ft(),r=Y(UL),n=Y(lf),i=(e=Y(sf))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},nR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wk=()=>{var e;return(e=Y(Nt))!==null&&e!==void 0?e:nR},bk=()=>Y(ri),_k=()=>Y(ni),Ne=e=>e.layout.layoutType,Ea=()=>Y(Ne),jk=()=>{var e=Ea();if(e==="horizontal"||e==="vertical")return e},Sk=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},iR=()=>{var e=Ea();return e!==void 0},_l=e=>{var t=et(),r=ft(),{width:n,height:i}=e,a=pg(),o=n,l=i;return a&&(o=a.width>0?a.width:n,l=a.height>0?a.height:i),p.useEffect(()=>{!r&&bn(o)&&bn(l)&&t(hL({width:o,height:l}))},[t,r,o,l]),null},Pk=Symbol.for("immer-nothing"),ew=Symbol.for("immer-draftable"),br=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var el=Object.getPrototypeOf;function Po(e){return!!e&&!!e[br]}function ya(e){var t;return e?kk(e)||Array.isArray(e)||!!e[ew]||!!((t=e.constructor)!=null&&t[ew])||jl(e)||cf(e):!1}var aR=Object.prototype.constructor.toString(),tw=new WeakMap;function kk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=tw.get(r);return n===void 0&&(n=Function.toString.call(r),tw.set(r,n)),n===aR}function Rc(e,t,r=!0){uf(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function uf(e){const t=e[br];return t?t.type_:Array.isArray(e)?1:jl(e)?2:cf(e)?3:0}function lm(e,t){return uf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Nk(e,t,r){const n=uf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function oR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jl(e){return e instanceof Map}function cf(e){return e instanceof Set}function qi(e){return e.copy_||e.base_}function um(e,t){if(jl(e))return new Map(e);if(cf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=kk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[br];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(el(e),n)}else{const n=el(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function vg(e,t=!1){return df(e)||Po(e)||!ya(e)||(uf(e)>1&&Object.defineProperties(e,{set:hu,add:hu,clear:hu,delete:hu}),Object.freeze(e),t&&Object.values(e).forEach(r=>vg(r,!0))),e}function sR(){Vr(2)}var hu={value:sR};function df(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var lR={};function xa(e){const t=lR[e];return t||Vr(0,e),t}var tl;function Ek(){return tl}function uR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rw(e,t){t&&(xa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cm(e){dm(e),e.drafts_.forEach(cR),e.drafts_=null}function dm(e){e===tl&&(tl=e.parent_)}function nw(e){return tl=uR(tl,e)}function cR(e){const t=e[br];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[br].modified_&&(cm(t),Vr(4)),ya(e)&&(e=$c(t,e),t.parent_||zc(t,e)),t.patches_&&xa("Patches").generateReplacementPatches_(r[br].base_,e,t.patches_,t.inversePatches_)):e=$c(t,r,[]),cm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Pk?e:void 0}function $c(e,t,r){if(df(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[br];if(!i)return Rc(t,(a,o)=>aw(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return zc(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Rc(o,(u,c)=>aw(e,i,a,u,c,r,l),n),zc(e,a,!1),r&&e.patches_&&xa("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function aw(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=df(i);if(!(l&&!o)){if(Po(i)){const u=a&&t&&t.type_!==3&&!lm(t.assigned_,n)?a.concat(n):void 0,c=$c(e,i,u);if(Nk(r,n,c),Po(c))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ya(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;$c(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(jl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zc(e,i)}}}function zc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vg(t,r)}function dR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ek(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=gg;r&&(i=[n],a=rl);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}var gg={get(e,t){if(t===br)return e;const r=qi(e);if(!lm(r,t))return fR(e,r,t);const n=r[t];return e.finalized_||!ya(n)?n:n===Ph(e.base_,t)?(kh(e),e.copy_[t]=hm(n,e)):n},has(e,t){return t in qi(e)},ownKeys(e){return Reflect.ownKeys(qi(e))},set(e,t,r){const n=Ok(qi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ph(qi(e),t),a=i==null?void 0:i[br];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(oR(r,i)&&(r!==void 0||lm(e.base_,t)))return!0;kh(e),fm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ph(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kh(e),fm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return el(e.base_)},setPrototypeOf(){Vr(12)}},rl={};Rc(gg,(e,t)=>{rl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});rl.deleteProperty=function(e,t){return rl.set.call(this,e,t,void 0)};rl.set=function(e,t,r){return gg.set.call(this,e[0],t,r,e[0])};function Ph(e,t){const r=e[br];return(r?qi(r):e)[t]}function fR(e,t,r){var i;const n=Ok(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Ok(e,t){if(!(t in e))return;let r=el(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=el(r)}}function fm(e){e.modified_||(e.modified_=!0,e.parent_&&fm(e.parent_))}function kh(e){e.copy_||(e.copy_=um(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(u=a,...c){return o.produce(u,d=>r.call(this,d,...c))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let i;if(ya(t)){const a=nw(this),o=hm(t,void 0);let l=!0;try{i=r(o),l=!1}finally{l?cm(a):dm(a)}return rw(a,n),iw(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Pk&&(i=void 0),this.autoFreeze_&&vg(i,!0),n){const a=[],o=[];xa("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,i;return[this.produce(t,r,(o,l)=>{n=o,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ya(e)||Vr(8),Po(e)&&(e=pR(e));const t=nw(this),r=hm(e,void 0);return r[br].isManual_=!0,dm(t),r}finishDraft(e,t){const r=e&&e[br];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return rw(n,t),iw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=xa("Patches").applyPatches_;return Po(e)?n(e,t):this.produce(e,i=>n(i,t))}};function hm(e,t){const r=jl(e)?xa("MapSet").proxyMap_(e,t):cf(e)?xa("MapSet").proxySet_(e,t):dR(e,t);return(t?t.scope_:Ek()).drafts_.push(r),r}function pR(e){return Po(e)||Vr(10,e),Ak(e)}function Ak(e){if(!ya(e)||df(e))return e;const t=e[br];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=um(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=um(e,!0);return Rc(r,(i,a)=>{Nk(r,i,Ak(a))},n),t&&(t.finalized_=!1),r}var mR=new hR;mR.produce;var vR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ck=ur({name:"legend",initialState:vR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ue()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Zr(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ue()},removeLegendPayload:{reducer(e,t){var r=Zr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ue()}}}),{setLegendSize:jq,setLegendSettings:Sq,addLegendPayload:gR,replaceLegendPayload:yR,removeLegendPayload:xR}=Ck.actions,wR=Ck.reducer;function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(null,arguments)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){bR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bR(e,t,r){return(t=_R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=jR(e,"string");return typeof t=="symbol"?t:t+""}function jR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SR(e){return Array.isArray(e)&&Lr(e[0])&&Lr(e[1])?e.join(" ~ "):e}var La={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},PR=e=>{var{separator:t=La.separator,contentStyle:r,itemStyle:n,labelStyle:i=La.labelStyle,payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=La.accessibilityLayer}=e,m=()=>{if(a&&a.length){var S={padding:0,margin:0},j=(l?Gd(a,l):a).map((P,k)=>{if(P.type==="none")return null;var E=P.formatter||o||SR,{value:N,name:T}=P,O=N,W=T;if(E){var U=E(N,T,P,k,a);if(Array.isArray(U))[O,W]=U;else if(U!=null)O=U;else return null}var K=rs(rs({},La.itemStyle),{},{color:P.color||La.itemStyle.color},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:K},Lr(W)?p.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Lr(W)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},O),p.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:S},j)}return null},v=rs(rs({},La.contentStyle),r),y=rs({margin:0},i),x=!Oe(d),g=x?d:"",w=_e("recharts-default-tooltip",u),b=_e("recharts-tooltip-label",c);x&&f&&a!==void 0&&a!==null&&(g=f(d,a));var _=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",pm({className:w,style:v},_),p.createElement("p",{className:b,style:y},p.isValidElement(g)?g:"".concat(g)),m())},ns="recharts-tooltip-wrapper",kR={visibility:"hidden"};function NR(e){var{coordinate:t,translateX:r,translateY:n}=e;return _e(ns,{["".concat(ns,"-right")]:q(r)&&t&&q(t.x)&&r>=t.x,["".concat(ns,"-left")]:q(r)&&t&&q(t.x)&&r<t.x,["".concat(ns,"-bottom")]:q(n)&&t&&q(t.y)&&n>=t.y,["".concat(ns,"-top")]:q(n)&&t&&q(t.y)&&n<t.y})}function sw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=e;if(a&&q(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return o[n]?d:f;var h=u[n];if(h==null)return 0;if(o[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var y=f+l,x=h+c;return y>x?Math.max(d,h):Math.max(f,h)}function ER(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function OR(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,d,f,h;return l.height>0&&l.width>0&&r?(f=sw({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),h=sw({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=ER({translateX:f,translateY:h,useTranslate3d:u})):d=kR,{cssProperties:d,cssClasses:NR({translateX:f,translateY:h,coordinate:r})}}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mm(e,t,r){return(t=AR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AR(e){var t=CR(e,"string");return typeof t=="symbol"?t:t+""}function CR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TR extends p.PureComponent{constructor(){super(...arguments),mm(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),mm(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:y,innerRef:x,hasPortalFromProps:g}=this.props,w=typeof c=="number"?c:c.x,b=typeof c=="number"?c:c.y,{cssClasses:_,cssProperties:S}=OR({allowEscapeViewBox:r,coordinate:o,offsetLeft:w,offsetTop:b,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=g?{}:pu(pu({transition:u&&t?"transform ".concat(n,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),P=pu(pu({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:P,ref:x},a)}}var Tk=()=>{var e;return(e=Y(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(null,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){IR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IR(e,t,r){return(t=MR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MR(e){var t=DR(e,"string");return typeof t=="symbol"?t:t+""}function DR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dw={curveBasisClosed:QM,curveBasisOpen:ZM,curveBasis:XM,curveBumpX:LM,curveBumpY:RM,curveLinearClosed:JM,curveLinear:zd,curveMonotoneX:eD,curveMonotoneY:tD,curveNatural:rD,curveStep:nD,curveStepAfter:aD,curveStepBefore:iD},Fc=e=>se(e.x)&&se(e.y),fw=e=>e.base!=null&&Fc(e.base)&&Fc(e),is=e=>e.x,as=e=>e.y,LR=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(yl(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=dw["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return dw[r]||zd},hw={connectNulls:!1,type:"linear"},RR=e=>{var{type:t=hw.type,points:r=[],baseLine:n,layout:i,connectNulls:a=hw.connectNulls}=e,o=LR(t,i),l=a?r.filter(Fc):r;if(Array.isArray(n)){var u,c=r.map((v,y)=>cw(cw({},v),{},{base:n[y]}));i==="vertical"?u=ou().y(as).x1(is).x0(v=>v.base.x):u=ou().x(is).y1(as).y0(v=>v.base.y);var d=u.defined(fw).curve(o),f=a?c.filter(fw):c;return d(f)}var h;i==="vertical"&&q(n)?h=ou().y(as).x1(is).x0(n):q(n)?h=ou().x(is).y1(as).y0(n):h=U1().x(is).y(as);var m=h.defined(Fc).curve(o);return m(l)},yg=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Ea();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},l=r&&r.length?RR(o):n;return p.createElement("path",vm({},wr(e),Yv(e),{className:_e("recharts-curve",t),d:l===null?void 0:l,ref:i}))},$R=["x","y","top","left","width","height","className"];function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(null,arguments)}function pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(r),!0).forEach(function(n){FR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FR(e,t,r){return(t=BR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BR(e){var t=UR(e,"string");return typeof t=="symbol"?t:t+""}function UR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WR(e,t){if(e==null)return{};var r,n,i=KR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HR=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),VR=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=WR(e,$R),c=zR({x:t,y:r,top:n,left:i,width:a,height:o},u);return!q(t)||!q(r)||!q(a)||!q(o)||!q(n)||!q(i)?null:p.createElement("path",gm({},Wt(c),{className:_e("recharts-cross",l),d:HR(t,r,a,o,n,i)}))};function qR(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){GR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GR(e,t,r){return(t=YR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YR(e){var t=XR(e,"string");return typeof t=="symbol"?t:t+""}function XR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QR=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ik=(e,t,r)=>e.map(n=>"".concat(QR(n)," ").concat(t,"ms ").concat(r)).join(","),ZR=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),nl=(e,t)=>Object.keys(t).reduce((r,n)=>vw(vw({},r),{},{[n]:e(n,t[n])}),{});function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){JR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JR(e,t,r){return(t=e$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e$(e){var t=t$(e,"string");return typeof t=="symbol"?t:t+""}function t$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bc=(e,t,r)=>e+(t-e)*r,ym=e=>{var{from:t,to:r}=e;return t!==r},Mk=(e,t,r)=>{var n=nl((i,a)=>{if(ym(a)){var[o,l]=e(a.from,a.to,a.velocity);return ut(ut({},a),{},{from:o,velocity:l})}return a},t);return r<1?nl((i,a)=>ym(a)&&n[i]!=null?ut(ut({},a),{},{velocity:Bc(a.velocity,n[i].velocity,r),from:Bc(a.from,n[i].from,r)}):a,t):Mk(e,n,r-1)};function r$(e,t,r,n,i,a){var o,l=n.reduce((h,m)=>ut(ut({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),u=()=>nl((h,m)=>m.from,l),c=()=>!Object.values(l).filter(ym).length,d=null,f=h=>{o||(o=h);var m=h-o,v=m/r.dt;l=Mk(r,l,v),i(ut(ut(ut({},e),t),u())),o=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function n$(e,t,r,n,i,a,o){var l=null,u=i.reduce((f,h)=>{var m=e[h],v=t[h];return m==null||v==null?f:ut(ut({},f),{},{[h]:[m,v]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/n,m=nl((y,x)=>Bc(...x,r(h)),u);if(a(ut(ut(ut({},e),t),m)),h<1)l=o.setTimeout(d);else{var v=nl((y,x)=>Bc(...x,r(1)),u);a(ut(ut(ut({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const i$=(e,t,r,n,i,a)=>{var o=ZR(e,t);return r==null?()=>(i(ut(ut({},e),t)),()=>{}):r.isStepper===!0?r$(e,t,r,o,i,a):n$(e,t,r,n,o,i,a)};var Uc=1e-4,Dk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Lk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),yw=(e,t)=>r=>{var n=Dk(e,t);return Lk(n,r)},a$=(e,t)=>r=>{var n=Dk(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return Lk(i,r)},o$=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},s$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=o$(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},l$=(e,t,r,n)=>{var i=yw(e,r),a=yw(t,n),o=a$(e,r),l=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,v=o(f);if(Math.abs(m-d)<Uc||v<Uc)return a(f);f=l(f-m/v)}return a(f)};return u.isStepper=!1,u},xw=function(){return l$(...s$(...arguments))},u$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,l,u)=>{var c=-(o-l)*r,d=u*n,f=u+(c-d)*i/1e3,h=u*i/1e3+o;return Math.abs(h-l)<Uc&&Math.abs(f)<Uc?[l,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},c$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xw(e);case"spring":return u$();default:if(e.split("(")[0]==="cubic-bezier")return xw(e)}return typeof e=="function"?e:null};function d$(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...c]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,c),u);return}a(u),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class f${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function h$(){return d$(new f$)}var p$=p.createContext(h$);function m$(e,t){var r=p.useContext(p$);return p.useMemo(()=>t??r(e),[e,t,r])}var v$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ff={isSsr:v$()},g$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ww={t:0},Nh={t:1};function Sl(e){var t=kt(e,g$),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:c}=t,d=r==="auto"?!ff.isSsr:r,f=m$(t.animationId,t.animationManager),[h,m]=p.useState(d?ww:Nh),v=p.useRef(null);return p.useEffect(()=>{d||m(Nh)},[d]),p.useEffect(()=>{if(!d||!n)return Na;var y=i$(ww,Nh,c$(a),i,m,f.getTimeoutController()),x=()=>{v.current=y()};return f.start([u,o,x,i,l]),()=>{f.stop(),v.current&&v.current(),l()}},[d,n,i,a,o,u,l,f]),c(h.t)}function Pl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Xs(t)),n=p.useRef(e);return n.current!==e&&(r.current=Xs(t),n.current=e),r.current}var y$=["radius"],x$=["radius"],bw,_w,jw,Sw,Pw,kw,Nw,Ew,Ow,Aw;function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){w$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w$(e,t,r){return(t=b$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=_$(e,"string");return typeof t=="symbol"?t:t+""}function _$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(null,arguments)}function Iw(e,t){if(e==null)return{};var r,n,i=j$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ln(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Mw=(e,t,r,n,i)=>{var a=_i(r),o=_i(n),l=Math.min(Math.abs(a)/2,Math.abs(o)/2),u=o>=0?1:-1,c=a>=0?1:-1,d=o>=0&&a>=0||o<0&&a<0?1:0,f;if(l>0&&Array.isArray(i)){for(var h=[0,0,0,0],m=0,v=4;m<v;m++){var y,x=(y=i[m])!==null&&y!==void 0?y:0;h[m]=x>l?l:x}f=Ze(bw||(bw=ln(["M",",",""])),e,t+u*h[0]),h[0]>0&&(f+=Ze(_w||(_w=ln(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Ze(jw||(jw=ln(["L ",",",""])),e+r-c*h[1],t),h[1]>0&&(f+=Ze(Sw||(Sw=ln(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+u*h[1])),f+=Ze(Pw||(Pw=ln(["L ",",",""])),e+r,t+n-u*h[2]),h[2]>0&&(f+=Ze(kw||(kw=ln(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-c*h[2],t+n)),f+=Ze(Nw||(Nw=ln(["L ",",",""])),e+c*h[3],t+n),h[3]>0&&(f+=Ze(Ew||(Ew=ln(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-u*h[3])),f+="Z"}else if(l>0&&i===+i&&i>0){var g=Math.min(l,i);f=Ze(Ow||(Ow=ln(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*g,g,g,d,e+c*g,t,e+r-c*g,t,g,g,d,e+r,t+u*g,e+r,t+n-u*g,g,g,d,e+r-c*g,t+n,e+c*g,t+n,g,g,d,e,t+n-u*g)}else f=Ze(Aw||(Aw=ln(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Dw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rk=e=>{var t=kt(e,Dw),r=p.useRef(null),[n,i]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:y}=t,x=p.useRef(l),g=p.useRef(u),w=p.useRef(a),b=p.useRef(o),_=p.useMemo(()=>({x:a,y:o,width:l,height:u,radius:c}),[a,o,l,u,c]),S=Pl(_,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var j=_e("recharts-rectangle",d);if(!y){var P=Wt(t),{radius:k}=P,E=Iw(P,y$);return p.createElement("path",Wc({},E,{x:_i(a),y:_i(o),width:_i(l),height:_i(u),radius:typeof c=="number"?c:void 0,className:j,d:Mw(a,o,l,u,c)}))}var N=x.current,T=g.current,O=w.current,W=b.current,U="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),G=Ik(["strokeDasharray"],h,typeof f=="string"?f:Dw.animationEasing);return p.createElement(Sl,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:y,begin:m},X=>{var A=De(N,l,X),$=De(T,u,X),F=De(O,a,X),Q=De(W,o,X);r.current&&(x.current=A,g.current=$,w.current=F,b.current=Q);var J;v?X>0?J={transition:G,strokeDasharray:K}:J={strokeDasharray:U}:J={strokeDasharray:K};var ne=Wt(t),{radius:pe}=ne,je=Iw(ne,x$);return p.createElement("path",Wc({},je,{radius:typeof c=="number"?c:void 0,className:j,d:Mw(F,Q,A,$,c),ref:r,style:Tw(Tw({},J),t.style)}))})};function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){S$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$(e,t,r){return(t=P$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P$(e){var t=k$(e,"string");return typeof t=="symbol"?t:t+""}function k$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kc=Math.PI/180,N$=e=>e*180/Math.PI,Mt=(e,t,r,n)=>({x:e+Math.cos(-Kc*n)*r,y:t+Math.sin(-Kc*n)*r}),E$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},O$=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},A$=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=O$({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,u=Math.acos(l);return n>a&&(u=2*Math.PI-u),{radius:o,angle:N$(u),angleInRadian:u}},C$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},T$=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},I$=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=A$({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:c}=C$(t),d=a,f;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}return f?Rw(Rw({},t),{},{radius:i,angle:T$(d,t)}):null};function $k(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Mt(t,r,n,i),l=Mt(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var $w,zw,Fw,Bw,Uw,Ww,Kw;function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(null,arguments)}function Zi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M$=(e,t)=>{var r=rr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},mu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,c=l*(o?1:-1)+n,d=Math.asin(l/c)/Kc,f=u?i:i+a*d,h=Mt(t,r,c,f),m=Mt(t,r,n,f),v=u?i-a*d:i,y=Mt(t,r,c*Math.cos(d*Kc),v);return{center:h,circleTangency:m,lineTangency:y,theta:d}},zk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,l=M$(a,o),u=a+l,c=Mt(t,r,i,a),d=Mt(t,r,i,u),f=Ze($w||($w=Zi(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(l)>180),+(a>u),d.x,d.y);if(n>0){var h=Mt(t,r,n,a),m=Mt(t,r,n,u);f+=Ze(zw||(zw=Zi(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(a<=u),h.x,h.y)}else f+=Ze(Fw||(Fw=Zi(["L ",","," Z"])),t,r);return f},D$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}=e,d=rr(c-u),{circleTangency:f,lineTangency:h,theta:m}=mu({cx:t,cy:r,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:v,lineTangency:y,theta:x}=mu({cx:t,cy:r,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),g=l?Math.abs(u-c):Math.abs(u-c)-m-x;if(g<0)return o?Ze(Bw||(Bw=Zi(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):zk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:c});var w=Ze(Uw||(Uw=Zi(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(g>180),+(d<0),v.x,v.y,a,a,+(d<0),y.x,y.y);if(n>0){var{circleTangency:b,lineTangency:_,theta:S}=mu({cx:t,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:j,lineTangency:P,theta:k}=mu({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=l?Math.abs(u-c):Math.abs(u-c)-S-k;if(E<0&&a===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=Ze(Ww||(Ww=Zi(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(d<0),j.x,j.y,n,n,+(E>180),+(d>0),b.x,b.y,a,a,+(d<0),_.x,_.y)}else w+=Ze(Kw||(Kw=Zi(["L",",","Z"])),t,r);return w},L$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fk=e=>{var t=kt(e,L$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=_e("recharts-sector",f),m=a-i,v=tn(o,m,0,!0),y;return v>0&&Math.abs(c-d)<360?y=D$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):y=zk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),p.createElement("path",xm({},Wt(t),{className:h,d:y}))};function R$(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(iP(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Mt(n,i,a,l),c=Mt(n,i,o,l);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return $k(t)}}var Bk={},Uk={},Wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ag;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=og,r=Uk;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=i,i+=o;return u}e.range=n})(Bk);var $$=Bk.range;const Kk=Zn($$);function Ti(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xg(e){let t,r,n;e.length!==2?(t=Ti,r=(l,u)=>Ti(e(l),u),n=(l,u)=>e(l)-u):(t=e===Ti||e===z$?e:F$,r=e,n=e);function i(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const f=c+d>>>1;r(l[f],u)<0?c=f+1:d=f}while(c<d)}return c}function a(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const f=c+d>>>1;r(l[f],u)<=0?c=f+1:d=f}while(c<d)}return c}function o(l,u,c=0,d=l.length){const f=i(l,u,c,d-1);return f>c&&n(l[f-1],u)>-n(l[f],u)?f-1:f}return{left:i,center:o,right:a}}function F$(){return 0}function Hk(e){return e===null?NaN:+e}function*B$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const U$=xg(Ti),kl=U$.right;xg(Hk).center;class Hw extends Map{constructor(t,r=H$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Vw(this,t))}has(t){return super.has(Vw(this,t))}set(t,r){return super.set(W$(this,t),r)}delete(t){return super.delete(K$(this,t))}}function Vw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function W$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function K$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function H$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function V$(e=Ti){if(e===Ti)return Vk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Vk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const q$=Math.sqrt(50),G$=Math.sqrt(10),Y$=Math.sqrt(2);function Hc(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=q$?10:a>=G$?5:a>=Y$?2:1;let l,u,c;return i<0?(c=Math.pow(10,-i)/o,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*o,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?Hc(e,t,r*2):[l,u,c]}function wm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Hc(t,e,r):Hc(e,t,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)u[c]=(a-c)/-o;else for(let c=0;c<l;++c)u[c]=(a-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(i+c)/-o;else for(let c=0;c<l;++c)u[c]=(i+c)*o;return u}function bm(e,t,r){return t=+t,e=+e,r=+r,Hc(e,t,r)[2]}function _m(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?bm(t,e,r):bm(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function qw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Gw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Vk:V$(i);n>r;){if(n-r>600){const u=n-r+1,c=t-r+1,d=Math.log(u),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(u-f)/u)*(c-u/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/u+h)),v=Math.min(n,Math.floor(t+(u-c)*f/u+h));qk(e,t,m,v,i)}const a=e[t];let o=r,l=n;for(os(e,r,t),i(e[n],a)>0&&os(e,r,n);o<l;){for(os(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?os(e,r,l):(++l,os(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function os(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function X$(e,t,r){if(e=Float64Array.from(B$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Gw(e);if(t>=1)return qw(e);var n,i=(n-1)*t,a=Math.floor(i),o=qw(qk(e,a).subarray(0,a+1)),l=Gw(e.subarray(a+1));return o+(l-o)*(i-a)}}function Q$(e,t,r=Hk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function Z$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jm=Symbol("implicit");function wg(){var e=new Hw,t=[],r=[],n=jm;function i(a){let o=e.get(a);if(o===void 0){if(n!==jm)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Hw;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return wg(t,r).unknown(n)},zr.apply(i,arguments),i}function bg(){var e=wg().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,u=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,v=m?i:n,y=m?n:i;a=(y-v)/Math.max(1,h-u+c*2),l&&(a=Math.floor(a)),v+=(y-v-a*(h-u))*d,o=a*(1-u),l&&(v=Math.round(v),o=Math.round(o));var x=Z$(h).map(function(g){return v+a*g});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),f()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return bg(t(),[n,i]).round(l).paddingInner(u).paddingOuter(c).align(d)},zr.apply(f(),arguments)}function Gk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Gk(t())},e}function J$(){return Gk(bg.apply(null,arguments).paddingInner(1))}function _g(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Yk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Nl(){}var il=.7,Vc=1/il,fo="\\s*([+-]?\\d+)\\s*",al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ez=/^#([0-9a-f]{3,8})$/,tz=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),rz=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),nz=new RegExp(`^rgba\\(${fo},${fo},${fo},${al}\\)$`),iz=new RegExp(`^rgba\\(${xn},${xn},${xn},${al}\\)$`),az=new RegExp(`^hsl\\(${al},${xn},${xn}\\)$`),oz=new RegExp(`^hsla\\(${al},${xn},${xn},${al}\\)$`),Yw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_g(Nl,ol,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xw,formatHex:Xw,formatHex8:sz,formatHsl:lz,formatRgb:Qw,toString:Qw});function Xw(){return this.rgb().formatHex()}function sz(){return this.rgb().formatHex8()}function lz(){return Xk(this).formatHsl()}function Qw(){return this.rgb().formatRgb()}function ol(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ez.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Zw(t):r===3?new ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tz.exec(e))?new ir(t[1],t[2],t[3],1):(t=rz.exec(e))?new ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nz.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=iz.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=az.exec(e))?tb(t[1],t[2]/100,t[3]/100,1):(t=oz.exec(e))?tb(t[1],t[2]/100,t[3]/100,t[4]):Yw.hasOwnProperty(e)?Zw(Yw[e]):e==="transparent"?new ir(NaN,NaN,NaN,0):null}function Zw(e){return new ir(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ir(e,t,r,n)}function uz(e){return e instanceof Nl||(e=ol(e)),e?(e=e.rgb(),new ir(e.r,e.g,e.b,e.opacity)):new ir}function Sm(e,t,r,n){return arguments.length===1?uz(e):new ir(e,t,r,n??1)}function ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_g(ir,Sm,Yk(Nl,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?il:Math.pow(il,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ir(sa(this.r),sa(this.g),sa(this.b),qc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jw,formatHex:Jw,formatHex8:cz,formatRgb:eb,toString:eb}));function Jw(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}`}function cz(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}${Ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function eb(){const e=qc(this.opacity);return`${e===1?"rgb(":"rgba("}${sa(this.r)}, ${sa(this.g)}, ${sa(this.b)}${e===1?")":`, ${e})`}`}function qc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ji(e){return e=sa(e),(e<16?"0":"")+e.toString(16)}function tb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qr(e,t,r,n)}function Xk(e){if(e instanceof qr)return new qr(e.h,e.s,e.l,e.opacity);if(e instanceof Nl||(e=ol(e)),!e)return new qr;if(e instanceof qr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new qr(o,l,u,e.opacity)}function dz(e,t,r,n){return arguments.length===1?Xk(e):new qr(e,t,r,n??1)}function qr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_g(qr,dz,Yk(Nl,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?il:Math.pow(il,e),new qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ir(Eh(e>=240?e-240:e+120,i,n),Eh(e,i,n),Eh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new qr(rb(this.h),gu(this.s),gu(this.l),qc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qc(this.opacity);return`${e===1?"hsl(":"hsla("}${rb(this.h)}, ${gu(this.s)*100}%, ${gu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rb(e){return e=(e||0)%360,e<0?e+360:e}function gu(e){return Math.max(0,Math.min(1,e||0))}function Eh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jg=e=>()=>e;function fz(e,t){return function(r){return e+r*t}}function hz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pz(e){return(e=+e)==1?Qk:function(t,r){return r-t?hz(t,r,e):jg(isNaN(t)?r:t)}}function Qk(e,t){var r=t-e;return r?fz(e,r):jg(isNaN(e)?t:e)}const nb=function e(t){var r=pz(t);function n(i,a){var o=r((i=Sm(i)).r,(a=Sm(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),c=Qk(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=u(d),i.opacity=c(d),i+""}}return n.gamma=e,n}(1);function mz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function vz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=zo(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function yz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xz(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=zo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Pm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oh=new RegExp(Pm.source,"g");function wz(e){return function(){return e}}function bz(e){return function(t){return e(t)+""}}function _z(e,t){var r=Pm.lastIndex=Oh.lastIndex=0,n,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Pm.exec(e))&&(i=Oh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Gc(n,i)})),r=Oh.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?bz(u[0].x):wz(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}function zo(e,t){var r=typeof t,n;return t==null||r==="boolean"?jg(t):(r==="number"?Gc:r==="string"?(n=ol(t))?(t=n,nb):_z:t instanceof ol?nb:t instanceof Date?yz:vz(t)?mz:Array.isArray(t)?gz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xz:Gc)(e,t)}function Sg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jz(e,t){t===void 0&&(t=e,e=zo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function Sz(e){return function(){return e}}function Yc(e){return+e}var ib=[0,1];function qt(e){return e}function km(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Sz(isNaN(t)?NaN:.5)}function Pz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kz(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=km(i,n),a=r(o,a)):(n=km(n,i),a=r(a,o)),function(l){return a(n(l))}}function Nz(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=km(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var u=kl(e,l,1,n)-1;return a[u](i[u](l))}}function El(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hf(){var e=ib,t=ib,r=zo,n,i,a,o=qt,l,u,c;function d(){var h=Math.min(e.length,t.length);return o!==qt&&(o=Pz(e[0],e[h-1])),l=h>2?Nz:kz,u=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(u||(u=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=l(t,e.map(n),Gc)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yc),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Sg,d()},f.clamp=function(h){return arguments.length?(o=h?!0:qt,d()):o!==qt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function Pg(){return hf()(qt,qt)}function Ez(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xc(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ko(e){return e=Xc(Math.abs(e)),e?e[1]:NaN}function Oz(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Az(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Cz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sl(e){if(!(t=Cz.exec(e)))throw new Error("invalid format: "+e);var t;return new kg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sl.prototype=kg.prototype;function kg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Qc;function Iz(e,t){var r=Xc(e,t);if(!r)return Qc=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(Qc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Xc(e,Math.max(0,t+a-1))[0]}function ab(e,t){var r=Xc(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ob={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ez,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ab(e*100,t),r:ab,s:Iz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sb(e){return e}var lb=Array.prototype.map,ub=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mz(e){var t=e.grouping===void 0||e.thousands===void 0?sb:Oz(lb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?sb:Az(lb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=sl(f);var m=f.fill,v=f.align,y=f.sign,x=f.symbol,g=f.zero,w=f.width,b=f.comma,_=f.precision,S=f.trim,j=f.type;j==="n"?(b=!0,j="g"):ob[j]||(_===void 0&&(_=12),S=!0,j="g"),(g||m==="0"&&v==="=")&&(g=!0,m="0",v="=");var P=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),k=(x==="$"?n:/[%p]/.test(j)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),E=ob[j],N=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function T(O){var W=P,U=k,K,G,X;if(j==="c")U=E(O)+U,O="";else{O=+O;var A=O<0||1/O<0;if(O=isNaN(O)?u:E(Math.abs(O),_),S&&(O=Tz(O)),A&&+O==0&&y!=="+"&&(A=!1),W=(A?y==="("?y:l:y==="-"||y==="("?"":y)+W,U=(j==="s"&&!isNaN(O)&&Qc!==void 0?ub[8+Qc/3]:"")+U+(A&&y==="("?")":""),N){for(K=-1,G=O.length;++K<G;)if(X=O.charCodeAt(K),48>X||X>57){U=(X===46?i+O.slice(K+1):O.slice(K))+U,O=O.slice(0,K);break}}}b&&!g&&(O=t(O,1/0));var $=W.length+O.length+U.length,F=$<w?new Array(w-$+1).join(m):"";switch(b&&g&&(O=t(F+O,F.length?w-U.length:1/0),F=""),v){case"<":O=W+O+U+F;break;case"=":O=W+F+O+U;break;case"^":O=F.slice(0,$=F.length>>1)+W+O+U+F.slice($);break;default:O=F+W+O+U;break}return a(O)}return T.toString=function(){return f+""},T}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(ko(h)/3)))*3,v=Math.pow(10,-m),y=c((f=sl(f),f.type="f",f),{suffix:ub[8+m/3]});return function(x){return y(v*x)}}return{format:c,formatPrefix:d}}var yu,Ng,Zk;Dz({thousands:",",grouping:[3],currency:["$",""]});function Dz(e){return yu=Mz(e),Ng=yu.format,Zk=yu.formatPrefix,yu}function Lz(e){return Math.max(0,-ko(Math.abs(e)))}function Rz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ko(t)/3)))*3-ko(Math.abs(e)))}function $z(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ko(t)-ko(e))+1}function Jk(e,t,r,n){var i=_m(e,t,r),a;switch(n=sl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Rz(i,o))&&(n.precision=a),Zk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=$z(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Lz(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ng(n)}function Bi(e){var t=e.domain;return e.ticks=function(r){var n=t();return wm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Jk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],u,c,d=10;for(l<o&&(c=o,o=l,l=c,c=i,i=a,a=c);d-- >0;){if(c=bm(o,l,r),c===u)return n[i]=o,n[a]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function eN(){var e=Pg();return e.copy=function(){return El(e,eN())},zr.apply(e,arguments),Bi(e)}function tN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tN(e).unknown(t)},e=arguments.length?Array.from(e,Yc):[0,1],Bi(r)}function rN(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function cb(e){return Math.log(e)}function db(e){return Math.exp(e)}function zz(e){return-Math.log(-e)}function Fz(e){return-Math.exp(-e)}function Bz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Uz(e){return e===10?Bz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Wz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fb(e){return(t,r)=>-e(-t,r)}function Eg(e){const t=e(cb,db),r=t.domain;let n=10,i,a;function o(){return i=Wz(n),a=Uz(n),r()[0]<0?(i=fb(i),a=fb(a),e(zz,Fz)):e(cb,db),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let c=u[0],d=u[u.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),v,y;const x=l==null?10:+l;let g=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(v=1;v<n;++v)if(y=h<0?v/a(-h):v*a(h),!(y<c)){if(y>d)break;g.push(y)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(y=h>0?v/a(-h):v*a(h),!(y<c)){if(y>d)break;g.push(y)}g.length*2<x&&(g=wm(c,d,x))}else g=wm(h,m,Math.min(m-h,x)).map(a);return f?g.reverse():g},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=sl(u)).precision==null&&(u.trim=!0),u=Ng(u)),l===1/0)return u;const c=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?u(d):""}},t.nice=()=>r(rN(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function nN(){const e=Eg(hf()).domain([1,10]);return e.copy=()=>El(e,nN()).base(e.base()),zr.apply(e,arguments),e}function hb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Og(e){var t=1,r=e(hb(t),pb(t));return r.constant=function(n){return arguments.length?e(hb(t=+n),pb(t)):t},Bi(r)}function iN(){var e=Og(hf());return e.copy=function(){return El(e,iN()).constant(e.constant())},zr.apply(e,arguments)}function mb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Kz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hz(e){return e<0?-e*e:e*e}function Ag(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(Kz,Hz):e(mb(r),mb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Bi(t)}function Cg(){var e=Ag(hf());return e.copy=function(){return El(e,Cg()).exponent(e.exponent())},zr.apply(e,arguments),e}function Vz(){return Cg.apply(null,arguments).exponent(.5)}function vb(e){return Math.sign(e)*e*e}function qz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aN(){var e=Pg(),t=[0,1],r=!1,n;function i(a){var o=qz(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(vb(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Yc)).map(vb)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(i,arguments),Bi(i)}function oN(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Q$(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[kl(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ti),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return oN().domain(e).range(t).unknown(n)},zr.apply(a,arguments)}function sN(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[kl(n,u,0,r)]:a}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return sN().domain([e,t]).range(i).unknown(a)},zr.apply(Bi(o),arguments)}function lN(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[kl(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lN().domain(e).range(t).unknown(r)},zr.apply(i,arguments)}const Ah=new Date,Ch=new Date;function ht(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let c;do u.push(c=new Date(+a)),t(a,l),e(a);while(c<a&&a<o);return u},i.filter=a=>ht(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Ah.setTime(+a),Ch.setTime(+o),e(Ah),e(Ch),Math.floor(r(Ah,Ch))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Zc=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zc);Zc.range;const Mn=1e3,Ar=Mn*60,Dn=Ar*60,Hn=Dn*24,Tg=Hn*7,gb=Hn*30,Th=Hn*365,ea=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCSeconds());ea.range;const Ig=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mn)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getMinutes());Ig.range;const Mg=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getUTCMinutes());Mg.range;const Dg=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mn-e.getMinutes()*Ar)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getHours());Dg.range;const Lg=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCHours());Lg.range;const Ol=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/Hn,e=>e.getDate()-1);Ol.range;const pf=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);pf.range;const uN=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));uN.range;function Oa(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/Tg)}const mf=Oa(0),Jc=Oa(1),Gz=Oa(2),Yz=Oa(3),No=Oa(4),Xz=Oa(5),Qz=Oa(6);mf.range;Jc.range;Gz.range;Yz.range;No.range;Xz.range;Qz.range;function Aa(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tg)}const vf=Aa(0),ed=Aa(1),Zz=Aa(2),Jz=Aa(3),Eo=Aa(4),eF=Aa(5),tF=Aa(6);vf.range;ed.range;Zz.range;Jz.range;Eo.range;eF.range;tF.range;const Rg=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rg.range;const $g=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$g.range;const Vn=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const qn=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qn.range;function cN(e,t,r,n,i,a){const o=[[ea,1,Mn],[ea,5,5*Mn],[ea,15,15*Mn],[ea,30,30*Mn],[a,1,Ar],[a,5,5*Ar],[a,15,15*Ar],[a,30,30*Ar],[i,1,Dn],[i,3,3*Dn],[i,6,6*Dn],[i,12,12*Dn],[n,1,Hn],[n,2,2*Hn],[r,1,Tg],[t,1,gb],[t,3,3*gb],[e,1,Th]];function l(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:u(c,d,f),v=m?m.range(c,+d+1):[];return h?v.reverse():v}function u(c,d,f){const h=Math.abs(d-c)/f,m=xg(([,,x])=>x).right(o,h);if(m===o.length)return e.every(_m(c/Th,d/Th,f));if(m===0)return Zc.every(Math.max(_m(c,d,f),1));const[v,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(y)}return[l,u]}const[rF,nF]=cN(qn,$g,vf,uN,Lg,Mg),[iF,aF]=cN(Vn,Rg,mf,Ol,Dg,Ig);function Ih(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ss(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oF(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,c=ls(i),d=us(i),f=ls(a),h=us(a),m=ls(o),v=us(o),y=ls(l),x=us(l),g=ls(u),w=us(u),b={a:X,A,b:$,B:F,c:null,d:jb,e:jb,f:OF,g:zF,G:BF,H:kF,I:NF,j:EF,L:dN,m:AF,M:CF,p:Q,q:J,Q:kb,s:Nb,S:TF,u:IF,U:MF,V:DF,w:LF,W:RF,x:null,X:null,y:$F,Y:FF,Z:UF,"%":Pb},_={a:ne,A:pe,b:je,B:be,c:null,d:Sb,e:Sb,f:VF,g:r3,G:i3,H:WF,I:KF,j:HF,L:hN,m:qF,M:GF,p:me,q:mt,Q:kb,s:Nb,S:YF,u:XF,U:QF,V:ZF,w:JF,W:e3,x:null,X:null,y:t3,Y:n3,Z:a3,"%":Pb},S={a:N,A:T,b:O,B:W,c:U,d:bb,e:bb,f:_F,g:wb,G:xb,H:_b,I:_b,j:yF,L:bF,m:gF,M:xF,p:E,q:vF,Q:SF,s:PF,S:wF,u:dF,U:fF,V:hF,w:cF,W:pF,x:K,X:G,y:wb,Y:xb,Z:mF,"%":jF};b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(L,ee){return function(re){var R=[],ce=-1,xe=0,vt=L.length,ve,I,Z;for(re instanceof Date||(re=new Date(+re));++ce<vt;)L.charCodeAt(ce)===37&&(R.push(L.slice(xe,ce)),(I=yb[ve=L.charAt(++ce)])!=null?ve=L.charAt(++ce):I=ve==="e"?" ":"0",(Z=ee[ve])&&(ve=Z(re,I)),R.push(ve),xe=ce+1);return R.push(L.slice(xe,ce)),R.join("")}}function P(L,ee){return function(re){var R=ss(1900,void 0,1),ce=k(R,L,re+="",0),xe,vt;if(ce!=re.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(ee&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(xe=Mh(ss(R.y,0,1)),vt=xe.getUTCDay(),xe=vt>4||vt===0?ed.ceil(xe):ed(xe),xe=pf.offset(xe,(R.V-1)*7),R.y=xe.getUTCFullYear(),R.m=xe.getUTCMonth(),R.d=xe.getUTCDate()+(R.w+6)%7):(xe=Ih(ss(R.y,0,1)),vt=xe.getDay(),xe=vt>4||vt===0?Jc.ceil(xe):Jc(xe),xe=Ol.offset(xe,(R.V-1)*7),R.y=xe.getFullYear(),R.m=xe.getMonth(),R.d=xe.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),vt="Z"in R?Mh(ss(R.y,0,1)).getUTCDay():Ih(ss(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(vt+5)%7:R.w+R.U*7-(vt+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,Mh(R)):Ih(R)}}function k(L,ee,re,R){for(var ce=0,xe=ee.length,vt=re.length,ve,I;ce<xe;){if(R>=vt)return-1;if(ve=ee.charCodeAt(ce++),ve===37){if(ve=ee.charAt(ce++),I=S[ve in yb?ee.charAt(ce++):ve],!I||(R=I(L,re,R))<0)return-1}else if(ve!=re.charCodeAt(R++))return-1}return R}function E(L,ee,re){var R=c.exec(ee.slice(re));return R?(L.p=d.get(R[0].toLowerCase()),re+R[0].length):-1}function N(L,ee,re){var R=m.exec(ee.slice(re));return R?(L.w=v.get(R[0].toLowerCase()),re+R[0].length):-1}function T(L,ee,re){var R=f.exec(ee.slice(re));return R?(L.w=h.get(R[0].toLowerCase()),re+R[0].length):-1}function O(L,ee,re){var R=g.exec(ee.slice(re));return R?(L.m=w.get(R[0].toLowerCase()),re+R[0].length):-1}function W(L,ee,re){var R=y.exec(ee.slice(re));return R?(L.m=x.get(R[0].toLowerCase()),re+R[0].length):-1}function U(L,ee,re){return k(L,t,ee,re)}function K(L,ee,re){return k(L,r,ee,re)}function G(L,ee,re){return k(L,n,ee,re)}function X(L){return o[L.getDay()]}function A(L){return a[L.getDay()]}function $(L){return u[L.getMonth()]}function F(L){return l[L.getMonth()]}function Q(L){return i[+(L.getHours()>=12)]}function J(L){return 1+~~(L.getMonth()/3)}function ne(L){return o[L.getUTCDay()]}function pe(L){return a[L.getUTCDay()]}function je(L){return u[L.getUTCMonth()]}function be(L){return l[L.getUTCMonth()]}function me(L){return i[+(L.getUTCHours()>=12)]}function mt(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var ee=j(L+="",b);return ee.toString=function(){return L},ee},parse:function(L){var ee=P(L+="",!1);return ee.toString=function(){return L},ee},utcFormat:function(L){var ee=j(L+="",_);return ee.toString=function(){return L},ee},utcParse:function(L){var ee=P(L+="",!0);return ee.toString=function(){return L},ee}}}var yb={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,sF=/^%/,lF=/[\\^$*+?|[\]().{}]/g;function ye(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function uF(e){return e.replace(lF,"\\$&")}function ls(e){return new RegExp("^(?:"+e.map(uF).join("|")+")","i")}function us(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cF(e,t,r){var n=Et.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dF(e,t,r){var n=Et.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fF(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hF(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pF(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xb(e,t,r){var n=Et.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function wb(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vF(e,t,r){var n=Et.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gF(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function bb(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function yF(e,t,r){var n=Et.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _b(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function xF(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wF(e,t,r){var n=Et.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bF(e,t,r){var n=Et.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _F(e,t,r){var n=Et.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jF(e,t,r){var n=sF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function SF(e,t,r){var n=Et.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function PF(e,t,r){var n=Et.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jb(e,t){return ye(e.getDate(),t,2)}function kF(e,t){return ye(e.getHours(),t,2)}function NF(e,t){return ye(e.getHours()%12||12,t,2)}function EF(e,t){return ye(1+Ol.count(Vn(e),e),t,3)}function dN(e,t){return ye(e.getMilliseconds(),t,3)}function OF(e,t){return dN(e,t)+"000"}function AF(e,t){return ye(e.getMonth()+1,t,2)}function CF(e,t){return ye(e.getMinutes(),t,2)}function TF(e,t){return ye(e.getSeconds(),t,2)}function IF(e){var t=e.getDay();return t===0?7:t}function MF(e,t){return ye(mf.count(Vn(e)-1,e),t,2)}function fN(e){var t=e.getDay();return t>=4||t===0?No(e):No.ceil(e)}function DF(e,t){return e=fN(e),ye(No.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function LF(e){return e.getDay()}function RF(e,t){return ye(Jc.count(Vn(e)-1,e),t,2)}function $F(e,t){return ye(e.getFullYear()%100,t,2)}function zF(e,t){return e=fN(e),ye(e.getFullYear()%100,t,2)}function FF(e,t){return ye(e.getFullYear()%1e4,t,4)}function BF(e,t){var r=e.getDay();return e=r>=4||r===0?No(e):No.ceil(e),ye(e.getFullYear()%1e4,t,4)}function UF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ye(t/60|0,"0",2)+ye(t%60,"0",2)}function Sb(e,t){return ye(e.getUTCDate(),t,2)}function WF(e,t){return ye(e.getUTCHours(),t,2)}function KF(e,t){return ye(e.getUTCHours()%12||12,t,2)}function HF(e,t){return ye(1+pf.count(qn(e),e),t,3)}function hN(e,t){return ye(e.getUTCMilliseconds(),t,3)}function VF(e,t){return hN(e,t)+"000"}function qF(e,t){return ye(e.getUTCMonth()+1,t,2)}function GF(e,t){return ye(e.getUTCMinutes(),t,2)}function YF(e,t){return ye(e.getUTCSeconds(),t,2)}function XF(e){var t=e.getUTCDay();return t===0?7:t}function QF(e,t){return ye(vf.count(qn(e)-1,e),t,2)}function pN(e){var t=e.getUTCDay();return t>=4||t===0?Eo(e):Eo.ceil(e)}function ZF(e,t){return e=pN(e),ye(Eo.count(qn(e),e)+(qn(e).getUTCDay()===4),t,2)}function JF(e){return e.getUTCDay()}function e3(e,t){return ye(ed.count(qn(e)-1,e),t,2)}function t3(e,t){return ye(e.getUTCFullYear()%100,t,2)}function r3(e,t){return e=pN(e),ye(e.getUTCFullYear()%100,t,2)}function n3(e,t){return ye(e.getUTCFullYear()%1e4,t,4)}function i3(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Eo(e):Eo.ceil(e),ye(e.getUTCFullYear()%1e4,t,4)}function a3(){return"+0000"}function Pb(){return"%"}function kb(e){return+e}function Nb(e){return Math.floor(+e/1e3)}var Ra,mN,vN;o3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o3(e){return Ra=oF(e),mN=Ra.format,Ra.parse,vN=Ra.utcFormat,Ra.utcParse,Ra}function s3(e){return new Date(e)}function l3(e){return e instanceof Date?+e:+new Date(+e)}function zg(e,t,r,n,i,a,o,l,u,c){var d=Pg(),f=d.invert,h=d.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),w=c("%b %d"),b=c("%B"),_=c("%Y");function S(j){return(u(j)<j?m:l(j)<j?v:o(j)<j?y:a(j)<j?x:n(j)<j?i(j)<j?g:w:r(j)<j?b:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,l3)):h().map(s3)},d.ticks=function(j){var P=h();return e(P[0],P[P.length-1],j??10)},d.tickFormat=function(j,P){return P==null?S:c(P)},d.nice=function(j){var P=h();return(!j||typeof j.range!="function")&&(j=t(P[0],P[P.length-1],j??10)),j?h(rN(P,j)):d},d.copy=function(){return El(d,zg(e,t,r,n,i,a,o,l,u,c))},d}function u3(){return zr.apply(zg(iF,aF,Vn,Rg,mf,Ol,Dg,Ig,ea,mN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function c3(){return zr.apply(zg(rF,nF,qn,$g,vf,pf,Lg,Mg,ea,vN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gf(){var e=0,t=1,r,n,i,a,o=qt,l=!1,u;function c(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(l=!!f,c):l},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),c):[o(0),o(1)]}}return c.range=d(zo),c.rangeRound=d(Sg),c.unknown=function(f){return arguments.length?(u=f,c):u},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gN(){var e=Bi(gf()(qt));return e.copy=function(){return Ui(e,gN())},ii.apply(e,arguments)}function yN(){var e=Eg(gf()).domain([1,10]);return e.copy=function(){return Ui(e,yN()).base(e.base())},ii.apply(e,arguments)}function xN(){var e=Og(gf());return e.copy=function(){return Ui(e,xN()).constant(e.constant())},ii.apply(e,arguments)}function Fg(){var e=Ag(gf());return e.copy=function(){return Ui(e,Fg()).exponent(e.exponent())},ii.apply(e,arguments)}function d3(){return Fg.apply(null,arguments).exponent(.5)}function wN(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((kl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ti),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>X$(e,a/n))},r.copy=function(){return wN(t).domain(e)},ii.apply(r,arguments)}function yf(){var e=0,t=.5,r=1,n=1,i,a,o,l,u,c=qt,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(n*y<n*a?l:u),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),a=d(t=+t),o=d(r=+r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function v(y){return function(x){var g,w,b;return arguments.length?([g,w,b]=x,c=jz(y,[g,w,b]),m):[c(0),c(.5),c(1)]}}return m.range=v(zo),m.rangeRound=v(Sg),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(e),a=y(t),o=y(r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function bN(){var e=Bi(yf()(qt));return e.copy=function(){return Ui(e,bN())},ii.apply(e,arguments)}function _N(){var e=Eg(yf()).domain([.1,1,10]);return e.copy=function(){return Ui(e,_N()).base(e.base())},ii.apply(e,arguments)}function jN(){var e=Og(yf());return e.copy=function(){return Ui(e,jN()).constant(e.constant())},ii.apply(e,arguments)}function Bg(){var e=Ag(yf());return e.copy=function(){return Ui(e,Bg()).exponent(e.exponent())},ii.apply(e,arguments)}function f3(){return Bg.apply(null,arguments).exponent(.5)}const gs=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bg,scaleDiverging:bN,scaleDivergingLog:_N,scaleDivergingPow:Bg,scaleDivergingSqrt:f3,scaleDivergingSymlog:jN,scaleIdentity:tN,scaleImplicit:jm,scaleLinear:eN,scaleLog:nN,scaleOrdinal:wg,scalePoint:J$,scalePow:Cg,scaleQuantile:oN,scaleQuantize:sN,scaleRadial:aN,scaleSequential:gN,scaleSequentialLog:yN,scaleSequentialPow:Fg,scaleSequentialQuantile:wN,scaleSequentialSqrt:d3,scaleSequentialSymlog:xN,scaleSqrt:Vz,scaleSymlog:iN,scaleThreshold:lN,scaleTime:u3,scaleUtc:c3,tickFormat:Jk},Symbol.toStringTag,{value:"Module"}));var ai=e=>e.chartData,SN=C([ai],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xf=(e,t,r,n)=>n?SN(e):ai(e),h3=(e,t,r)=>r?SN(e):ai(e);function Gn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(se(t)&&se(r))return!0}return!1}function Eb(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function PN(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(se(r))i=r;else if(typeof r=="function")return;if(se(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Gn(o))return o}}function p3(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Gn(n))return Eb(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(q(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&G0.test(i)){var u=G0.exec(i);if(u==null||u[1]==null||t==null)o=void 0;else{var c=+u[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(q(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Y0.test(a)){var d=Y0.exec(a);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(Gn(h))return t==null?h:Eb(h,t,r)}}}var Fo=1e9,m3={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wg,Ke=!0,$r="[DecimalError] ",la=$r+"Invalid argument: ",Ug=$r+"Exponent out of range: ",Bo=Math.floor,Gi=Math.pow,v3=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr,bt=1e7,$e=7,kN=9007199254740991,td=Bo(kN/$e),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$e;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Rn(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return Te(Rn(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return ot(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hr))throw Error($r+"NaN");if(r.s<1)throw Error($r+(r.s?"NaN":"-Infinity"));return r.eq(hr)?new n(0):(Ke=!1,t=Rn(ll(r,a),ll(e,a),a),Ke=!0,Te(t,i))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ON(t,e):NN(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error($r+"NaN");return r.s?(Ke=!1,t=Rn(r,e,0,1).times(e),Ke=!0,r.minus(t)):Te(new n(r),i)};V.naturalExponential=V.exp=function(){return EN(this)};V.naturalLogarithm=V.ln=function(){return ll(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NN(t,e):ON(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(la+e);if(t=ot(i)+1,n=i.d.length-1,r=n*$e+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error($r+"NaN")}for(e=ot(l),Ke=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=vn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus(Rn(l,a,o+2)).times(.5),vn(a.d).slice(0,o)===(t=vn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Te(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return Ke=!0,Te(n,r)};V.times=V.mul=function(e){var t,r,n,i,a,o,l,u,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,u=h.length,c=m.length,u<c&&(a=h,h=m,m=a,o=u,u=c,c=o),a=[],o=u+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)l=a[i]+m[n]*h[i-n-1]+t,a[i--]=l%bt|0,t=l/bt|0;a[i]=(a[i]+t)%bt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ke?Te(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(_n(e,0,Fo),t===void 0?t=n.rounding:_n(t,0,8),Te(r,e+ot(r)+1,t))};V.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=wa(n,!0):(_n(e,0,Fo),t===void 0?t=i.rounding:_n(t,0,8),n=Te(new i(n),e+1,t),r=wa(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?wa(i):(_n(e,0,Fo),t===void 0?t=a.rounding:_n(t,0,8),n=Te(new a(i),e+ot(i)+1,t),r=wa(n.abs(),!1,e+ot(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return Te(new t(e),ot(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,i,a,o,l=this,u=l.constructor,c=12,d=+(e=new u(e));if(!e.s)return new u(hr);if(l=new u(l),!l.s){if(e.s<1)throw Error($r+"Infinity");return l}if(l.eq(hr))return l;if(n=u.precision,e.eq(hr))return Te(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=kN){for(i=new u(hr),t=Math.ceil(n/$e+4),Ke=!1;r%2&&(i=i.times(l),Ab(i.d,t)),r=Bo(r/2),r!==0;)l=l.times(l),Ab(l.d,t);return Ke=!0,e.s<0?new u(hr).div(i):Te(i,n)}}else if(a<0)throw Error($r+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,i=e.times(ll(l,n+c)),Ke=!0,i=EN(i),i.s=a,i};V.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ot(i),n=wa(i,r<=a.toExpNeg||r>=a.toExpPos)):(_n(e,1,Fo),t===void 0?t=a.rounding:_n(t,0,8),i=Te(new a(i),e,t),r=ot(i),n=wa(i,e<=r||r<=a.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(_n(e,1,Fo),t===void 0?t=n.rounding:_n(t,0,8)),Te(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),r=e.constructor;return wa(e,t<=r.toExpNeg||t>=r.toExpPos)};function NN(e,t){var r,n,i,a,o,l,u,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?Te(t,f):t;if(u=e.d,c=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,l=c.length):(n=c,i=o,l=u.length),o=Math.ceil(f/$e),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=u.length,a=c.length,l-a<0&&(a=l,n=c,c=u,u=n),r=0;a;)r=(u[--a]=u[a]+c[a]+r)/bt|0,u[a]%=bt;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Ke?Te(t,f):t}function _n(e,t,r){if(e!==~~e||e<t||e>r)throw Error(la+e)}function vn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=$e-n.length,r&&(a+=pi(r)),a+=n;o=e[t],n=o+"",r=$e-n.length,r&&(a+=pi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Rn=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%bt|0,o=a/bt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*bt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,u,c,d,f,h,m,v,y,x,g,w,b,_,S,j,P,k,E=n.constructor,N=n.s==i.s?1:-1,T=n.d,O=i.d;if(!n.s)return new E(n);if(!i.s)throw Error($r+"Division by zero");for(u=n.e-i.e,P=O.length,S=T.length,m=new E(N),v=m.d=[],c=0;O[c]==(T[c]||0);)++c;if(O[c]>(T[c]||0)&&--u,a==null?w=a=E.precision:o?w=a+(ot(n)-ot(i))+1:w=a,w<0)return new E(0);if(w=w/$e+2|0,c=0,P==1)for(d=0,O=O[0],w++;(c<S||d)&&w--;c++)b=d*bt+(T[c]||0),v[c]=b/O|0,d=b%O|0;else{for(d=bt/(O[0]+1)|0,d>1&&(O=e(O,d),T=e(T,d),P=O.length,S=T.length),_=P,y=T.slice(0,P),x=y.length;x<P;)y[x++]=0;k=O.slice(),k.unshift(0),j=O[0],O[1]>=bt/2&&++j;do d=0,l=t(O,y,P,x),l<0?(g=y[0],P!=x&&(g=g*bt+(y[1]||0)),d=g/j|0,d>1?(d>=bt&&(d=bt-1),f=e(O,d),h=f.length,x=y.length,l=t(f,y,h,x),l==1&&(d--,r(f,P<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),r(y,f,x),l==-1&&(x=y.length,l=t(O,y,P,x),l<1&&(d++,r(y,P<x?k:O,x))),x=y.length):l===0&&(d++,y=[0]),v[c++]=d,l&&y[0]?y[x++]=T[_]||0:(y=[T[_]],x=1);while((_++<S||y[0]!==void 0)&&w--)}return v[0]||v.shift(),m.e=u,Te(m,o?a+ot(m)+1:a)}}();function EN(e,t){var r,n,i,a,o,l,u=0,c=0,d=e.constructor,f=d.precision;if(ot(e)>16)throw Error(Ug+ot(e));if(!e.s)return new d(hr);for(Ke=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Gi(2,c))/Math.LN10*2+5|0,l+=n,r=i=a=new d(hr),d.precision=l;;){if(i=Te(i.times(e),l),r=r.times(++u),o=a.plus(Rn(i,r,l)),vn(o.d).slice(0,l)===vn(a.d).slice(0,l)){for(;c--;)a=Te(a.times(a),l);return d.precision=f,t==null?(Ke=!0,Te(a,f)):a}a=o}}function ot(e){for(var t=e.e*$e,r=e.d[0];r>=10;r/=10)t++;return t}function Dh(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error($r+"LN10 precision limit exceeded");return Te(new e(e.LN10),t)}function pi(e){for(var t="";e--;)t+="0";return t}function ll(e,t){var r,n,i,a,o,l,u,c,d,f=1,h=10,m=e,v=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error($r+(m.s?"NaN":"-Infinity"));if(m.eq(hr))return new y(0);if(t==null?(Ke=!1,c=x):c=t,m.eq(10))return t==null&&(Ke=!0),Dh(y,c);if(c+=h,y.precision=c,r=vn(v),n=r.charAt(0),a=ot(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=vn(m.d),n=r.charAt(0),f++;a=ot(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return u=Dh(y,c+2,x).times(a+""),m=ll(new y(n+"."+r.slice(1)),c-h).plus(u),y.precision=x,t==null?(Ke=!0,Te(m,x)):m;for(l=o=m=Rn(m.minus(hr),m.plus(hr),c),d=Te(m.times(m),c),i=3;;){if(o=Te(o.times(d),c),u=l.plus(Rn(o,new y(i),c)),vn(u.d).slice(0,c)===vn(l.d).slice(0,c))return l=l.times(2),a!==0&&(l=l.plus(Dh(y,c+2,x).times(a+""))),l=Rn(l,new y(f),c),y.precision=x,t==null?(Ke=!0,Te(l,x)):l;l=u,i+=2}}function Ob(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Bo(r/$e),e.d=[],n=(r+1)%$e,r<0&&(n+=$e),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$e;n<i;)e.d.push(+t.slice(n,n+=$e));t=t.slice(n),n=$e-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>td||e.e<-td))throw Error(Ug+r)}else e.s=0,e.e=0,e.d=[0];return e}function Te(e,t,r){var n,i,a,o,l,u,c,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=$e,i=t,c=f[d=0];else{if(d=Math.ceil((n+1)/$e),a=f.length,d>=a)return e;for(c=a=f[d],o=1;a>=10;a/=10)o++;n%=$e,i=n-$e+o}if(r!==void 0&&(a=Gi(10,o-i-1),l=c/a%10|0,u=t<0||f[d+1]!==void 0||c%a,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?c/Gi(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return u?(a=ot(e),f.length=1,t=t-a-1,f[0]=Gi(10,($e-t%$e)%$e),e.e=Bo(-t/$e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Gi(10,$e-n),f[d]=i>0?(c/Gi(10,o-i)%Gi(10,i)|0)*a:0),u)for(;;)if(d==0){(f[0]+=a)==bt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=bt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>td||e.e<-td))throw Error(Ug+ot(e));return e}function ON(e,t){var r,n,i,a,o,l,u,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?Te(t,m):t;if(u=e.d,f=t.d,n=t.e,c=e.e,u=u.slice(),o=c-n,o){for(d=o<0,d?(r=u,o=-o,l=f.length):(r=f,n=c,l=u.length),i=Math.max(Math.ceil(m/$e),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=f[i]){d=u[i]<f[i];break}o=0}for(d&&(r=u,u=f,f=r,t.s=-t.s),l=u.length,i=f.length-l;i>0;--i)u[l++]=0;for(i=f.length;i>o;){if(u[--i]<f[i]){for(a=i;a&&u[--a]===0;)u[a]=bt-1;--u[a],u[i]+=bt}u[i]-=f[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Ke?Te(t,m):t):new h(0)}function wa(e,t,r){var n,i=ot(e),a=vn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+pi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+pi(-i-1)+a,r&&(n=r-o)>0&&(a+=pi(n))):i>=o?(a+=pi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+pi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=pi(n))),e.s<0?"-"+a:a}function Ab(e,t){if(e.length>t)return e.length=t,!0}function AN(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(la+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Ob(o,a.toString())}else if(typeof a!="string")throw Error(la+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,v3.test(a))Ob(o,a);else throw Error(la+a)}if(i.prototype=V,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AN,i.config=i.set=g3,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function g3(e){if(!e||typeof e!="object")throw Error($r+"Object expected");var t,r,n,i=["precision",1,Fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Bo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(la+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(la+r+": "+n);return this}var Wg=AN(m3);hr=new Wg(1);const Pe=Wg;function CN(e){var t;return e===0?t=1:t=Math.floor(new Pe(e).abs().log(10).toNumber())+1,t}function TN(e,t,r){for(var n=new Pe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var IN=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},MN=(e,t,r)=>{if(e.lte(0))return new Pe(0);var n=CN(e.toNumber()),i=new Pe(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new Pe(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=l.mul(i);return t?new Pe(u.toNumber()):new Pe(Math.ceil(u.toNumber()))},y3=(e,t,r)=>{var n=new Pe(1),i=new Pe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Pe(10).pow(CN(e)-1),i=new Pe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Pe(Math.floor(e)))}else e===0?i=new Pe(Math.floor((t-1)/2)):r||(i=new Pe(Math.floor(e)));for(var o=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new Pe(u-o).mul(n)).toNumber());return l},DN=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var o=MN(new Pe(r).sub(t).div(n-1),i,a),l;t<=0&&r>=0?l=new Pe(0):(l=new Pe(t).add(r).div(2),l=l.sub(new Pe(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new Pe(r).sub(l).div(o).toNumber()),d=u+c+1;return d>n?DN(t,r,n,i,a+1):(d<n&&(c=r>0?c+(n-d):c,u=r>0?u:u+(n-d)),{step:o,tickMin:l.sub(new Pe(u).mul(o)),tickMax:l.add(new Pe(c).mul(o))})},x3=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=IN([r,n]);if(l===-1/0||u===1/0){var c=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?c.reverse():c}if(l===u)return y3(l,i,a);var{step:d,tickMin:f,tickMax:h}=DN(l,u,o,a,0),m=TN(f,h.add(new Pe(.1).mul(d)),d);return r>n?m.reverse():m},w3=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=IN([n,i]);if(o===-1/0||l===1/0)return[n,i];if(o===l)return[o];var u=Math.max(r,2),c=MN(new Pe(l).sub(o).div(u-1),a,0),d=[...TN(new Pe(o),new Pe(l),c),l];return a===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},LN=e=>e.rootProps.maxBarSize,b3=e=>e.rootProps.barGap,RN=e=>e.rootProps.barCategoryGap,_3=e=>e.rootProps.barSize,wf=e=>e.rootProps.stackOffset,$N=e=>e.rootProps.reverseStackOrder,Kg=e=>e.options.chartName,Hg=e=>e.rootProps.syncId,zN=e=>e.rootProps.syncMethod,Vg=e=>e.options.eventEmitter,it={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Wi={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},un={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},bf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function _f(e,t,r){if(r!=="auto")return r;if(e!=null)return ti(e,t)?"category":"number"}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){j3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j3(e,t,r){return(t=S3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3(e){var t=P3(e,"string");return typeof t=="symbol"?t:t+""}function P3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb={allowDataOverflow:Wi.allowDataOverflow,allowDecimals:Wi.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Wi.angleAxisId,includeHidden:!1,name:void 0,reversed:Wi.reversed,scale:Wi.scale,tick:Wi.tick,tickCount:void 0,ticks:void 0,type:Wi.type,unit:void 0},Ib={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:un.includeHidden,name:void 0,reversed:un.reversed,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:un.type,unit:void 0},k3=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},qg=C([k3,Sk],(e,t)=>{var r;if(e!=null)return e;var n=(r=_f(t,"angleAxis",Tb.type))!==null&&r!==void 0?r:"category";return rd(rd({},Tb),{},{type:n})}),N3=(e,t)=>e.polarAxis.radiusAxis[t],Gg=C([N3,Sk],(e,t)=>{var r;if(e!=null)return e;var n=(r=_f(t,"radiusAxis",Ib.type))!==null&&r!==void 0?r:"category";return rd(rd({},Ib),{},{type:n})}),jf=e=>e.polarOptions,Yg=C([ri,ni,Nt],E$),FN=C([jf,Yg],(e,t)=>{if(e!=null)return tn(e.innerRadius,t,0)}),BN=C([jf,Yg],(e,t)=>{if(e!=null)return tn(e.outerRadius,t,t*.8)}),E3=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},UN=C([jf],E3);C([qg,UN],bf);var WN=C([Yg,FN,BN],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});C([Gg,WN],bf);var KN=C([Ne,jf,FN,BN,ri,ni],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:c}=t;return{cx:tn(o,i,i/2),cy:tn(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),Ot=(e,t)=>t,Sf=(e,t,r)=>r;function Xg(e){return e==null?void 0:e.id}function HN(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(l=>{var u,c=(u=l.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var d=Xg(l);c.forEach((f,h)=>{var m=a==null||i?h:String(He(f,a,null)),v=He(f,l.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:v}),o.set(m,y)})}}),Array.from(o.values())}function Pf(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var kf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Nf(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function O3(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var At=e=>{var t=Ne(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Uo=e=>e.tooltip.settings.axisId;function A3(e){if(e in gs)return gs[e]();var t="scale".concat(yl(e));if(t in gs)return gs[t]()}function Mb(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],l=i[1];return o<=l?a>=o&&a<=l:a>=l&&a<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,o)=>{var l=e(a);if(l!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var u=e.bandwidth();switch(o.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function Db(e,t,r){if(typeof e=="function")return Mb(e.copy().domain(t).range(r));if(e!=null){var n=A3(e);if(n!=null)return n.domain(t).range(r),Mb(n)}}var C3=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Gn(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];se(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){T3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T3(e,t,r){return(t=I3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I3(e){var t=M3(e,"string");return typeof t=="symbol"?t:t+""}function M3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nm=[0,"auto"],xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},VN=(e,t)=>e.cartesianAxis.xAxis[t],kn=(e,t)=>{var r=VN(e,t);return r??xt},wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Nm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bl},qN=(e,t)=>e.cartesianAxis.yAxis[t],Nn=(e,t)=>{var r=qN(e,t);return r??wt},GN={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Qg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??GN},Zt=(e,t,r)=>{switch(t){case"xAxis":return kn(e,r);case"yAxis":return Nn(e,r);case"zAxis":return Qg(e,r);case"angleAxis":return qg(e,r);case"radiusAxis":return Gg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},D3=(e,t,r)=>{switch(t){case"xAxis":return kn(e,r);case"yAxis":return Nn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Al=(e,t,r)=>{switch(t){case"xAxis":return kn(e,r);case"yAxis":return Nn(e,r);case"angleAxis":return qg(e,r);case"radiusAxis":return Gg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},YN=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function XN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Cl=e=>e.graphicalItems.cartesianItems,L3=C([Ot,Sf],XN),QN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Tl=C([Cl,Zt,L3],QN,{memoizeOptions:{resultEqualityCheck:Nf}}),ZN=C([Tl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Pf)),JN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),R3=C([Tl],JN),eE=e=>e.map(t=>t.data).filter(Boolean).flat(1),$3=C([Tl],eE,{memoizeOptions:{resultEqualityCheck:Nf}}),tE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Zg=C([$3,xf],tE),rE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:He(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:He(i,n)}))):e.map(n=>({value:n})),Ef=C([Zg,Zt,Tl],rE);function nE(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uu(e){if(Lr(e)||e instanceof Date){var t=Number(e);if(se(t))return t}}function Rb(e){if(Array.isArray(e)){var t=[Uu(e[0]),Uu(e[1])];return Gn(t)?t:void 0}var r=Uu(e);if(r!=null)return[r,r]}function Yn(e){return e.map(Uu).filter(nr)}function z3(e,t,r){return!r||typeof t!="number"||wn(t)?[]:r.length?Yn(r.flatMap(n=>{var i=He(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!se(a)||!se(o)))return[t-a,t+o]})):[]}var pt=e=>{var t=At(e),r=Uo(e);return Al(e,t,r)},Il=C([pt],e=>e==null?void 0:e.dataKey),F3=C([ZN,xf,pt],HN),iE=(e,t,r,n)=>{var i={},a=t.reduce((o,l)=>{if(l.stackId==null)return o;var u=o[l.stackId];return u==null&&(u=[]),u.push(l),o[l.stackId]=u,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,c=n?[...u].reverse():u,d=c.map(Xg);return[l,{stackedData:SL(e,d,r),graphicalItems:c}]}))},Em=C([F3,ZN,wf,$N],iE),aE=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=OL(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},B3=C([Zt],e=>e.allowDataOverflow),Jg=e=>{var t;if(e==null||!("domain"in e))return Nm;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Yn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Nm},oE=C([Zt],Jg),sE=C([oE,B3],PN),U3=C([Em,ai,Ot,sE],aE,{memoizeOptions:{resultEqualityCheck:kf}}),ey=e=>e.errorBars,W3=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>nE(r,n)),id=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},lE=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var c,d,f=(c=n[u.id])===null||c===void 0?void 0:c.filter(g=>nE(i,g)),h=He(l,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),m=z3(l,h,f);if(m.length>=2){var v=Math.min(...m),y=Math.max(...m);(a==null||v<a)&&(a=v),(o==null||y>o)&&(o=y)}var x=Rb(h);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=Rb(He(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),se(a)&&se(o))return[a,o]},K3=C([Zg,Zt,R3,ey,Ot],lE,{memoizeOptions:{resultEqualityCheck:kf}});function H3(e){var{value:t}=e;if(Lr(t)||t instanceof Date)return t}var V3=(e,t,r)=>{var n=e.map(H3).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&tP(n))?Kk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},uE=e=>e.referenceElements.dots,Wo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),q3=C([uE,Ot,Sf],Wo),cE=e=>e.referenceElements.areas,G3=C([cE,Ot,Sf],Wo),dE=e=>e.referenceElements.lines,Y3=C([dE,Ot,Sf],Wo),fE=(e,t)=>{if(e!=null){var r=Yn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},X3=C(q3,Ot,fE),hE=(e,t)=>{if(e!=null){var r=Yn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Q3=C([G3,Ot],hE);function Z3(e){var t;if(e.x!=null)return Yn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Yn(r)}function J3(e){var t;if(e.y!=null)return Yn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Yn(r)}var pE=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Z3(n):J3(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},eB=C([Y3,Ot],pE),tB=C(X3,eB,Q3,(e,t,r)=>id(e,r,t)),mE=(e,t,r,n,i,a,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=u?id(n,a,i):id(a,i);return p3(t,c,e.allowDataOverflow)},rB=C([Zt,oE,sE,U3,K3,tB,Ne,Ot],mE,{memoizeOptions:{resultEqualityCheck:kf}}),nB=[0,1],vE=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,c=ti(t,a);if(c&&l==null){var d;return Kk(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return u==="category"?V3(n,e,c):i==="expand"?nB:o}},ty=C([Zt,Ne,Zg,Ef,wf,Ot,rB],vE);function iB(e){return e in gs}var gE=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(yl(n));return iB(a)?a:"point"}}},Ko=C([Zt,YN,Kg],gE);function ry(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?Db(e.scale,r,n):Db(t,r,n)}var yE=(e,t,r)=>{var n=Jg(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Gn(e))return x3(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Gn(e))return w3(e,t.tickCount,t.allowDecimals)}},ny=C([ty,Al,Ko],yE),xE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Gn(t)&&Array.isArray(r)&&r.length>0){var i,a,o=t[0],l=(i=r[0])!==null&&i!==void 0?i:0,u=t[1],c=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,l),Math.max(u,c)]}return t},aB=C([Zt,ty,ny,Ot],xE),oB=C(Ef,Zt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Yn(e.map(f=>f.value))).sort((f,h)=>f-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],c=n[l+1];if(!(u==null||c==null)){var d=c-u;r=Math.min(r,d)}}return r/o}}),wE=C(oB,Ne,RN,Nt,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!se(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=tn(r,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),sB=(e,t,r)=>{var n=kn(e,t);return n==null||typeof n.padding!="string"?0:wE(e,"xAxis",t,r,n.padding)},lB=(e,t,r)=>{var n=Nn(e,t);return n==null||typeof n.padding!="string"?0:wE(e,"yAxis",t,r,n.padding)},uB=C(kn,sB,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),cB=C(Nn,lB,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),dB=C([Nt,uB,lf,sf,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),fB=C([Nt,Ne,cB,lf,sf,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ml=(e,t,r,n)=>{var i;switch(t){case"xAxis":return dB(e,r,n);case"yAxis":return fB(e,r,n);case"zAxis":return(i=Qg(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return UN(e);case"radiusAxis":return WN(e,r);default:return}},bE=C([Zt,Ml],bf),hB=C([Ko,aB],C3),Oo=C([Zt,Ko,hB,bE],ry);C([Tl,ey,Ot],W3);function _E(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Of=(e,t)=>t,Af=(e,t,r)=>r,pB=C(af,Of,Af,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_E)),mB=C(of,Of,Af,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_E)),jE=(e,t)=>({width:e.width,height:t.height}),vB=(e,t)=>{var r=typeof t.width=="number"?t.width:bl;return{width:r,height:e.height}},SE=C(Nt,kn,jE),gB=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},yB=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},xB=C(ni,Nt,pB,Of,Af,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var u=jE(t,l);o==null&&(o=gB(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[l.id]=o-Number(c)*u.height,o+=(c?-1:1)*u.height}),a}),wB=C(ri,Nt,mB,Of,Af,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var u=vB(t,l);o==null&&(o=yB(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[l.id]=o-Number(c)*u.width,o+=(c?-1:1)*u.width}),a}),bB=(e,t)=>{var r=kn(e,t);if(r!=null)return xB(e,r.orientation,r.mirror)},_B=C([Nt,kn,bB,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),jB=(e,t)=>{var r=Nn(e,t);if(r!=null)return wB(e,r.orientation,r.mirror)},SB=C([Nt,Nn,jB,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),PE=C(Nt,Nn,(e,t)=>{var r=typeof t.width=="number"?t.width:bl;return{width:r,height:e.height}}),$b=(e,t,r)=>{switch(t){case"xAxis":return SE(e,r).width;case"yAxis":return PE(e,r).height;default:return}},kE=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=ti(e,n),u=t.map(c=>c.value);if(o&&l&&a==="category"&&i&&tP(u))return u}},iy=C([Ne,Ef,Zt,Ot],kE),NE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=ti(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},ay=C([Ne,Ef,Al,Ot],NE),zb=C([Ne,D3,Ko,Oo,iy,ay,Ml,ny,Ot],(e,t,r,n,i,a,o,l,u)=>{if(t!=null){var c=ti(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),PB=(e,t,r,n,i,a,o,l,u)=>{if(!(t==null||n==null)){var c=ti(e,u),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=u==="angleAxis"&&a!=null&&a.length>=2?rr(a[0]-a[1])*2*v:v;var y=f||i;return y?y.map((x,g)=>{var w=o?o.indexOf(x):x,b=n.map(w);return se(b)?{index:g,coordinate:b+v,value:x,offset:v}:null}).filter(nr):c&&l?l.map((x,g)=>{var w=n.map(x);return se(w)?{coordinate:w+v,value:x,index:g,offset:v}:null}).filter(nr):n.ticks?n.ticks(h).map((x,g)=>{var w=n.map(x);return se(w)?{coordinate:w+v,value:x,index:g,offset:v}:null}).filter(nr):n.domain().map((x,g)=>{var w=n.map(x);return se(w)?{coordinate:w+v,value:o?o[x]:x,index:g,offset:v}:null}).filter(nr)}},EE=C([Ne,Al,Ko,Oo,ny,Ml,iy,ay,Ot],PB),kB=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=ti(e,o),{tickCount:u}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?rr(n[0]-n[1])*2*c:c,l&&a?a.map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+c,value:d,index:f,offset:c}:null}).filter(nr):r.ticks?r.ticks(u).map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+c,value:d,index:f,offset:c}:null}).filter(nr):r.domain().map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+c,value:i?i[d]:d,index:f,offset:c}:null}).filter(nr)}},jn=C([Ne,Al,Oo,Ml,iy,ay,Ot],kB),Sn=C(Zt,Oo,(e,t)=>{if(!(e==null||t==null))return nd(nd({},e),{},{scale:t})}),NB=C([Zt,Ko,ty,bE],ry),EB=C((e,t,r)=>Qg(e,r),NB,(e,t)=>{if(!(e==null||t==null))return nd(nd({},e),{},{scale:t})}),OB=C([Ne,af,of],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),OE=e=>e.options.defaultTooltipEventType,AE=e=>e.options.validateTooltipEventTypes;function CE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function oy(e,t){var r=OE(e),n=AE(e);return CE(t,r,n)}function AB(e){return Y(t=>oy(t,e))}var TE=(e,t)=>{var r,n=Number(t);if(!(wn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},CB=e=>e.tooltip.settings,yi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},TB={itemInteraction:{click:yi,hover:yi},axisInteraction:{click:yi,hover:yi},keyboardInteraction:yi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},IE=ur({name:"tooltip",initialState:TB,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ue()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Zr(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ue()},removeTooltipEntrySettings:{reducer(e,t){var r=Zr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ue()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:IB,replaceTooltipEntrySettings:MB,removeTooltipEntrySettings:DB,setTooltipSettingsState:LB,setActiveMouseOverItemIndex:ME,mouseLeaveItem:RB,mouseLeaveChart:DE,setActiveClickItemIndex:$B,setMouseOverAxisIndex:LE,setMouseClickAxisIndex:zB,setSyncInteraction:Om,setKeyboardInteraction:Am}=IE.actions,FB=IE.reducer;function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){BB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t,r){return(t=UB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function HB(e){return e.index!=null}var RE=(e,t,r,n)=>{if(t==null)return yi;var i=KB(e,t,r);if(i==null)return yi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(HB(i)){if(a)return xu(xu({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return xu(xu({},yi),{},{coordinate:i.coordinate})};function VB(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function qB(e,t){var r=VB(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function GB(e,t,r){if(r==null||t==null)return!0;var n=He(e,t);return n==null||!Gn(r)?!0:qB(n,r)}var sy=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!se(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),c=t[u];return c==null||GB(c,r,n)?String(u):null},$E=(e,t,r,n,i,a,o)=>{if(a!=null){var l=o[0],u=l==null?void 0:l.getPosition(a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},zE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},FE=e=>e.options.tooltipPayloadSearcher,Ho=e=>e.tooltip;function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){YB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YB(e,t,r){return(t=XB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XB(e){var t=QB(e,"string");return typeof t=="symbol"?t:t+""}function QB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e,t){return e??t}var BE=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:y,settings:x}=m,g=ZB(y,l),w=Array.isArray(g)?uk(g,c,d):g,b=(v=x==null?void 0:x.dataKey)!==null&&v!==void 0?v:n,_=x==null?void 0:x.nameKey,S;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?S=rP(w,n,i):S=a(w,t,u,_),Array.isArray(S))S.forEach(P=>{var k=Ub(Ub({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(X0({tooltipEntrySettings:k,dataKey:P.dataKey,payload:P.payload,value:He(P.payload,P.dataKey),name:P.name}))});else{var j;h.push(X0({tooltipEntrySettings:x,dataKey:b,payload:S,value:He(S,b),name:(j=He(S,_))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return h},f)}},ly=C([pt,YN,Kg],gE),JB=C([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eU=C([At,Uo],XN),Vo=C([JB,pt,eU],QN,{memoizeOptions:{resultEqualityCheck:Nf}}),tU=C([Vo],e=>e.filter(Pf)),rU=C([Vo],eE,{memoizeOptions:{resultEqualityCheck:Nf}}),qo=C([rU,ai],tE),nU=C([tU,ai,pt],HN),uy=C([qo,pt,Vo],rE),UE=C([pt],Jg),iU=C([pt],e=>e.allowDataOverflow),WE=C([UE,iU],PN),aU=C([Vo],e=>e.filter(Pf)),oU=C([nU,aU,wf,$N],iE),sU=C([oU,ai,At,WE],aE),lU=C([Vo],JN),uU=C([qo,pt,lU,ey,At],lE,{memoizeOptions:{resultEqualityCheck:kf}}),cU=C([uE,At,Uo],Wo),dU=C([cU,At],fE),fU=C([cE,At,Uo],Wo),hU=C([fU,At],hE),pU=C([dE,At,Uo],Wo),mU=C([pU,At],pE),vU=C([dU,mU,hU],id),gU=C([pt,UE,WE,sU,uU,vU,Ne,At],mE),Dl=C([pt,Ne,qo,uy,wf,At,gU],vE),yU=C([Dl,pt,ly],yE),xU=C([pt,Dl,yU,At],xE),KE=e=>{var t=At(e),r=Uo(e),n=!1;return Ml(e,t,r,n)},HE=C([pt,KE],bf),VE=C([pt,ly,xU,HE],ry),wU=C([Ne,uy,pt,At],kE),bU=C([Ne,uy,pt,At],NE),_U=(e,t,r,n,i,a,o,l)=>{if(t){var{type:u}=t,c=ti(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?rr(i[0]-i[1])*2*f:f,c&&o?o.map((h,m)=>{var v=n.map(h);return se(v)?{coordinate:v+f,value:h,index:m,offset:f}:null}).filter(nr):n.domain().map((h,m)=>{var v=n.map(h);return se(v)?{coordinate:v+f,value:a?a[h]:h,index:m,offset:f}:null}).filter(nr)}}},oi=C([Ne,pt,ly,VE,KE,wU,bU,At],_U),cy=C([OE,AE,CB],(e,t,r)=>CE(r.shared,e,t)),qE=e=>e.tooltip.settings.trigger,dy=e=>e.tooltip.settings.defaultIndex,Ll=C([Ho,cy,qE,dy],RE),Li=C([Ll,qo,Il,Dl],sy),GE=C([oi,Li],TE),YE=C([Ll],e=>{if(e)return e.dataKey});C([Ll],e=>{if(e)return e.graphicalItemId});var XE=C([Ho,cy,qE,dy],zE),jU=C([ri,ni,Ne,Nt,oi,dy,XE],$E),SU=C([Ll,jU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),PU=C([Ll],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),kU=C([XE,Li,ai,Il,GE,FE,cy],BE),NU=C([kU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return(t=OU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CU=()=>Y(pt),TU=()=>{var e=CU(),t=Y(oi),r=Y(VE);return So(!e||!r?void 0:Kb(Kb({},e),{},{scale:r}),t)};function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(n){IU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IU(e,t,r){return(t=MU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=DU(e,"string");return typeof t=="symbol"?t:t+""}function DU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LU=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},RU=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return $a($a($a({},n),Mt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=n;return $a($a($a({},n),Mt(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function $U(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var QE=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u,c,d,f,h,m=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(c=r[o-1])===null||c===void 0?void 0:c.coordinate,v=(d=r[l])===null||d===void 0?void 0:d.coordinate,y=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(m==null||v==null||y==null))if(rr(v-m)!==rr(y-v)){var g=[];if(rr(y-v)===rr(i[1]-i[0])){x=y;var w=v+i[1]-i[0];g[0]=Math.min(w,(w+m)/2),g[1]=Math.max(w,(w+m)/2)}else{x=m;var b=y+i[1]-i[0];g[0]=Math.min(v,(b+v)/2),g[1]=Math.max(v,(b+v)/2)}var _=[Math.min(v,(x+v)/2),Math.max(v,(x+v)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){var S;return(S=r[l])===null||S===void 0?void 0:S.index}}else{var j=Math.min(m,y),P=Math.max(m,y);if(e>(j+v)/2&&e<=(P+v)/2){var k;return(k=r[l])===null||k===void 0?void 0:k.index}}}else if(t)for(var E=0;E<o;E++){var N=t[E];if(N!=null){var T=t[E+1],O=t[E-1];if(E===0&&T!=null&&e<=(N.coordinate+T.coordinate)/2||E===o-1&&O!=null&&e>(N.coordinate+O.coordinate)/2||E>0&&E<o-1&&O!=null&&T!=null&&e>(N.coordinate+O.coordinate)/2&&e<=(N.coordinate+T.coordinate)/2)return N.index}}return-1},zU=()=>Y(Kg),fy=(e,t)=>t,ZE=(e,t,r)=>r,hy=(e,t,r,n)=>n,FU=C(oi,e=>Gd(e,t=>t.coordinate)),py=C([Ho,fy,ZE,hy],RE),my=C([py,qo,Il,Dl],sy),BU=(e,t,r)=>{if(t!=null){var n=Ho(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},JE=C([Ho,fy,ZE,hy],zE),ad=C([ri,ni,Ne,Nt,oi,hy,JE],$E),UU=C([py,ad],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),eO=C([oi,my],TE),WU=C([JE,my,ai,Il,eO,FE,fy],BE),KU=C([py,my],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),HU=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&$U(e,o)){var l=AL(e,t),u=QE(l,a,i,r,n),c=LU(t,i,u,e);return{activeIndex:String(u),activeCoordinate:c}}},VU=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var l=I$(e,r);if(l){var u=CL(l,t),c=QE(u,o,a,n,i),d=RU(t,a,c,l);return{activeIndex:String(c),activeCoordinate:d}}}},qU=(e,t,r,n,i,a,o,l)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?HU(e,t,n,i,a,o,l):VU(e,t,r,n,i,a,o)},GU=C(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),YU=C(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(it)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:O3}});function Vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vb(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=QU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=ZU(e,"string");return typeof t=="symbol"?t:t+""}function ZU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JU={},e4={zIndexMap:Object.values(it).reduce((e,t)=>qb(qb({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),JU)},t4=new Set(Object.values(it));function r4(e){return t4.has(e)}var tO=ur({name:"zIndex",initialState:e4,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ue()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!r4(r)&&delete e.zIndexMap[r])},prepare:Ue()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Ue()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Ue()}}}),{registerZIndexPortal:n4,unregisterZIndexPortal:i4,registerZIndexPortalElement:a4,unregisterZIndexPortalElement:o4}=tO.actions,s4=tO.reducer;function Jt(e){var{zIndex:t,children:r}=e,n=iR(),i=n&&t!==void 0&&t!==0,a=ft(),o=et();p.useLayoutEffect(()=>i?(o(n4({zIndex:t})),()=>{o(i4({zIndex:t}))}):Na,[o,t,i]);var l=Y(u=>GU(u,t,a));return i?l?$v.createPortal(r,l):null:r}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(null,arguments)}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){l4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l4(e,t,r){return(t=u4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u4(e){var t=c4(e,"string");return typeof t=="symbol"?t:t+""}function c4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d4(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function f4(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:c,chartName:d}=e,f=r,h=n,m=i;if(!u||!f||d!=="ScatterChart"&&c!=="axis")return null;var v,y,x;if(d==="ScatterChart")v=f,y=VR,x=it.cursorLine;else if(d==="BarChart")v=qR(l,f,a,o),y=Rk,x=it.cursorRectangle;else if(l==="radial"&&iP(f)){var{cx:g,cy:w,radius:b,startAngle:_,endAngle:S}=$k(f);v={cx:g,cy:w,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},y=Fk,x=it.cursorLine}else v={points:R$(l,f,a)},y=yg,x=it.cursorLine;var j=typeof u=="object"&&"className"in u?u.className:void 0,P=wu(wu(wu(wu({stroke:"#ccc",pointerEvents:"none"},a),v),Lo(u)),{},{payload:h,payloadIndex:m,className:_e("recharts-tooltip-cursor",j)});return p.createElement(Jt,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},p.createElement(d4,{cursor:u,cursorComp:y,cursorProps:P}))}function h4(e){var t=TU(),r=wk(),n=Ea(),i=zU();return t==null||r==null||n==null||i==null?null:p.createElement(f4,Cm({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var rO=p.createContext(null),p4=()=>p.useContext(rO),nO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function a(u,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||u,h),v=r?r+c:c;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],m]:u._events[v].push(m):(u._events[v]=m,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,d,f,h,m,v){var y=r?r+c:c;if(!this._events[y])return!1;var x=this._events[y],g=arguments.length,w,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(b=1,w=new Array(g-1);b<g;b++)w[b-1]=arguments[b];x.fn.apply(x.context,w)}else{var _=x.length,S;for(b=0;b<_;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),g){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(g-1);S<g;S++)w[S-1]=arguments[S];x[b].fn.apply(x[b].context,w)}}return!0},l.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},l.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},l.prototype.removeListener=function(c,d,f,h){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,x=[],g=v.length;y<g;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(nO);var m4=nO.exports;const v4=Zn(m4);var ul=new v4,Tm="recharts.syncEvent.tooltip",Yb="recharts.syncEvent.brush",vy=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!wn(r))return e[r]}},g4={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},iO=ur({name:"options",initialState:g4,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),y4=iO.reducer,{createEventEmitter:x4}=iO.actions;function w4(e){return e.tooltip.syncInteraction}var b4={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aO=ur({name:"chartData",initialState:b4,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Xb,setDataStartEndIndexes:_4,setComputedData:Pq}=aO.actions,j4=aO.reducer,S4=["x","y"];function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){P4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P4(e,t,r){return(t=k4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4(e){var t=N4(e,"string");return typeof t=="symbol"?t:t+""}function N4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4(e,t){if(e==null)return{};var r,n,i=O4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function O4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A4(){var e=Y(Hg),t=Y(Vg),r=et(),n=Y(zN),i=Y(oi),a=Ea(),o=$o(),l=Y(u=>u.rootProps.className);p.useEffect(()=>{if(e==null)return Na;var u=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y}=m,x=E4(m,S4),{x:g,y:w,width:b,height:_}=d.payload.sourceViewBox,S=za(za({},x),{},{x:o.x+(b?(v-g)/b:0)*o.width,y:o.y+(_?(y-w)/_:0)*o.height});r(za(za({},d),{},{payload:za(za({},d.payload),{},{coordinate:S})}))}else r(d);return}if(i!=null){var j;if(typeof n=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(i,P);j=i[k]}else n==="value"&&(j=i.find(G=>String(G.value)===d.payload.label));var{coordinate:E}=d.payload;if(j==null||d.payload.active===!1||E==null||o==null){r(Om({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:N,y:T}=E,O=Math.min(N,o.x+o.width),W=Math.min(T,o.y+o.height),U={x:a==="horizontal"?j.coordinate:O,y:a==="horizontal"?W:j.coordinate},K=Om({active:d.payload.active,coordinate:U,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(K)}}};return ul.on(Tm,u),()=>{ul.off(Tm,u)}},[l,r,t,e,n,i,a,o])}function C4(){var e=Y(Hg),t=Y(Vg),r=et();p.useEffect(()=>{if(e==null)return Na;var n=(i,a,o)=>{t!==o&&e===i&&r(_4(a))};return ul.on(Yb,n),()=>{ul.off(Yb,n)}},[r,t,e])}function T4(){var e=et();p.useEffect(()=>{e(x4())},[e]),A4(),C4()}function I4(e,t,r,n,i,a){var o=Y(m=>BU(m,e,t)),l=Y(Vg),u=Y(Hg),c=Y(zN),d=Y(w4),f=d==null?void 0:d.active,h=$o();p.useEffect(()=>{if(!f&&u!=null&&l!=null){var m=Om({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});ul.emit(Tm,u,m,l)}},[f,r,o,i,n,l,u,c,a,h])}function Zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zb(Object(r),!0).forEach(function(n){M4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M4(e,t,r){return(t=D4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4(e){var t=L4(e,"string");return typeof t=="symbol"?t:t+""}function L4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R4(e){return e.dataKey}function $4(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(PR,t)}var e_=[],z4={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Yr(e){var t,r,n=kt(e,z4),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:y,wrapperStyle:x,cursor:g,shared:w,trigger:b,defaultIndex:_,portal:S,axisId:j}=n,P=et(),k=typeof _=="number"?String(_):_;p.useEffect(()=>{P(LB({shared:w,trigger:b,axisId:j,active:i,defaultIndex:k}))},[P,w,b,j,i,k]);var E=$o(),N=Tk(),T=AB(w),{activeIndex:O,isActive:W}=(t=Y(me=>KU(me,T,b,k)))!==null&&t!==void 0?t:{},U=Y(me=>WU(me,T,b,k)),K=Y(me=>eO(me,T,b,k)),G=Y(me=>UU(me,T,b,k)),X=U,A=p4(),$=(r=i??W)!==null&&r!==void 0?r:!1,[F,Q]=m2([X,$]),J=T==="axis"?K:void 0;I4(T,b,G,J,O,$);var ne=S??A;if(ne==null||E==null||T==null)return null;var pe=X??e_;$||(pe=e_),c&&pe.length&&(pe=ID(pe.filter(me=>me.value!=null&&(me.hide!==!0||n.includeHidden)),h,R4));var je=pe.length>0,be=p.createElement(TR,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:d,active:$,coordinate:G,hasPayload:je,offset:f,position:m,reverseDirection:v,useTranslate3d:y,viewBox:E,wrapperStyle:x,lastBoundingBox:F,innerRef:Q,hasPortalFromProps:!!S},$4(u,Jb(Jb({},n),{},{payload:pe,label:J,active:$,activeIndex:O,coordinate:G,accessibilityLayer:N})));return p.createElement(p.Fragment,null,$v.createPortal(be,ne),$&&p.createElement(h4,{cursor:g,tooltipEventType:T,coordinate:G,payload:pe,index:O}))}var Rl=e=>null;Rl.displayName="Cell";function F4(e,t,r){return(t=B4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4(e){var t=U4(e,"string");return typeof t=="symbol"?t:t+""}function U4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class W4{constructor(t){F4(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){H4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4(e,t,r){return(t=V4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V4(e){var t=q4(e,"string");return typeof t=="symbol"?t:t+""}function q4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G4={cacheSize:2e3,enableCache:!0},oO=K4({},G4),r_=new W4(oO.cacheSize),Y4={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n_="recharts_measurement_span";function X4(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var i_=(e,t)=>{try{var r=document.getElementById(n_);r||(r=document.createElement("span"),r.setAttribute("id",n_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Y4,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Os=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ff.isSsr)return{width:0,height:0};if(!oO.enableCache)return i_(t,r);var n=X4(t,r),i=r_.get(n);if(i)return i;var a=i_(t,r);return r_.set(n,a),a},sO;function Q4(e,t,r){return(t=Z4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4(e){var t=J4(e,"string");return typeof t=="symbol"?t:t+""}function J4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e5=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,t5=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,r5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},n5=["cm","mm","pt","pc","in","Q","px"];function i5(e){return n5.includes(e)}var ro="NaN";function a5(e,t){return e*r5[t]}class It{static parse(t){var r,[,n,i]=(r=t5.exec(t))!==null&&r!==void 0?r:[];return n==null?It.NaN:new It(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wn(t)&&(this.unit=""),r!==""&&!e5.test(r)&&(this.num=NaN,this.unit=""),i5(r)&&(this.num=a5(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new It(NaN,""):new It(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new It(NaN,""):new It(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new It(NaN,""):new It(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new It(NaN,""):new It(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wn(this.num)}}sO=It;Q4(It,"NaN",new sO(NaN,""));function lO(e){if(e==null||e.includes(ro))return ro;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=a_.exec(t))!==null&&r!==void 0?r:[],o=It.parse(n??""),l=It.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return ro;t=t.replace(a_,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=o_.exec(t))!==null&&c!==void 0?c:[],m=It.parse(d??""),v=It.parse(h??""),y=f==="+"?m.add(v):m.subtract(v);if(y.isNaN())return ro;t=t.replace(o_,y.toString())}return t}var s_=/\(([^()]*)\)/;function o5(e){for(var t=e,r;(r=s_.exec(t))!=null;){var[,n]=r;t=t.replace(s_,lO(n))}return t}function s5(e){var t=e.replace(/\s+/g,"");return t=o5(t),t=lO(t),t}function l5(e){try{return s5(e)}catch{return ro}}function Lh(e){var t=l5(e.slice(5,-1));return t===ro?"":t}var u5=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],c5=["dx","dy","angle","className","breakAll"];function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(null,arguments)}function l_(e,t){if(e==null)return{};var r,n,i=d5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uO=/[ \f\n\r\t\v\u2028\u2029]+/,cO=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Oe(t)||(r?i=t.toString().split(""):i=t.toString().split(uO));var a=i.map(l=>({word:l,width:Os(l,n).width})),o=r?0:Os("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function f5(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var dO=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var c={words:[o],width:l};i.push(c)}return i},[]),fO=e=>e.reduce((t,r)=>t.width>r.width?t:r),h5="",u_=(e,t,r,n,i,a,o,l)=>{var u=e.slice(0,t),c=cO({breakAll:r,style:n,children:u+h5});if(!c)return[!1,[]];var d=dO(c.wordsWithComputedWidth,a,o,l),f=d.length>i||fO(d).width>Number(a);return[f,d]},p5=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,c=q(a),d=String(o),f=dO(t,n,r,i);if(!c||i)return f;var h=f.length>a||fO(f).width>Number(n);if(!h)return f;for(var m=0,v=d.length-1,y=0,x;m<=v&&y<=d.length-1;){var g=Math.floor((m+v)/2),w=g-1,[b,_]=u_(d,w,u,l,a,n,r,i),[S]=u_(d,g,u,l,a,n,r,i);if(!b&&!S&&(m=g+1),b&&S&&(v=g-1),!b&&S){x=_;break}y++}return x||f},c_=e=>{var t=Oe(e)?[]:e.toString().split(uO);return[{words:t,width:void 0}]},m5=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!ff.isSsr){var l,u,c=cO({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;l=d,u=f}else return c_(n);return p5({breakAll:a,children:n,maxLines:o,style:i},l,u,t,!!r)}return c_(n)},hO="#808080",v5={angle:0,breakAll:!1,capHeight:"0.71em",fill:hO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},gy=p.forwardRef((e,t)=>{var r=kt(e,v5),{x:n,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:c,verticalAnchor:d}=r,f=l_(r,u5),h=p.useMemo(()=>m5({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:m,dy:v,angle:y,className:x,breakAll:g}=f,w=l_(f,c5);if(!Lr(n)||!Lr(i)||h.length===0)return null;var b=Number(n)+(q(m)?m:0),_=Number(i)+(q(v)?v:0);if(!se(b)||!se(_))return null;var S;switch(d){case"start":S=Lh("calc(".concat(o,")"));break;case"middle":S=Lh("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:S=Lh("calc(".concat(h.length-1," * -").concat(a,")"));break}var j=[],P=h[0];if(u&&P!=null){var k=P.width,{width:E}=f;j.push("scale(".concat(q(E)&&q(k)?E/k:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(b,", ").concat(_,")")),j.length&&(w.transform=j.join(" ")),p.createElement("text",Im({},Wt(w),{ref:t,x:b,y:_,className:_e("recharts-text",x),textAnchor:c,fill:l.includes("url")?hO:l}),h.map((N,T)=>{var O=N.words.join(g?"":" ");return p.createElement("tspan",{x:b,dy:T===0?S:a,key:"".concat(O,"-").concat(T)},O)}))});gy.displayName="Text";function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){g5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g5(e,t,r){return(t=y5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y5(e){var t=x5(e,"string");return typeof t=="symbol"?t:t+""}function x5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w5=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:o,height:l,upperWidth:u,lowerWidth:c}=mg(t),d=a,f=a+(u-c)/2,h=(d+f)/2,m=(u+c)/2,v=d+u/2,y=l>=0?1:-1,x=y*n,g=y>0?"end":"start",w=y>0?"start":"end",b=u>=0?1:-1,_=b*n,S=b>0?"end":"start",j=b>0?"start":"end",P=i;if(r==="top"){var k={x:d+u/2,y:o-x,horizontalAnchor:"middle",verticalAnchor:g};return P&&(k.height=Math.max(o-P.y,0),k.width=u),k}if(r==="bottom"){var E={x:f+c/2,y:o+l+x,horizontalAnchor:"middle",verticalAnchor:w};return P&&(E.height=Math.max(P.y+P.height-(o+l),0),E.width=c),E}if(r==="left"){var N={x:h-_,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"};return P&&(N.width=Math.max(N.x-P.x,0),N.height=l),N}if(r==="right"){var T={x:h+m+_,y:o+l/2,horizontalAnchor:j,verticalAnchor:"middle"};return P&&(T.width=Math.max(P.x+P.width-T.x,0),T.height=l),T}var O=P?{width:m,height:l}:{};return r==="insideLeft"?cn({x:h+_,y:o+l/2,horizontalAnchor:j,verticalAnchor:"middle"},O):r==="insideRight"?cn({x:h+m-_,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"},O):r==="insideTop"?cn({x:d+u/2,y:o+x,horizontalAnchor:"middle",verticalAnchor:w},O):r==="insideBottom"?cn({x:f+c/2,y:o+l-x,horizontalAnchor:"middle",verticalAnchor:g},O):r==="insideTopLeft"?cn({x:d+_,y:o+x,horizontalAnchor:j,verticalAnchor:w},O):r==="insideTopRight"?cn({x:d+u-_,y:o+x,horizontalAnchor:S,verticalAnchor:w},O):r==="insideBottomLeft"?cn({x:f+_,y:o+l-x,horizontalAnchor:j,verticalAnchor:g},O):r==="insideBottomRight"?cn({x:f+c-_,y:o+l-x,horizontalAnchor:S,verticalAnchor:g},O):r&&typeof r=="object"&&(q(r.x)||va(r.x))&&(q(r.y)||va(r.y))?cn({x:a+tn(r.x,m),y:o+tn(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},O):cn({x:v,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},O)},b5=["labelRef"],_5=["content"];function f_(e,t){if(e==null)return{};var r,n,i=j5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){S5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S5(e,t,r){return(t=P5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5(e){var t=k5(e,"string");return typeof t=="symbol"?t:t+""}function k5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(null,arguments)}var pO=p.createContext(null),mO=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:l}=e,u=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return p.createElement(pO.Provider,{value:u},l)},vO=()=>{var e=p.useContext(pO),t=$o();return e||(t?mg(t):void 0)},N5=p.createContext(null),E5=()=>{var e=p.useContext(N5),t=Y(KN);return e||t},O5=e=>{var{value:t,formatter:r}=e,n=Oe(e.children)?t:e.children;return typeof r=="function"?r(n):n},yy=e=>e!=null&&typeof e=="function",A5=(e,t)=>{var r=rr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},C5=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,v=(c+d)/2,y=A5(f,h),x=y>=0?1:-1,g,w;switch(t){case"insideStart":g=f+x*a,w=m;break;case"insideEnd":g=h-x*a,w=!m;break;case"end":g=h+x*a,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=y<=0?w:!w;var b=Mt(l,u,v,g),_=Mt(l,u,v,g+(w?1:-1)*359),S="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),j=Oe(e.id)?Xs("recharts-radial-line-"):e.id;return p.createElement("text",Cn({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:j,d:S})),p.createElement("textPath",{xlinkHref:"#".concat(j)},r))},T5=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:d,y:f}=Mt(n,i,o+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:m,y:v}=Mt(n,i,h,c);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Wu=e=>e!=null&&"cx"in e&&q(e.cx),I5={angle:0,offset:5,zIndex:it.label,position:"middle",textBreakAll:!1};function M5(e){if(!Wu(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function mi(e){var t=kt(e,I5),{viewBox:r,parentViewBox:n,position:i,value:a,children:o,content:l,className:u="",textBreakAll:c,labelRef:d}=t,f=E5(),h=vO(),m=i==="center"?h:f??h,v,y,x;r==null?v=m:Wu(r)?v=r:v=mg(r);var g=M5(v);if(!v||Oe(a)&&Oe(o)&&!p.isValidElement(l)&&typeof l!="function")return null;var w=ys(ys({},t),{},{viewBox:v});if(p.isValidElement(l)){var{labelRef:b}=w,_=f_(w,b5);return p.cloneElement(l,_)}if(typeof l=="function"){var{content:S}=w,j=f_(w,_5);if(y=p.createElement(l,j),p.isValidElement(y))return y}else y=O5(t);var P=Wt(t);if(Wu(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return C5(t,i,y,P,v);x=T5(v,t.offset,t.position)}else{if(!g)return null;var k=w5({viewBox:g,position:i,offset:t.offset,parentViewBox:Wu(n)?void 0:n});x=ys(ys({x:k.x,y:k.y,textAnchor:k.horizontalAnchor,verticalAnchor:k.verticalAnchor},k.width!==void 0?{width:k.width}:{}),k.height!==void 0?{height:k.height}:{})}return p.createElement(Jt,{zIndex:t.zIndex},p.createElement(gy,Cn({ref:d,className:_e("recharts-label",u)},P,x,{textAnchor:f5(P.textAnchor)?P.textAnchor:x.textAnchor,breakAll:c}),y))}mi.displayName="Label";var D5=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(mi,Cn({key:"label-implicit"},n)):Lr(e)?p.createElement(mi,Cn({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===mi?p.cloneElement(e,ys({key:"label-implicit"},n)):p.createElement(mi,Cn({key:"label-implicit",content:e},n)):yy(e)?p.createElement(mi,Cn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(mi,Cn({},e,{key:"label-implicit"},n)):null};function gO(e){var{label:t,labelRef:r}=e,n=vO();return D5(t,n,r)||null}var yO={},xO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(xO);var wO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(wO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO,r=wO,n=Hd;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(yO);var L5=yO.last;const R5=Zn(L5);var $5=["valueAccessor"],z5=["dataKey","clockWise","id","textBreakAll","zIndex"];function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(null,arguments)}function p_(e,t){if(e==null)return{};var r,n,i=F5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B5=e=>Array.isArray(e.value)?R5(e.value):e.value,bO=p.createContext(void 0),xy=bO.Provider,_O=p.createContext(void 0);_O.Provider;function U5(){return p.useContext(bO)}function W5(){return p.useContext(_O)}function Ku(e){var{valueAccessor:t=B5}=e,r=p_(e,$5),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:l}=r,u=p_(r,z5),c=U5(),d=W5(),f=c||d;return!f||!f.length?null:p.createElement(Jt,{zIndex:l??it.label},p.createElement(St,{className:"recharts-label-list"},f.map((h,m)=>{var v,y=Oe(n)?t(h,m):He(h.payload,n),x=Oe(a)?{}:{id:"".concat(a,"-").concat(m)};return p.createElement(mi,od({key:"label-".concat(m)},Wt(h),u,x,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Ku.displayName="LabelList";function wy(e){var{label:t}=e;return t?t===!0?p.createElement(Ku,{key:"labelList-implicit"}):p.isValidElement(t)||yy(t)?p.createElement(Ku,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Ku,od({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(null,arguments)}var jO=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=_e("recharts-dot",i);return q(t)&&q(r)&&q(n)?p.createElement("circle",Mm({},wr(e),Yv(e),{className:a,cx:t,cy:r,r:n})):null},K5={radiusAxis:{},angleAxis:{}},SO=ur({name:"polarAxis",initialState:K5,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kq,removeRadiusAxis:Nq,addAngleAxis:Eq,removeAngleAxis:Oq}=SO.actions,H5=SO.reducer;function V5(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var PO={exports:{}},Ie={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by=Symbol.for("react.transitional.element"),_y=Symbol.for("react.portal"),Cf=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Mf=Symbol.for("react.consumer"),Df=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),$f=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),q5=Symbol.for("react.view_transition"),G5=Symbol.for("react.client.reference");function Fr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case by:switch(e=e.type,e){case Cf:case If:case Tf:case Rf:case $f:case q5:return e;default:switch(e=e&&e.$$typeof,e){case Df:case Lf:case Ff:case zf:return e;case Mf:return e;default:return t}}case _y:return t}}}Ie.ContextConsumer=Mf;Ie.ContextProvider=Df;Ie.Element=by;Ie.ForwardRef=Lf;Ie.Fragment=Cf;Ie.Lazy=Ff;Ie.Memo=zf;Ie.Portal=_y;Ie.Profiler=If;Ie.StrictMode=Tf;Ie.Suspense=Rf;Ie.SuspenseList=$f;Ie.isContextConsumer=function(e){return Fr(e)===Mf};Ie.isContextProvider=function(e){return Fr(e)===Df};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===by};Ie.isForwardRef=function(e){return Fr(e)===Lf};Ie.isFragment=function(e){return Fr(e)===Cf};Ie.isLazy=function(e){return Fr(e)===Ff};Ie.isMemo=function(e){return Fr(e)===zf};Ie.isPortal=function(e){return Fr(e)===_y};Ie.isProfiler=function(e){return Fr(e)===If};Ie.isStrictMode=function(e){return Fr(e)===Tf};Ie.isSuspense=function(e){return Fr(e)===Rf};Ie.isSuspenseList=function(e){return Fr(e)===$f};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cf||e===If||e===Tf||e===Rf||e===$f||typeof e=="object"&&e!==null&&(e.$$typeof===Ff||e.$$typeof===zf||e.$$typeof===Df||e.$$typeof===Mf||e.$$typeof===Lf||e.$$typeof===G5||e.getModuleId!==void 0)};Ie.typeOf=Fr;PO.exports=Ie;var Y5=PO.exports,m_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",v_=null,Rh=null,kO=e=>{if(e===v_&&Array.isArray(Rh))return Rh;var t=[];return p.Children.forEach(e,r=>{Oe(r)||(Y5.isFragment(r)?t=t.concat(kO(r.props.children)):t.push(r))}),Rh=t,v_=e,t};function NO(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>m_(i)):n=[m_(t)],kO(e).forEach(i=>{var a=bo(i,"type.displayName")||bo(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var EO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,OO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(OO);var X5=OO.isPlainObject;const Q5=Zn(X5);var g_,y_,x_,w_,b_;function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z5(e,t,r){return(t=J5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(null,arguments)}function cs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S_=(e,t,r,n,i)=>{var a=r-n,o;return o=Ze(g_||(g_=cs(["M ",",",""])),e,t),o+=Ze(y_||(y_=cs(["L ",",",""])),e+r,t),o+=Ze(x_||(x_=cs(["L ",",",""])),e+r-a/2,t+i),o+=Ze(w_||(w_=cs(["L ",",",""])),e+r-a/2-n,t+i),o+=Ze(b_||(b_=cs(["L ",","," Z"])),e,t),o},tW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rW=e=>{var t=kt(e,tW),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:l}=t,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,v]=p.useState(-1),y=p.useRef(i),x=p.useRef(a),g=p.useRef(o),w=p.useRef(r),b=p.useRef(n),_=Pl(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var U=h.current.getTotalLength();U&&v(U)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var S=_e("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",sd({},Wt(t),{className:S,d:S_(r,n,i,a,o)})));var j=y.current,P=x.current,k=g.current,E=w.current,N=b.current,T="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),W=Ik(["strokeDasharray"],c,u);return p.createElement(Sl,{animationId:_,key:_,canBegin:m>0,duration:c,easing:u,isActive:f,begin:d},U=>{var K=De(j,i,U),G=De(P,a,U),X=De(k,o,U),A=De(E,r,U),$=De(N,n,U);h.current&&(y.current=K,x.current=G,g.current=X,w.current=A,b.current=$);var F=U>0?{transition:W,strokeDasharray:O}:{strokeDasharray:T};return p.createElement("path",sd({},Wt(t),{className:S,d:S_(A,$,K,G,X),ref:h,style:j_(j_({},F),t.style)}))})},nW=["option","shapeType","activeClassName"];function iW(e,t){if(e==null)return{};var r,n,i=aW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uW(e,t){return ld(ld({},t),e)}function cW(e,t){return e==="symbols"}function k_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(Rk,r);case"trapezoid":return p.createElement(rW,r);case"sector":return p.createElement(Fk,r);case"symbols":if(cW(t))return p.createElement(Gv,r);break;case"curve":return p.createElement(yg,r);default:return null}}function dW(e){return p.isValidElement(e)?e.props:e}function ud(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=iW(e,nW),a;if(p.isValidElement(t))a=p.cloneElement(t,ld(ld({},i),dW(t)));else if(typeof t=="function")a=t(i,i.index);else if(Q5(t)&&typeof t!="boolean"){var o=uW(t,i);a=p.createElement(k_,{shapeType:r,elementProps:o})}else{var l=i;a=p.createElement(k_,{shapeType:r,elementProps:l})}return i.isActive?p.createElement(St,{className:n},a):a}var jy=(e,t,r)=>{var n=et();return(i,a)=>o=>{e==null||e(i,a,o),n(ME({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Sy=e=>{var t=et();return(r,n)=>i=>{e==null||e(r,n,i),t(RB())}},Py=(e,t,r)=>{var n=et();return(i,a)=>o=>{e==null||e(i,a,o),n($B({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function ky(e){var{tooltipEntrySettings:t}=e,r=et(),n=ft(),i=p.useRef(null);return p.useLayoutEffect(()=>{n||(i.current===null?r(IB(t)):i.current!==t&&r(MB({prev:i.current,next:t})),i.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{i.current&&(r(DB(i.current)),i.current=null)},[r]),null}function Ny(e){var{legendPayload:t}=e,r=et(),n=ft(),i=p.useRef(null);return p.useLayoutEffect(()=>{n||(i.current===null?r(gR(t)):i.current!==t&&r(yR({prev:i.current,next:t})),i.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{i.current&&(r(xR(i.current)),i.current=null)},[r]),null}var $h,fW=()=>{var[e]=p.useState(()=>Xs("uid-"));return e},hW=($h=gj.useId)!==null&&$h!==void 0?$h:fW;function pW(e,t){var r=hW();return t||(e?"".concat(e,"-").concat(r):r)}var mW=p.createContext(void 0),Ey=e=>{var{id:t,type:r,children:n}=e,i=pW("recharts-".concat(r),t);return p.createElement(mW.Provider,{value:i},n(i))},vW={cartesianItems:[],polarItems:[]},AO=ur({name:"graphicalItems",initialState:vW,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ue()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Zr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ue()},removeCartesianGraphicalItem:{reducer(e,t){var r=Zr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ue()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ue()},removePolarGraphicalItem:{reducer(e,t){var r=Zr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ue()}}}),{addCartesianGraphicalItem:gW,replaceCartesianGraphicalItem:yW,removeCartesianGraphicalItem:xW,addPolarGraphicalItem:Aq,removePolarGraphicalItem:Cq}=AO.actions,wW=AO.reducer,bW=e=>{var t=et(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(gW(e)):r.current!==e&&t(yW({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(xW(r.current)),r.current=null)},[t]),null},Oy=p.memo(bW),_W=["points"];function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return(t=SW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(null,arguments)}function kW(e,t){if(e==null)return{};var r,n,i=NW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EW(e){var{option:t,dotProps:r,className:n}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var i=_e(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,l=kW(a,_W);return p.createElement(jO,cd({},l,{className:i}))}function OW(e,t){return e==null?!1:t?!0:e.length===1}function AW(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:c=it.scatter}=e;if(!OW(t,r))return null;var d=EO(r),f=PM(r),h=t.map((v,y)=>{var x,g,w=zh(zh(zh({r:3},o),f),{},{index:y,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(g=v.y)!==null&&g!==void 0?g:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return p.createElement(EW,{key:"dot-".concat(y),option:r,dotProps:w,className:i})}),m={};return l&&u!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),p.createElement(Jt,{zIndex:c},p.createElement(St,cd({className:n},m),h))}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){CW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CW(e,t,r){return(t=TW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CO=0,MW={xAxis:{},yAxis:{},zAxis:{}},TO=ur({name:"cartesianAxis",initialState:MW,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ue()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ue()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ue()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ue()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ue()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ue()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ue()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ue()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ue()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==i.width&&Math.abs(n-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var l=[...o,n].slice(-3);e.yAxis[r]=O_(O_({},i),{},{width:n,widthHistory:l})}}}}),{addXAxis:DW,replaceXAxis:LW,removeXAxis:RW,addYAxis:$W,replaceYAxis:zW,removeYAxis:FW,addZAxis:Tq,replaceZAxis:Iq,removeZAxis:Mq,updateYAxisWidth:BW}=TO.actions,UW=TO.reducer,WW=C([Nt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),KW=C([WW,ri,ni],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ay=()=>Y(KW),HW=()=>Y(NU);function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YW=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Fh(Fh(Fh({},l),Lo(i)),Yv(i)),c;return p.isValidElement(i)?c=p.cloneElement(i,u):typeof i=="function"?c=i(u):c=p.createElement(jO,u),p.createElement(St,{className:"recharts-active-dot",clipPath:o},c)};function XW(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=it.activeDot}=e,l=Y(Li),u=HW();if(t==null||u==null)return null;var c=t.find(d=>u.includes(d.payload));return Oe(c)?null:p.createElement(Jt,{zIndex:o},p.createElement(YW,{point:c,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var C_=(e,t,r)=>{var n=r??e;if(!Oe(n))return tn(n,t,0)},QW=(e,t,r)=>{var n={},i=e.filter(Pf),a=e.filter(c=>c.stackId==null),o=i.reduce((c,d)=>{var f=c[d.stackId];return f==null&&(f=[]),f.push(d),c[d.stackId]=f,c},n),l=Object.entries(o).map(c=>{var d,[f,h]=c,m=h.map(y=>y.dataKey),v=C_(t,r,(d=h[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:m,barSize:v}}),u=a.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=C_(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...u]};function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){ZW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZW(e,t,r){return(t=JW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=eK(e,"string");return typeof t=="symbol"?t:t+""}function eK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tK(e,t,r,n,i){var a,o=n.length;if(!(o<1)){var l=tn(e,r,0,!0),u,c=[];if(se((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,f=r/o,h=n.reduce((w,b)=>w+(b.barSize||0),0);h+=(o-1)*l,h>=r&&(h-=(o-1)*l,l=0),h>=r&&f>0&&(d=!0,f*=.9,h=o*f);var m=(r-h)/2>>0,v={offset:m-l,size:0};u=n.reduce((w,b)=>{var _,S={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:v.offset+v.size+l,size:d?f:(_=b.barSize)!==null&&_!==void 0?_:0}},j=[...w,S];return v=S.position,j},c)}else{var y=tn(t,r,0,!0);r-2*y-(o-1)*l<=0&&(l=0);var x=(r-2*y-(o-1)*l)/o;x>1&&(x>>=0);var g=se(i)?Math.min(x,i):x;u=n.reduce((w,b,_)=>[...w,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(x+l)*_+(x-g)/2,size:g}}],c)}return u}}var rK=(e,t,r,n,i,a,o)=>{var l=Oe(o)?t:o,u=tK(r,n,i!==a?i:a,e,l);return i!==a&&u!=null&&(u=u.map(c=>bu(bu({},c),{},{position:bu(bu({},c.position),{},{offset:c.position.offset-i/2})}))),u},nK=(e,t)=>{var r=Xg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},iK=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function aK(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&se(e.zIndex)?e.zIndex:t}var oK=e=>{var{chartData:t}=e,r=et(),n=ft();return p.useEffect(()=>n?()=>{}:(r(Xb(t)),()=>{r(Xb(void 0))}),[t,r,n]),null},I_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},IO=ur({name:"brush",initialState:I_,reducers:{setBrushSettings(e,t){return t.payload==null?I_:t.payload}}}),{setBrushSettings:Dq}=IO.actions,sK=IO.reducer,lK=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return{x:Math.min(r,i),y:Math.min(n,a),width:Math.abs(i-r),height:Math.abs(a-n)}},uK=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return lK({x:t,y:r},{x:n,y:i})};function cK(e){return(e%180+180)%180}var dK=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=cK(i),o=a*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},fK={dots:[],areas:[],lines:[]},MO=ur({name:"referenceElements",initialState:fK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Zr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Zr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Zr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Lq,removeDot:Rq,addArea:$q,removeArea:zq,addLine:hK,removeLine:pK}=MO.actions,mK=MO.reducer,DO=p.createContext(void 0),vK=e=>{var{children:t}=e,[r]=p.useState("".concat(Xs("recharts"),"-clip")),n=Ay();if(n==null)return null;var{x:i,y:a,width:o,height:l}=n;return p.createElement(DO.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:i,y:a,height:l,width:o}))),t)},gK=()=>p.useContext(DO);class yK{constructor(t){var{x:r,y:n}=t;this.xAxisScale=r,this.yAxisScale=n}map(t,r){var n,i,{position:a}=r;return{x:(n=this.xAxisScale.map(t.x,{position:a}))!==null&&n!==void 0?n:0,y:(i=this.yAxisScale.map(t.y,{position:a}))!==null&&i!==void 0?i:0}}mapWithFallback(t,r){var n,i,{position:a,fallback:o}=r,l,u;return o==="rangeMin"?l=this.yAxisScale.rangeMin():o==="rangeMax"?l=this.yAxisScale.rangeMax():l=0,o==="rangeMin"?u=this.xAxisScale.rangeMin():o==="rangeMax"?u=this.xAxisScale.rangeMax():u=0,{x:(n=this.xAxisScale.map(t.x,{position:a}))!==null&&n!==void 0?n:u,y:(i=this.yAxisScale.map(t.y,{position:a}))!==null&&i!==void 0?i:l}}isInRange(t){var{x:r,y:n}=t,i=r==null||this.xAxisScale.isInRange(r),a=n==null||this.yAxisScale.isInRange(n);return i&&a}}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(null,arguments)}var _K=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!se(t.x1)||!se(t.y1)||!se(t.x2)||!se(t.y2))return null;r=p.createElement("line",dd({},t,{className:"recharts-reference-line-line"}))}return r},jK=(e,t,r,n,i,a)=>{var{x:o,width:l}=a,u=i.map(e,{position:r});if(!se(u)||t==="discard"&&!i.isInRange(u))return null;var c=[{x:o+l,y:u},{x:o,y:u}];return n==="left"?c.reverse():c},SK=(e,t,r,n,i,a)=>{var{y:o,height:l}=a,u=i.map(e,{position:r});if(!se(u)||t==="discard"&&!i.isInRange(u))return null;var c=[{x:u,y:o+l},{x:u,y:o}];return n==="top"?c.reverse():c},PK=(e,t,r,n)=>{var i=[n.mapWithFallback(e[0],{position:r,fallback:"rangeMin"}),n.mapWithFallback(e[1],{position:r,fallback:"rangeMax"})];return t==="discard"&&i.some(a=>!n.isInRange(a))?null:i},kK=(e,t,r,n,i,a,o)=>{var{x:l,y:u,segment:c,ifOverflow:d}=o,f=Lr(l),h=Lr(u);return h?jK(u,d,n,a,t,r):f?SK(l,d,n,i,e,r):c!=null&&c.length===2?PK(c,d,n,new yK({x:e,y:t})):null};function NK(e){var t=et();return p.useEffect(()=>(t(hK(e)),()=>{t(pK(e))})),null}function EK(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:a}=e,o=ft(),l=gK(),u=Y(P=>kn(P,t)),c=Y(P=>Nn(P,r)),d=Y(P=>Oo(P,"xAxis",t,o)),f=Y(P=>Oo(P,"yAxis",r,o)),h=$o();if(!l||!h||u==null||c==null||d==null||f==null)return null;var m=kK(d,f,h,e.position,u.orientation,c.orientation,e);if(!m)return null;var v=m[0],y=m[1];if(v==null||y==null)return null;var{x,y:g}=v,{x:w,y:b}=y,_=a==="hidden"?"url(#".concat(l,")"):void 0,S=D_(D_({clipPath:_},Wt(e)),{},{x1:x,y1:g,x2:w,y2:b}),j=uK({x1:x,y1:g,x2:w,y2:b});return p.createElement(Jt,{zIndex:e.zIndex},p.createElement(St,{className:_e("recharts-reference-line",i)},_K(n,S),p.createElement(mO,dd({},j,{lowerWidth:j.width,upperWidth:j.width}),p.createElement(gO,{label:e.label}),e.children)))}var OK={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:it.line};function ba(e){var t=kt(e,OK);return p.createElement(p.Fragment,null,p.createElement(NK,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),p.createElement(EK,t))}ba.displayName="ReferenceLine";function LO(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function AK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dK(n,r)}function CK(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function cl(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function TK(e,t){return LO(e,t+1)}function IK(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:l}=t,u=0,c=1,d=o,f=function(){var v=n==null?void 0:n[u];if(v===void 0)return{v:LO(n,c)};var y=u,x,g=()=>(x===void 0&&(x=r(v,y)),x),w=v.coordinate,b=u===0||cl(e,w,g,d,l);b||(u=0,d=o,c+=1),b&&(d=w+e*(g()/2+i),u+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function MK(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:l,end:u}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=l,h=!0,m=function(){var _=n[y];if(_==null)return 0;var S=y,j,P=()=>(j===void 0&&(j=r(_,S)),j),k=_.coordinate,E=y===d||cl(e,k,P,f,u);if(!E)return h=!1,1;E&&(f=k+e*(P()/2+i))},v,y=d;y<o&&(v=m(),!(v!==0&&v===1));y+=c);if(h){for(var x=[],g=d;g<o;g+=c){var w=n[g];w!=null&&x.push(w)}return x}}return[]}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=LK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LK(e){var t=RK(e,"string");return typeof t=="symbol"?t:t+""}function RK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $K(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,c=function(h){var m=a[h];if(m==null)return 1;var v=m,y,x=()=>(y===void 0&&(y=r(m,h)),y);if(h===o-1){var g=e*(v.coordinate+e*x()/2-u);a[h]=v=zt(zt({},v),{},{tickCoord:g>0?v.coordinate-g*e:v.coordinate})}else a[h]=v=zt(zt({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var w=cl(e,v.tickCoord,x,l,u);w&&(u=v.tickCoord-e*(x()/2+i),a[h]=zt(zt({},v),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return a}function zK(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:u,end:c}=t;if(a){var d=n[l-1];if(d!=null){var f=r(d,l-1),h=e*(d.coordinate+e*f/2-c);if(o[l-1]=d=zt(zt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=cl(e,d.tickCoord,()=>f,u,c);m&&(c=d.tickCoord-e*(f/2+i),o[l-1]=zt(zt({},d),{},{isShow:!0}))}}}for(var v=a?l-1:l,y=function(w){var b=o[w];if(b==null)return 1;var _=b,S,j=()=>(S===void 0&&(S=r(b,w)),S);if(w===0){var P=e*(_.coordinate-e*j()/2-u);o[w]=_=zt(zt({},_),{},{tickCoord:P<0?_.coordinate-P*e:_.coordinate})}else o[w]=_=zt(zt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var k=cl(e,_.tickCoord,j,u,c);k&&(u=_.tickCoord+e*(j()/2+i),o[w]=zt(zt({},_),{},{isShow:!0}))}},x=0;x<v;x++)y(x);return o}function Cy(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(q(u)||ff.isSsr){var h;return(h=TK(i,q(u)?u:0))!==null&&h!==void 0?h:[]}var m=[],v=l==="top"||l==="bottom"?"width":"height",y=d&&v==="width"?Os(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(S,j)=>{var P=typeof c=="function"?c(S.value,j):S.value;return v==="width"?AK(Os(P,{fontSize:t,letterSpacing:r}),y,f):Os(P,{fontSize:t,letterSpacing:r})[v]},g=i[0],w=i[1],b=i.length>=2&&g!=null&&w!=null?rr(w.coordinate-g.coordinate):1,_=CK(a,b,v);return u==="equidistantPreserveStart"?IK(b,_,x,i,o):u==="equidistantPreserveEnd"?MK(b,_,x,i,o):(u==="preserveStart"||u==="preserveStartEnd"?m=zK(b,_,x,i,o,u==="preserveStartEnd"):m=$K(b,_,x,i,o),m.filter(S=>S.isShow))}var FK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,u=i+a,c=o+u+l+(r?n:0);return Math.round(c)}return 0},BK=["axisLine","width","height","className","hide","ticks","axisType"];function UK(e,t){if(e==null)return{};var r,n,i=WK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(null,arguments)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $n={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:it.axis};function qK(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var c=Qe(Qe(Qe({},u),wr(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);c=Qe(Qe({},c),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);c=Qe(Qe({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return p.createElement("line",_a({},c,{className:_e("recharts-cartesian-axis-line",bo(l,"className"))}))}function GK(e,t,r,n,i,a,o,l,u){var c,d,f,h,m,v,y=l?-1:1,x=e.tickSize||o,g=q(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=r+ +!l*i,f=h-y*x,v=f-y*u,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,c=d-y*x,m=c-y*u,v=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,c=d+y*x,m=c+y*u,v=g;break;default:c=d=e.coordinate,h=r+ +l*i,f=h+y*x,v=f+y*u,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function YK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function XK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function QK(e){var{option:t,tickProps:r,value:n}=e,i,a=_e(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))i=p.cloneElement(t,Qe(Qe({},r),{},{className:a}));else if(typeof t=="function")i=t(Qe(Qe({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=_e(o,V5(t))),i=p.createElement(gy,_a({},r,{className:o}),n)}return i}var ZK=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:v,height:y,tickSize:x,tickMargin:g,fontSize:w,letterSpacing:b,getTicksConfig:_,events:S,axisType:j}=e,P=Cy(Qe(Qe({},_),{},{ticks:r}),w,b),k=YK(d,f),E=XK(d,f),N=wr(_),T=Lo(n),O={};typeof i=="object"&&(O=i);var W=Qe(Qe({},N),{},{fill:"none"},O),U=P.map(X=>Qe({entry:X},GK(X,h,m,v,y,d,x,f,g))),K=U.map(X=>{var{entry:A,line:$}=X;return p.createElement(St,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},i&&p.createElement("line",_a({},W,$,{className:_e("recharts-cartesian-axis-tick-line",bo(i,"className"))})))}),G=U.map((X,A)=>{var $,F,{entry:Q,tick:J}=X,ne=Qe(Qe(Qe(Qe({verticalAnchor:E},N),{},{textAnchor:k,stroke:"none",fill:a},J),{},{index:A,payload:Q,visibleTicksCount:P.length,tickFormatter:o,padding:u},c),{},{angle:($=(F=c==null?void 0:c.angle)!==null&&F!==void 0?F:N.angle)!==null&&$!==void 0?$:0}),pe=Qe(Qe({},ne),T);return p.createElement(St,_a({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},Kd(S,Q,A)),n&&p.createElement(QK,{option:n,tickProps:pe,value:"".concat(typeof o=="function"?o(Q.value,A):Q.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},G.length>0&&p.createElement(Jt,{zIndex:it.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},G)),K.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},K))}),JK=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l,axisType:u}=e,c=UK(e,BK),[d,f]=p.useState(""),[h,m]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return FK({ticks:v.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=p.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=g;var w=g[0];if(w){var b=window.getComputedStyle(w),_=b.fontSize,S=b.letterSpacing;(_!==d||S!==h)&&(f(_),m(S))}}},[d,h]);return o||n!=null&&n<=0||i!=null&&i<=0?null:p.createElement(Jt,{zIndex:e.zIndex},p.createElement(St,{className:_e("recharts-cartesian-axis",a)},p.createElement(qK,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:wr(e)}),p.createElement(ZK,{ref:y,axisType:u,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(mO,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(gO,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ty=p.forwardRef((e,t)=>{var r=kt(e,$n);return p.createElement(JK,_a({},r,{ref:t}))});Ty.displayName="CartesianAxis";var e6=["x1","y1","x2","y2","key"],t6=["offset"],r6=["xAxisId","yAxisId"],n6=["xAxisId","yAxisId"];function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){i6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i6(e,t,r){return(t=a6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=o6(e,"string");return typeof t=="symbol"?t:t+""}function o6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(null,arguments)}function fd(e,t){if(e==null)return{};var r,n,i=s6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function s6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l6=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RO(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:l,y2:u,key:c}=r,d=fd(r,e6),f=(i=wr(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=fd(f,t6);n=p.createElement("line",ta({},m,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:c}))}return n}function u6(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=fd(e,r6),u=i.map((c,d)=>{var f=Bt(Bt({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return p.createElement(RO,{key:"line-".concat(d),option:n,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function c6(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=fd(e,n6),u=i.map((c,d)=>{var f=Bt(Bt({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return p.createElement(RO,{option:n,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function d6(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=c[h+1],v=m==null,y=v?i+o-f:m-f;if(y<=0)return null;var x=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:y,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function f6(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var c=u.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=c[h+1],v=m==null,y=v?i+o-f:m-f;if(y<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var h6=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return ck(Cy(Bt(Bt(Bt({},$n),r),{},{ticks:dk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},p6=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return ck(Cy(Bt(Bt(Bt({},$n),r),{},{ticks:dk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},m6={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:it.grid};function Ri(e){var t=bk(),r=_k(),n=wk(),i=Bt(Bt({},kt(e,m6)),{},{x:q(e.x)?e.x:n.left,y:q(e.y)?e.y:n.top,width:q(e.width)?e.width:n.width,height:q(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,v=ft(),y=Y(E=>zb(E,"xAxis",a,v)),x=Y(E=>zb(E,"yAxis",o,v));if(!bn(c)||!bn(d)||!q(l)||!q(u))return null;var g=i.verticalCoordinatesGenerator||h6,w=i.horizontalCoordinatesGenerator||p6,{horizontalPoints:b,verticalPoints:_}=i;if((!b||!b.length)&&typeof w=="function"){var S=h&&h.length,j=w({yAxis:x?Bt(Bt({},x),{},{ticks:S?h:x.ticks}):void 0,width:t??c,height:r??d,offset:n},S?!0:f);Lc(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(b=j)}if((!_||!_.length)&&typeof g=="function"){var P=m&&m.length,k=g({xAxis:y?Bt(Bt({},y),{},{ticks:P?m:y.ticks}):void 0,width:t??c,height:r??d,offset:n},P?!0:f);Lc(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return p.createElement(Jt,{zIndex:i.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(l6,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),p.createElement(d6,ta({},i,{horizontalPoints:b})),p.createElement(f6,ta({},i,{verticalPoints:_})),p.createElement(u6,ta({},i,{offset:n,horizontalPoints:b,xAxis:y,yAxis:x})),p.createElement(c6,ta({},i,{offset:n,verticalPoints:_,xAxis:y,yAxis:x}))))}Ri.displayName="CartesianGrid";var v6={},$O=ur({name:"errorBars",initialState:v6,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Fq,replaceErrorBar:Bq,removeErrorBar:Uq}=$O.actions,g6=$O.reducer,y6=["children"];function x6(e,t){if(e==null)return{};var r,n,i=w6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b6={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_6=p.createContext(b6);function Iy(e){var{children:t}=e,r=x6(e,y6);return p.createElement(_6.Provider,{value:r},t)}function Bf(e,t){var r,n,i=Y(c=>kn(c,e)),a=Y(c=>Nn(c,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:xt.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:wt.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function My(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Ay(),{needClipX:a,needClipY:o,needClip:l}=Bf(t,r);if(!l||!i)return null;var{x:u,y:c,width:d,height:f}=i;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:a?u:u-d/2,y:o?c:c-f/2,width:a?d:d*2,height:o?f:f*2}))}var zO=(e,t,r,n)=>Sn(e,"xAxis",t,n),FO=(e,t,r,n)=>jn(e,"xAxis",t,n),BO=(e,t,r,n)=>Sn(e,"yAxis",r,n),UO=(e,t,r,n)=>jn(e,"yAxis",r,n),j6=C([Ne,zO,BO,FO,UO],(e,t,r,n,i)=>ti(e,"xAxis")?So(t,n,!1):So(r,i,!1)),S6=(e,t,r,n,i)=>i;function P6(e){return e.type==="line"}var k6=C([Cl,S6],(e,t)=>e.filter(P6).find(r=>r.id===t)),N6=C([Ne,zO,BO,FO,UO,k6,j6,xf],(e,t,r,n,i,a,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=l;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=u==null?void 0:u.slice(c,d+1),m!=null)return y8({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:m})}});function E6(e){var t=Lo(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var O6={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=p;function A6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C6=typeof Object.is=="function"?Object.is:A6,T6=$l.useSyncExternalStore,I6=$l.useRef,M6=$l.useEffect,D6=$l.useMemo,L6=$l.useDebugValue;O6.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=I6(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=D6(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return f=v}return f=m}if(v=f,C6(d,m))return v;var y=n(m);return i!==void 0&&i(v,y)?(d=m,v):(d=m,f=y)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,i]);var l=T6(e,a[0],a[1]);return M6(function(){o.hasValue=!0,o.value=l},[l]),L6(l),l};function R6(e){e()}function $6(){let e=null,t=null;return{clear(){e=null,t=null},notify(){R6(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var z_={notify(){},get:()=>[]};function z6(e,t){let r,n=z_,i=0,a=!1;function o(y){d();const x=n.subscribe(y);let g=!1;return()=>{g||(g=!0,x(),f())}}function l(){n.notify()}function u(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){i++,r||(r=e.subscribe(u),n=$6())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=z_)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var F6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B6=F6(),U6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",W6=U6(),K6=()=>B6||W6?p.useLayoutEffect:p.useEffect,H6=K6();function F_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function V6(e,t){if(F_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!F_(e[r[i]],t[r[i]]))return!1;return!0}var Bh=Symbol.for("react-redux-context"),Uh=typeof globalThis<"u"?globalThis:{};function q6(){if(!p.createContext)return{};const e=Uh[Bh]??(Uh[Bh]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var G6=q6();function Y6(e){const{children:t,context:r,serverState:n,store:i}=e,a=p.useMemo(()=>{const u=z6(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),o=p.useMemo(()=>i.getState(),[i]);H6(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=r||G6;return p.createElement(l.Provider,{value:a},t)}var X6=Y6,Q6=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Z6(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function zl(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Q6.has(n)){if(e[n]==null&&t[n]==null)continue;if(!V6(e[n],t[n]))return!1}else if(!Z6(e[n],t[n]))return!1;return!0}var J6=["id"],e8=["type","layout","connectNulls","needClip","shape"],t8=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(null,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){r8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8(e,t,r){return(t=n8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dy(e,t){if(e==null)return{};var r,n,i=a8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o8=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ro(r,t),payload:e}]},s8=p.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r,getPosition:Na,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ro(o,t),hide:l,type:c,color:n,unit:u,graphicalItemId:d}};return p.createElement(ky,{tooltipEntrySettings:f})}),WO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function l8(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var u8=(e,t,r)=>{var n=r.reduce((m,v)=>m+v);if(!n)return WO(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,l=[],u=0,c=0;u<r.length;c+=(d=r[u])!==null&&d!==void 0?d:0,++u){var d,f=r[u];if(f!=null&&c+f>a){l=[...r.slice(0,u),a-c];break}}var h=l.length%2===0?[0,o]:[o];return[...l8(r,i),...l,...h].map(m=>"".concat(m,"px")).join(", ")};function c8(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n,{id:l}=n,u=Dy(n,J6),c=wr(u);return p.createElement(AW,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:o,clipPathId:t})}function d8(e){var{showLabels:t,children:r,points:n}=e,i=p.useMemo(()=>n==null?void 0:n.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hn(hn({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(xy,{value:t?i:void 0},r)}function U_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:o,layout:l,connectNulls:u,needClip:c,shape:d}=a,f=Dy(a,e8),h=hn(hn({},Wt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(ud,dl({shapeType:"curve",option:d},h,{pathRef:r})),p.createElement(c8,{points:n,clipPathId:t,props:a}))}function f8(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function h8(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:v,onAnimationEnd:y,onAnimationStart:x}=r,g=i.current,w=Pl(o,"recharts-line-"),b=p.useRef(w),[_,S]=p.useState(!1),j=!_,P=p.useCallback(()=>{typeof y=="function"&&y(),S(!1)},[y]),k=p.useCallback(()=>{typeof x=="function"&&x(),S(!0)},[x]),E=f8(n.current),N=p.useRef(0);b.current!==w&&(N.current=a.current,b.current=w);var T=N.current;return p.createElement(d8,{points:o,showLabels:j},r.children,p.createElement(Sl,{animationId:w,begin:c,duration:d,isActive:u,easing:f,onAnimationEnd:P,onAnimationStart:k,key:w},O=>{var W=De(T,E+T,O),U=Math.min(W,E),K;if(u)if(l){var G="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));K=u8(U,E,G)}else K=WO(E,U);else K=l==null?void 0:String(l);if(O>0&&E>0&&(i.current=o,a.current=Math.max(a.current,U)),g){var X=g.length/o.length,A=O===1?o:o.map(($,F)=>{var Q=Math.floor(F*X);if(g[Q]){var J=g[Q];return hn(hn({},$),{},{x:De(J.x,$.x,O),y:De(J.y,$.y,O)})}return h?hn(hn({},$),{},{x:De(m*2,$.x,O),y:De(v/2,$.y,O)}):hn(hn({},$),{},{x:$.x,y:$.y})});return i.current=A,p.createElement(U_,{props:r,points:A,clipPathId:t,pathRef:n,strokeDasharray:K})}return p.createElement(U_,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:K})}),p.createElement(wy,{label:r.label}))}function p8(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),i=p.useRef(0),a=p.useRef(null);return p.createElement(h8,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var m8=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:He(e.payload,t)}};class v8 extends p.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:o,top:l,left:u,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var v=_e("recharts-line",i),y=f,{r:x,strokeWidth:g}=E6(r),w=EO(r),b=x*2+g,_=h?"url(#clipPath-".concat(w?"":"dots-").concat(y,")"):void 0;return p.createElement(Jt,{zIndex:m},p.createElement(St,{className:v},h&&p.createElement("defs",null,p.createElement(My,{clipPathId:y,xAxisId:a,yAxisId:o}),!w&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:u-b/2,y:l-b/2,width:c+b,height:d+b}))),p.createElement(Iy,{xAxisId:a,yAxisId:o,data:n,dataPointFormatter:m8,errorBarOffset:0},p.createElement(p8,{props:this.props,clipPathId:y}))),p.createElement(XW,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var KO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:it.line,type:"linear"};function g8(e){var t=kt(e,KO),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:v,id:y}=t,x=Dy(t,t8),{needClip:g}=Bf(m,v),w=Ay(),b=Ea(),_=ft(),S=Y(N=>N6(N,m,v,_,y));if(b!=="horizontal"&&b!=="vertical"||S==null||w==null)return null;var{height:j,width:P,x:k,y:E}=w;return p.createElement(v8,dl({},x,{id:y,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:v,points:S,layout:b,height:j,width:P,left:k,top:E,needClip:g}))}function y8(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((c,d)=>{var f=He(c,o);if(t==="horizontal"){var h=Dc({axis:r,ticks:i,bandSize:l,entry:c,index:d}),m=Oe(f)?null:n.scale.map(f);return{x:h,y:m??null,value:f,payload:c}}var v=Oe(f)?null:r.scale.map(f),y=Dc({axis:n,ticks:a,bandSize:l,entry:c,index:d});return v==null||y==null?null:{x:v,y,value:f,payload:c}}).filter(Boolean)}function x8(e){var t=kt(e,KO),r=ft();return p.createElement(Ey,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(Ny,{legendPayload:o8(t)}),p.createElement(s8,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),p.createElement(Oy,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(g8,dl({},t,{id:n}))))}var zn=p.memo(x8,zl);zn.displayName="Line";function Ca(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:CO}function Ta(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:CO}var w8="Invariant failed";function b8(e,t){throw new Error(w8)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(null,arguments)}function hd(e){return p.createElement(ud,Dm({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var _8=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(q(t))return t;var a=q(n)||Oe(n);return a?t(n,i):(a||b8(),r)}},j8=(e,t,r)=>r,S8=(e,t)=>t,Fl=C([Cl,S8],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),P8=C([Fl],e=>e==null?void 0:e.maxBarSize),k8=(e,t,r,n)=>n,N8=C([Ne,Cl,Ca,Ta,j8],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),E8=(e,t,r)=>{var n=Ne(e),i=Ca(e,t),a=Ta(e,t);if(!(i==null||a==null))return n==="horizontal"?Em(e,"yAxis",a,r):Em(e,"xAxis",i,r)},O8=(e,t)=>{var r=Ne(e),n=Ca(e,t),i=Ta(e,t);if(!(n==null||i==null))return r==="horizontal"?$b(e,"xAxis",n):$b(e,"yAxis",i)},A8=C([N8,_3,O8],QW),C8=(e,t,r)=>{var n,i,a=Fl(e,t);if(a==null)return 0;var o=Ca(e,t),l=Ta(e,t);if(o==null||l==null)return 0;var u=Ne(e),c=LN(e),{maxBarSize:d}=a,f=Oe(d)?c:d,h,m;return u==="horizontal"?(h=Sn(e,"xAxis",o,r),m=jn(e,"xAxis",o,r)):(h=Sn(e,"yAxis",l,r),m=jn(e,"yAxis",l,r)),(n=(i=So(h,m,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},HO=(e,t,r)=>{var n=Ne(e),i=Ca(e,t),a=Ta(e,t);if(!(i==null||a==null)){var o,l;return n==="horizontal"?(o=Sn(e,"xAxis",i,r),l=jn(e,"xAxis",i,r)):(o=Sn(e,"yAxis",a,r),l=jn(e,"yAxis",a,r)),So(o,l)}},T8=C([A8,LN,b3,RN,C8,HO,P8],rK),I8=(e,t,r)=>{var n=Ca(e,t);if(n!=null)return Sn(e,"xAxis",n,r)},M8=(e,t,r)=>{var n=Ta(e,t);if(n!=null)return Sn(e,"yAxis",n,r)},D8=(e,t,r)=>{var n=Ca(e,t);if(n!=null)return jn(e,"xAxis",n,r)},L8=(e,t,r)=>{var n=Ta(e,t);if(n!=null)return jn(e,"yAxis",n,r)},R8=C([T8,Fl],iK),$8=C([E8,Fl],nK),z8=C([Nt,hg,I8,M8,D8,L8,R8,Ne,h3,HO,$8,Fl,k8],(e,t,r,n,i,a,o,l,u,c,d,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:y}=u;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:x}=f,g;if(x!=null&&x.length>0?g=x:g=m==null?void 0:m.slice(v,y+1),g!=null)return hH({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:v})}}),F8=["index"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(null,arguments)}function B8(e,t){if(e==null)return{};var r,n,i=U8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function U8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VO=p.createContext(void 0),W8=e=>{var t=p.useContext(VO);if(t!=null)return t.stackId;if(e!=null)return PL(e)},K8=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),H8=e=>{var t=p.useContext(VO);if(t!=null){var{stackId:r}=t;return"url(#".concat(K8(r,e),")")}},qO=e=>{var{index:t}=e,r=B8(e,F8),n=H8(t);return p.createElement(St,Lm({className:"recharts-bar-stack-layer",clipPath:n},r))},V8=["onMouseEnter","onMouseLeave","onClick"],q8=["value","background","tooltipPosition"],G8=["id"],Y8=["onMouseEnter","onClick","onMouseLeave"];function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(null,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return(t=Q8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pd(e,t){if(e==null)return{};var r,n,i=J8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function J8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eH=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ro(r,t),payload:e}]},tH=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:void 0,getPosition:Na,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Ro(a,t),hide:o,type:u,color:i,unit:l,graphicalItemId:c}};return p.createElement(ky,{tooltipEntrySettings:d})});function rH(e){var t=Y(Li),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=a,c=pd(a,V8),d=jy(o,n,a.id),f=Sy(l),h=Py(u,n,a.id);if(!i||r==null)return null;var m=Lo(i);return p.createElement(Jt,{zIndex:aK(i,it.barBackground)},r.map((v,y)=>{var{value:x,background:g,tooltipPosition:w}=v,b=pd(v,q8);if(!g)return null;var _=d(v,y),S=f(v,y),j=h(v,y),P=Vt(Vt(Vt(Vt(Vt({option:i,isActive:String(y)===t},b),{},{fill:"#eee"},g),m),Kd(c,v,y)),{},{onMouseEnter:_,onMouseLeave:S,onClick:j,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return p.createElement(hd,Xn({key:"background-bar-".concat(y)},P))}))}function nH(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Vt(Vt({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return p.createElement(xy,{value:t?i:void 0},r)}function iH(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,l=Y(Li),u=Y(YE),c=r&&String(a)===l&&(u==null||o===u),d=c?r:t;return c?p.createElement(Jt,{zIndex:it.activeBar},p.createElement(qO,{index:a},p.createElement(hd,Xn({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:o})))):p.createElement(hd,Xn({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:o}))}function aH(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return p.createElement(hd,Xn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function oH(e){var t,{data:r,props:n}=e,i=(t=wr(n))!==null&&t!==void 0?t:{},{id:a}=i,o=pd(i,G8),{shape:l,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=pd(n,Y8),v=jy(d,u,a),y=Sy(h),x=Py(f,u,a);return r?p.createElement(p.Fragment,null,r.map((g,w)=>p.createElement(qO,Xn({index:w,key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(w),className:"recharts-bar-rectangle"},Kd(m,g,w),{onMouseEnter:v(g,w),onMouseLeave:y(g,w),onClick:x(g,w)}),c?p.createElement(iH,{shape:l,activeBar:c,baseProps:o,entry:g,index:w,dataKey:u}):p.createElement(aH,{shape:l,baseProps:o,entry:g,index:w,dataKey:u})))):null}function sH(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,h=Pl(t,"recharts-bar-"),[m,v]=p.useState(!1),y=!m,x=p.useCallback(()=>{typeof c=="function"&&c(),v(!1)},[c]),g=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(nH,{showLabels:y,rects:n},p.createElement(Sl,{animationId:h,begin:o,duration:l,isActive:a,easing:u,onAnimationEnd:x,onAnimationStart:g,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((_,S)=>{var j=f&&f[S];if(j)return Vt(Vt({},_),{},{x:De(j.x,_.x,w),y:De(j.y,_.y,w),width:De(j.width,_.width,w),height:De(j.height,_.height,w)});if(i==="horizontal"){var P=De(0,_.height,w),k=De(_.stackedBarStart,_.y,w);return Vt(Vt({},_),{},{y:k,height:P})}var E=De(0,_.width,w),N=De(_.stackedBarStart,_.x,w);return Vt(Vt({},_),{},{width:E,x:N})});return w>0&&(r.current=b??null),b==null?null:p.createElement(St,null,p.createElement(oH,{props:t,data:b}))}),p.createElement(wy,{label:t.label}),t.children)}function lH(e){var t=p.useRef(null);return p.createElement(sH,{previousRectanglesRef:t,props:e})}var GO=0,uH=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:He(e,t)}};class cH extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:l,background:u,id:c}=this.props;if(t||r==null)return null;var d=_e("recharts-bar",i),f=c;return p.createElement(St,{className:d,id:c},l&&p.createElement("defs",null,p.createElement(My,{clipPathId:f,xAxisId:a,yAxisId:o})),p.createElement(St,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(rH,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),p.createElement(lH,this.props)))}}var dH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:GO,xAxisId:0,yAxisId:0,zIndex:it.bar};function fH(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=Bf(t,r),h=Ea(),m=ft(),v=NO(e.children,Rl),y=Y(w=>z8(w,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var x,g=y==null?void 0:y[0];return g==null||g.height==null||g.width==null?x=0:x=h==="vertical"?g.height/2:g.width/2,p.createElement(Iy,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:uH,errorBarOffset:x},p.createElement(cH,Xn({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d})))}function hH(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:v,dataStartIndex:y}=e,x=t==="horizontal"?l:o,g=d?x.scale.domain():null,w=kL({numericAxis:x}),b=x.scale.map(w);return f.map((_,S)=>{var j,P,k,E,N,T;if(d){var O=d[S+y];if(O==null)return null;j=wL(O,g)}else j=He(_,r),Array.isArray(j)||(j=[w,j]);var W=_8(n,GO)(j[1],S);if(t==="horizontal"){var U,K=l.scale.map(j[0]),G=l.scale.map(j[1]);if(K==null||G==null)return null;P=q0({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:_,index:S}),k=(U=G??K)!==null&&U!==void 0?U:void 0,E=i.size;var X=K-G;if(N=wn(X)?0:X,T={x:P,y:h.top,width:E,height:h.height},Math.abs(W)>0&&Math.abs(N)<Math.abs(W)){var A=rr(N||W)*(Math.abs(W)-Math.abs(N));k-=A,N+=A}}else{var $=o.scale.map(j[0]),F=o.scale.map(j[1]);if($==null||F==null)return null;if(P=$,k=q0({axis:l,ticks:c,bandSize:a,offset:i.offset,entry:_,index:S}),E=F-$,N=i.size,T={x:h.left,y:k,width:h.width,height:N},Math.abs(W)>0&&Math.abs(E)<Math.abs(W)){var Q=rr(E||W)*(Math.abs(W)-Math.abs(E));E+=Q}}if(P==null||k==null||E==null||N==null)return null;var J=Vt(Vt({},_),{},{stackedBarStart:b,x:P,y:k,width:E,height:N,value:d?j:j[1],payload:_,background:T,tooltipPosition:{x:P+E/2,y:k+N/2},parentViewBox:v},m&&m[S]&&m[S].props);return J}).filter(Boolean)}function pH(e){var t=kt(e,dH),r=W8(t.stackId),n=ft();return p.createElement(Ey,{id:t.id,type:"bar"},i=>p.createElement(p.Fragment,null,p.createElement(Ny,{legendPayload:eH(t)}),p.createElement(tH,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),p.createElement(Oy,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(Jt,{zIndex:t.zIndex},p.createElement(fH,Xn({},t,{id:i})))))}var ra=p.memo(pH,zl);ra.displayName="Bar";var mH=["option","isActive"];function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(null,arguments)}function vH(e,t){if(e==null)return{};var r,n,i=gH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yH(e){var{option:t,isActive:r}=e,n=vH(e,mH);return typeof t=="string"?p.createElement(ud,As({option:p.createElement(Gv,As({type:t},n)),isActive:r,shapeType:"symbols"},n)):p.createElement(ud,As({option:t,isActive:r,shapeType:"symbols"},n))}var xH=(e,t,r,n,i,a,o)=>Sn(e,"xAxis",t,o),wH=(e,t,r,n,i,a,o)=>jn(e,"xAxis",t,o),bH=(e,t,r,n,i,a,o)=>Sn(e,"yAxis",r,o),_H=(e,t,r,n,i,a,o)=>jn(e,"yAxis",r,o),jH=(e,t,r,n)=>EB(e,"zAxis",n,!1),SH=(e,t,r,n,i)=>i,PH=(e,t,r,n,i,a)=>a,kH=(e,t,r,n,i,a,o)=>xf(e,void 0,void 0,o),NH=C([Cl,SH],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),EH=C([kH,xH,wH,bH,_H,jH,NH,PH],(e,t,r,n,i,a,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=e;if(o!=null){var f;if((o==null?void 0:o.data)!=null&&o.data.length>0?f=o.data:f=u==null?void 0:u.slice(c,d+1),!(f==null||t==null||n==null||r==null||i==null||(r==null?void 0:r.length)===0||(i==null?void 0:i.length)===0))return UH({displayedData:f,xAxis:t,yAxis:n,zAxis:a,scatterSettings:o,xAxisTicks:r,yAxisTicks:i,cells:l})}}),OH=["id"],AH=["onMouseEnter","onClick","onMouseLeave"],CH=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Rm(e,t){if(e==null)return{};var r,n,i=TH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ja.apply(null,arguments)}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LH=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ro(r,t),payload:e}]},RH=p.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r==null?void 0:r.map(f=>f.tooltipPayload),getPosition:f=>{var h;return r==null||(h=r[Number(f)])===null||h===void 0?void 0:h.tooltipPosition},settings:{stroke:n,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:Ro(o,t),hide:l,type:u,color:a,unit:"",graphicalItemId:c}};return p.createElement(ky,{tooltipEntrySettings:d})});function $H(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:a}=r;if(!n)return null;var o=wr(r),l=Lo(n),u,c;if(i==="joint")u=t.map(x=>{var g,w;return{x:(g=x.cx)!==null&&g!==void 0?g:null,y:(w=x.cy)!==null&&w!==void 0?w:null}});else if(i==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=mD(t),v=x=>h*x+m;u=[{x:d,y:v(d)},{x:f,y:v(f)}]}var y=ar(ar(ar({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:u});return p.isValidElement(n)?c=p.cloneElement(n,y):typeof n=="function"?c=n(y):c=p.createElement(yg,ja({},y,{type:a})),p.createElement(St,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function zH(e){var{showLabels:t,points:r,children:n}=e,i=$o(),a=p.useMemo(()=>r==null?void 0:r.map(o=>{var l,u,c={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return ar(ar({},c),{},{value:void 0,payload:o.payload,viewBox:c,parentViewBox:i,fill:void 0})}),[i,r]);return p.createElement(xy,{value:t?a:void 0},n)}function FH(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:a}=r,{id:o}=r,l=Rm(r,OH),u=Y(Li),{onMouseEnter:c,onClick:d,onMouseLeave:f}=r,h=Rm(r,AH),m=jy(c,a,o),v=Sy(f),y=Py(d,a,o);if(!ND(t))return null;var x=wr(l);return p.createElement(p.Fragment,null,p.createElement($H,{points:t,props:l}),t.map((g,w)=>{var b=i!=null&&i!==!1,_=b&&u===String(w),S=b&&_?i:n,j=ar(ar(ar({},x),g),{},{index:w,[hk]:String(o)});return p.createElement(Jt,{key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(w),zIndex:_?it.activeDot:void 0},p.createElement(St,ja({className:"recharts-scatter-symbol"},Kd(h,g,w),{onMouseEnter:m(g,w),onMouseLeave:v(g,w),onClick:y(g,w)}),p.createElement(yH,ja({option:S,isActive:_},j))))}))}function BH(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l}=r,u=t.current,c=Pl(r,"recharts-scatter-"),[d,f]=p.useState(!1),h=p.useCallback(()=>{f(!1)},[]),m=p.useCallback(()=>{f(!0)},[]),v=!d;return p.createElement(zH,{showLabels:v,points:n},r.children,p.createElement(Sl,{animationId:c,begin:a,duration:o,isActive:i,easing:l,onAnimationEnd:h,onAnimationStart:m,key:c},y=>{var x=y===1?n:n==null?void 0:n.map((g,w)=>{var b=u&&u[w];return b?ar(ar({},g),{},{cx:g.cx==null?void 0:De(b.cx,g.cx,y),cy:g.cy==null?void 0:De(b.cy,g.cy,y),size:De(b.size,g.size,y)}):ar(ar({},g),{},{size:De(0,g.size,y)})});return y>0&&(t.current=x),p.createElement(St,null,p.createElement(FH,{points:x,allOtherScatterProps:r,showLabels:v}))}),p.createElement(wy,{label:r.label}))}function UH(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:a,xAxisTicks:o,yAxisTicks:l,cells:u}=e,c=Oe(r.dataKey)?a.dataKey:r.dataKey,d=Oe(n.dataKey)?a.dataKey:n.dataKey,f=i&&i.dataKey,h=i?i.range:GN.range,m=h&&h[0],v=r.scale.bandwidth?r.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((x,g)=>{var w=He(x,c),b=He(x,d),_=!Oe(f)&&He(x,f)||"-",S=[{name:Oe(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:x,dataKey:c,type:a.tooltipType},{name:Oe(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:b,payload:x,dataKey:d,type:a.tooltipType}];_!=="-"&&i!=null&&S.push({name:i.name||i.dataKey,unit:i.unit||"",value:_,payload:x,dataKey:f,type:a.tooltipType});var j=Dc({axis:r,ticks:o,bandSize:v,entry:x,index:g,dataKey:c}),P=Dc({axis:n,ticks:l,bandSize:y,entry:x,index:g,dataKey:d}),k=_!=="-"&&i!=null?i.scale.map(_):m,E=k==null?0:Math.sqrt(Math.max(k,0)/Math.PI);return ar(ar({},x),{},{cx:j,cy:P,x:j==null?void 0:j-E,y:P==null?void 0:P-E,width:2*E,height:2*E,size:k,node:{x:w,y:b,z:_},tooltipPayload:S,tooltipPosition:{x:j,y:P},payload:x},u&&u[g]&&u[g].props)})}var WH=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:He(e,t)});function KH(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:a,yAxisId:o,id:l}=e,u=p.useRef(null);if(t)return null;var c=_e("recharts-scatter",n),d=l;return p.createElement(Jt,{zIndex:e.zIndex},p.createElement(St,{className:c,clipPath:i?"url(#clipPath-".concat(d,")"):void 0,id:l},i&&p.createElement("defs",null,p.createElement(My,{clipPathId:d,xAxisId:a,yAxisId:o})),p.createElement(Iy,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:WH,errorBarOffset:0},p.createElement(St,{key:"recharts-scatter-symbols"},p.createElement(BH,{props:e,previousPointsRef:u})))))}var YO={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:it.scatter};function HH(e){var t=kt(e,YO),{animationBegin:r,animationDuration:n,animationEasing:i,hide:a,isAnimationActive:o,legendType:l,lineJointType:u,lineType:c,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,v=Rm(t,CH),{needClip:y}=Bf(f,h),x=p.useMemo(()=>NO(e.children,Rl),[e.children]),g=ft(),w=Y(b=>EH(b,f,h,m,e.id,x,g));return y==null||w==null?null:p.createElement(p.Fragment,null,p.createElement(RH,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),p.createElement(KH,ja({},v,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:c,lineJointType:u,legendType:l,shape:d,hide:a,isAnimationActive:o,animationBegin:r,animationDuration:n,animationEasing:i,points:w,needClip:y})))}function VH(e){var t=kt(e,YO),r=ft();return p.createElement(Ey,{id:t.id,type:"scatter"},n=>p.createElement(p.Fragment,null,p.createElement(Ny,{legendPayload:LH(t)}),p.createElement(Oy,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),p.createElement(HH,ja({},t,{id:n}))))}var Hu=p.memo(VH,zl);Hu.displayName="Scatter";var qH=["domain","range"],GH=["domain","range"];function H_(e,t){if(e==null)return{};var r,n,i=YH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function V_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function XO(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=H_(e,qH),{domain:a,range:o}=t,l=H_(t,GH);return!V_(r,a)||!V_(n,o)?!1:zl(i,l)}var XH=["type"],QH=["dangerouslySetInnerHTML","ticks","scale"],ZH=["id","scale"];function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(null,arguments)}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){JH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JH(e,t,r){return(t=eV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zm(e,t){if(e==null)return{};var r,n,i=rV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nV(e){var t=et(),r=p.useRef(null),n=jk(),{type:i}=e,a=zm(e,XH),o=_f(n,"xAxis",i),l=p.useMemo(()=>{if(o!=null)return G_(G_({},a),{},{type:o})},[a,o]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(DW(l)):r.current!==l&&t(LW({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(RW(r.current)),r.current=null)},[t]),null}var iV=e=>{var{xAxisId:t,className:r}=e,n=Y(hg),i=ft(),a="xAxis",o=Y(g=>EE(g,a,t,i)),l=Y(g=>SE(g,t)),u=Y(g=>_B(g,t)),c=Y(g=>VN(g,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=zm(e,QH),{id:v,scale:y}=c,x=zm(c,ZH);return p.createElement(Ty,$m({},m,x,{x:u.x,y:u.y,width:l.width,height:l.height,className:_e("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},aV={allowDataOverflow:xt.allowDataOverflow,allowDecimals:xt.allowDecimals,allowDuplicatedCategory:xt.allowDuplicatedCategory,angle:xt.angle,axisLine:$n.axisLine,height:xt.height,hide:!1,includeHidden:xt.includeHidden,interval:xt.interval,label:!1,minTickGap:xt.minTickGap,mirror:xt.mirror,orientation:xt.orientation,padding:xt.padding,reversed:xt.reversed,scale:xt.scale,tick:xt.tick,tickCount:xt.tickCount,tickLine:$n.tickLine,tickSize:$n.tickSize,type:xt.type,xAxisId:0},oV=e=>{var t=kt(e,aV);return p.createElement(p.Fragment,null,p.createElement(nV,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(iV,t))},Cr=p.memo(oV,XO);Cr.displayName="XAxis";var sV=["type"],lV=["dangerouslySetInnerHTML","ticks","scale"],uV=["id","scale"];function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(null,arguments)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){cV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cV(e,t,r){return(t=dV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bm(e,t){if(e==null)return{};var r,n,i=hV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pV(e){var t=et(),r=p.useRef(null),n=jk(),{type:i}=e,a=Bm(e,sV),o=_f(n,"yAxis",i),l=p.useMemo(()=>{if(o!=null)return X_(X_({},a),{},{type:o})},[o,a]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t($W(l)):r.current!==l&&t(zW({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(FW(r.current)),r.current=null)},[t]),null}function mV(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=p.useRef(null),o=p.useRef(null),l=Y(hg),u=ft(),c=et(),d="yAxis",f=Y(j=>PE(j,t)),h=Y(j=>SB(j,t)),m=Y(j=>EE(j,d,t,u)),v=Y(j=>qN(j,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||yy(i)||p.isValidElement(i)||v==null)){var j=a.current;if(j){var P=j.getCalculatedWidth();Math.round(f.width)!==Math.round(P)&&c(BW({id:t,width:P}))}}},[m,f,c,i,t,n,v]),f==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:g}=e,w=Bm(e,lV),{id:b,scale:_}=v,S=Bm(v,uV);return p.createElement(Ty,Fm({},w,S,{ref:a,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:_e("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))}var vV={allowDataOverflow:wt.allowDataOverflow,allowDecimals:wt.allowDecimals,allowDuplicatedCategory:wt.allowDuplicatedCategory,angle:wt.angle,axisLine:$n.axisLine,hide:!1,includeHidden:wt.includeHidden,interval:wt.interval,label:!1,minTickGap:wt.minTickGap,mirror:wt.mirror,orientation:wt.orientation,padding:wt.padding,reversed:wt.reversed,scale:wt.scale,tick:wt.tick,tickCount:wt.tickCount,tickLine:$n.tickLine,tickSize:$n.tickSize,type:wt.type,width:wt.width,yAxisId:0},gV=e=>{var t=kt(e,vV);return p.createElement(p.Fragment,null,p.createElement(pV,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(mV,t))},Tr=p.memo(gV,XO);Tr.displayName="YAxis";var yV=(e,t)=>t,Ly=C([yV,Ne,KN,At,HE,oi,FU,Nt],qU),Ry=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},QO=Rr("mouseClick"),ZO=wl();ZO.startListening({actionCreator:QO,effect:(e,t)=>{var r=e.payload,n=Ly(t.getState(),Ry(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(zB({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Um=Rr("mouseMove"),JO=wl(),_u=null;JO.startListening({actionCreator:Um,effect:(e,t)=>{var r=e.payload;_u!==null&&cancelAnimationFrame(_u);var n=Ry(r);_u=requestAnimationFrame(()=>{var i=t.getState(),a=oy(i,i.tooltip.settings.shared);if(a==="axis"){var o=Ly(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(LE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(DE())}_u=null})}});function xV(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Q_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},eA=ur({name:"rootProps",initialState:Q_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Q_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),wV=eA.reducer,{updateOptions:bV}=eA.actions,_V=null,jV={updatePolarOptions:(e,t)=>t.payload},tA=ur({name:"polarOptions",initialState:_V,reducers:jV}),{updatePolarOptions:Wq}=tA.actions,SV=tA.reducer,rA=Rr("keyDown"),nA=Rr("focus"),$y=wl();$y.startListening({actionCreator:rA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=sy(i,qo(r),Il(r),Dl(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=oi(r);if(a==="Enter"){var c=ad(r,"axis","hover",String(i.index));t.dispatch(Am({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=OB(r),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=l+h*f;if(!(u==null||m>=u.length||m<0)){var v=ad(r,"axis","hover",String(m));t.dispatch(Am({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});$y.startListening({actionCreator:nA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=ad(r,"axis","hover",String(a));t.dispatch(Am({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var kr=Rr("externalEvent"),iA=wl(),Wh=new Map;iA.startListening({actionCreator:kr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Wh.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:SU(l),activeDataKey:YE(l),activeIndex:Li(l),activeLabel:GE(l),activeTooltipIndex:Li(l),isTooltipActive:PU(l)};r(u,n)}finally{Wh.delete(i)}});Wh.set(i,o)}}});var PV=C([Ho],e=>e.tooltipItemPayloads),kV=C([PV,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),aA=Rr("touchMove"),oA=wl();oA.startListening({actionCreator:aA,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=oy(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=Ly(n,Ry({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(LE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(IL),f=(l=c.getAttribute(hk))!==null&&l!==void 0?l:void 0,h=Vo(n).find(y=>y.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,v=kV(n,d,f);t.dispatch(ME({activeDataKey:m,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var NV=DP({brush:sK,cartesianAxis:UW,chartData:j4,errorBars:g6,graphicalItems:wW,layout:mL,legend:wR,options:y4,polarAxis:H5,polarOptions:SV,referenceElements:mK,rootProps:wV,tooltip:FB,zIndex:s4}),EV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return F2({reducer:NV,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([ZO.middleware,JO.middleware,$y.middleware,iA.middleware,oA.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(XP({type:"raf"}))},devTools:{serialize:{replacer:xV},name:"recharts-".concat(r)}})};function OV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=ft(),a=p.useRef(null);if(i)return r;a.current==null&&(a.current=EV(t,n));var o=ig;return p.createElement(X6,{context:o,store:a.current},r)}function AV(e){var{layout:t,margin:r}=e,n=et(),i=ft();return p.useEffect(()=>{i||(n(fL(t)),n(dL(r)))},[n,i,t,r]),null}var CV=p.memo(AV,zl);function TV(e){var t=et();return p.useEffect(()=>{t(bV(e))},[t,e]),null}function Z_(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),i=et();return p.useLayoutEffect(()=>(n.current&&i(a4({zIndex:t,element:n.current,isPanorama:r})),()=>{i(o4({zIndex:t,isPanorama:r}))}),[i,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function J_(e){var{children:t,isPanorama:r}=e,n=Y(YU);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return p.createElement(p.Fragment,null,i.map(o=>p.createElement(Z_,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>p.createElement(Z_,{key:o,zIndex:o,isPanorama:r})))}var IV=["children"];function MV(e,t){if(e==null)return{};var r,n,i=DV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(null,arguments)}var LV={width:"100%",height:"100%",display:"block"},RV=p.forwardRef((e,t)=>{var r=bk(),n=_k(),i=Tk();if(!bn(r)||!bn(n))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),p.createElement(L1,md({},o,{title:l,desc:u,role:d,tabIndex:c,width:r,height:n,style:LV,ref:t}),a)}),$V=e=>{var{children:t}=e,r=Y(lf);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return p.createElement(L1,{width:n,height:i,x:o,y:a},t)},ej=p.forwardRef((e,t)=>{var{children:r}=e,n=MV(e,IV),i=ft();return i?p.createElement($V,null,p.createElement(J_,{isPanorama:!0},r)):p.createElement(RV,md({ref:t},n),p.createElement(J_,{isPanorama:!1},r))});function zV(){var e=et(),[t,r]=p.useState(null),n=Y(TL);return p.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;se(a)&&a!==n&&e(pL(a))}},[t,e,n]),r}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=UV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(null,arguments)}var KV=()=>(T4(),null);function vd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var HV=p.forwardRef((e,t)=>{var r,n,i=p.useRef(null),[a,o]=p.useState({containerWidth:vd((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:vd((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((c,d)=>{o(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),u=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();l(d,f);var h=v=>{var y=v[0];if(y!=null){var{width:x,height:g}=y.contentRect;l(x,g)}},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,l]);return p.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(_l,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",Ii({ref:u},e)))}),VV=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=p.useState({containerWidth:vd(r),containerHeight:vd(n)}),o=p.useCallback((u,c)=>{a(d=>{var f=Math.round(u),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();o(c,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(_l,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",Ii({ref:l},e)))}),qV=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(_l,{width:r,height:n}),p.createElement("div",Ii({ref:t},e)))}),GV=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?p.createElement(VV,Ii({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?p.createElement(qV,Ii({},e,{width:r,height:n,ref:t})):p.createElement(p.Fragment,null,p.createElement(_l,{width:r,height:n}),p.createElement("div",Ii({ref:t},e)))});function YV(e){return e?HV:GV}var XV=p.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:y,style:x,width:g,responsive:w,dispatchTouchEvents:b=!0}=e,_=p.useRef(null),S=et(),[j,P]=p.useState(null),[k,E]=p.useState(null),N=zV(),T=pg(),O=(T==null?void 0:T.width)>0?T.width:g,W=(T==null?void 0:T.height)>0?T.height:i,U=p.useCallback(L=>{N(L),typeof t=="function"&&t(L),P(L),E(L),L!=null&&(_.current=L)},[N,t,P,E]),K=p.useCallback(L=>{S(QO(L)),S(kr({handler:a,reactEvent:L}))},[S,a]),G=p.useCallback(L=>{S(Um(L)),S(kr({handler:c,reactEvent:L}))},[S,c]),X=p.useCallback(L=>{S(DE()),S(kr({handler:d,reactEvent:L}))},[S,d]),A=p.useCallback(L=>{S(Um(L)),S(kr({handler:f,reactEvent:L}))},[S,f]),$=p.useCallback(()=>{S(nA())},[S]),F=p.useCallback(L=>{S(rA(L.key))},[S]),Q=p.useCallback(L=>{S(kr({handler:o,reactEvent:L}))},[S,o]),J=p.useCallback(L=>{S(kr({handler:l,reactEvent:L}))},[S,l]),ne=p.useCallback(L=>{S(kr({handler:u,reactEvent:L}))},[S,u]),pe=p.useCallback(L=>{S(kr({handler:h,reactEvent:L}))},[S,h]),je=p.useCallback(L=>{S(kr({handler:y,reactEvent:L}))},[S,y]),be=p.useCallback(L=>{b&&S(aA(L)),S(kr({handler:v,reactEvent:L}))},[S,b,v]),me=p.useCallback(L=>{S(kr({handler:m,reactEvent:L}))},[S,m]),mt=YV(w);return p.createElement(rO.Provider,{value:j},p.createElement(TM.Provider,{value:k},p.createElement(mt,{width:O??(x==null?void 0:x.width),height:W??(x==null?void 0:x.height),className:_e("recharts-wrapper",n),style:FV({position:"relative",cursor:"default",width:O,height:W},x),onClick:K,onContextMenu:Q,onDoubleClick:J,onFocus:$,onKeyDown:F,onMouseDown:ne,onMouseEnter:G,onMouseLeave:X,onMouseMove:A,onMouseUp:pe,onTouchEnd:me,onTouchMove:be,onTouchStart:je,ref:U},p.createElement(KV,null),r)))}),QV=["width","height","responsive","children","className","style","compact","title","desc"];function ZV(e,t){if(e==null)return{};var r,n,i=JV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var e9=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:l,compact:u,title:c,desc:d}=e,f=ZV(e,QV),h=wr(f);return u?p.createElement(p.Fragment,null,p.createElement(_l,{width:r,height:n}),p.createElement(ej,{otherAttributes:h,title:c,desc:d},a)):p.createElement(XV,{className:o,style:l,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(ej,{otherAttributes:h,title:c,desc:d,ref:t},p.createElement(vK,null,a)))});function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wm.apply(null,arguments)}var t9={top:5,right:5,bottom:5,left:5},r9={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:t9,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},zy=p.forwardRef(function(t,r){var n,i=kt(t.categoricalChartProps,r9),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return p.createElement(OV,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},p.createElement(oK,{chartData:c.data}),p.createElement(CV,{layout:i.layout,margin:i.margin}),p.createElement(TV,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),p.createElement(e9,Wm({},i,{ref:r})))}),n9=["axis"],Uf=p.forwardRef((e,t)=>p.createElement(zy,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:n9,tooltipPayloadSearcher:vy,categoricalChartProps:e,ref:t})),i9=["axis","item"],no=p.forwardRef((e,t)=>p.createElement(zy,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:i9,tooltipPayloadSearcher:vy,categoricalChartProps:e,ref:t})),a9=["axis"],o9=p.forwardRef((e,t)=>p.createElement(zy,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:a9,tooltipPayloadSearcher:vy,categoricalChartProps:e,ref:t}));const s9={SAFE:"SAFE",CAUTION:"CAUTION",STOPPED:"STOPPED"},ju={SAFE:"#2e7d32",CAUTION:"#f9a825",STOPPED:"#c62828"};function Qn(e){return e?String(e).slice(0,10):""}function Su({title:e,tooltip:t}){return s.jsxs("h4",{className:"mini-grid-chart-title",title:t,children:[e,t&&s.jsx("span",{className:"mini-grid-chart-q","aria-label":t,children:"?"})]})}function l9({data:e,thresholds:t,events:r}){if(!Array.isArray(e)||e.length===0)return s.jsx("p",{className:"mini-grid-empty",children:"No equity data"});const n=(t==null?void 0:t.bust_threshold_pct)!=null&&(t==null?void 0:t.start_equity)!=null?t.start_equity*(t.bust_threshold_pct/100):null;return s.jsx(Gr,{width:"100%",height:160,children:s.jsxs(Uf,{data:e,margin:{top:6,right:6,left:0,bottom:0},children:[s.jsx(Ri,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Cr,{dataKey:"ts",tick:{fontSize:10},tickFormatter:Qn}),s.jsx(Tr,{tick:{fontSize:10},tickFormatter:i=>(i/1e3).toFixed(0)+"k",width:36}),s.jsx(Yr,{formatter:i=>[Number(i).toLocaleString(void 0,{minimumFractionDigits:2}),"Equity"],labelFormatter:Qn}),n!=null&&s.jsx(ba,{y:n,stroke:"#c62828",strokeDasharray:"2 2"}),s.jsx(zn,{type:"monotone",dataKey:"equity",stroke:"#1565c0",strokeWidth:2,dot:!1,name:"Equity"})]})})}function u9({data:e,drawdownStopPct:t}){if(!Array.isArray(e)||e.length===0)return s.jsx("p",{className:"mini-grid-empty",children:"No drawdown data"});const r=t!=null?-Math.abs(Number(t)):null;return s.jsx(Gr,{width:"100%",height:160,children:s.jsxs(Uf,{data:e,margin:{top:6,right:6,left:0,bottom:0},children:[s.jsx(Ri,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Cr,{dataKey:"ts",tick:{fontSize:10},tickFormatter:Qn}),s.jsx(Tr,{tick:{fontSize:10},tickFormatter:n=>n+"%",width:40,domain:["auto",0]}),s.jsx(Yr,{formatter:n=>[n!=null?Number(n).toFixed(2)+"%":"","Drawdown"],labelFormatter:Qn}),r!=null&&s.jsx(ba,{y:r,stroke:"#c62828",strokeDasharray:"2 2"}),s.jsx(zn,{type:"monotone",dataKey:"drawdown_pct",stroke:"#6a1b9a",strokeWidth:2,dot:!1,name:"Drawdown %"})]})})}function c9({data:e}){const t=(e==null?void 0:e[0])!=null&&"day"in e[0]?"day":"ts",r=(e==null?void 0:e[0])!=null&&"trades_count"in e[0]?"trades_count":"tradesCount";return!Array.isArray(e)||e.length===0?s.jsx("p",{className:"mini-grid-empty",children:"No trades in period"}):s.jsx(Gr,{width:"100%",height:160,children:s.jsxs(no,{data:e,margin:{top:6,right:6,left:0,bottom:0},children:[s.jsx(Ri,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Cr,{dataKey:t,tick:{fontSize:10},tickFormatter:Qn}),s.jsx(Tr,{tick:{fontSize:10},width:28}),s.jsx(Yr,{formatter:n=>[n,"Trades"],labelFormatter:Qn}),s.jsx(ra,{dataKey:r,fill:"#2e7d32",radius:[2,2,0,0],name:"Trades"})]})})}function d9({data:e}){const t=(e==null?void 0:e[0])!=null&&"day"in e[0]?"day":"ts",r=(e==null?void 0:e[0])!=null&&"gate_state"in e[0]?"gate_state":"gateState";if(!Array.isArray(e)||e.length===0)return s.jsx("p",{className:"mini-grid-empty",children:"No regime data"});const n=[];let i=null;for(let a=0;a<e.length;a++){const o=e[a][r]||e[a].gate_state||"SAFE";o!==i?(n.push({start:a,end:a,state:o}),i=o):n[n.length-1].end=a}return s.jsxs("div",{className:"mini-grid-regime-wrap",title:"Risk state by day (SAFE / CAUTION / STOPPED)",children:[s.jsx("div",{className:"mini-grid-regime-strip",children:n.map((a,o)=>s.jsx("div",{className:"mini-grid-regime-segment",style:{width:`${(a.end-a.start+1)/e.length*100}%`,backgroundColor:ju[a.state]||"#9e9e9e"},title:`${Qn(e[a.start][t]??e[a.start].ts)}  ${s9[a.state]||a.state}`},o))}),s.jsxs("div",{className:"mini-grid-regime-legend",children:[s.jsx("span",{style:{color:ju.SAFE},children:"SAFE"}),s.jsx("span",{style:{color:ju.CAUTION},children:"CAUTION"}),s.jsx("span",{style:{color:ju.STOPPED},children:"STOPPED"})]})]})}function sA({titlePrefix:e,dateRange:t={},series:r={},thresholds:n={},events:i=[],headerLine:a,explainSentence:o}){const l=r.equity??[],u=r.drawdown??[],c=r.tradesPerDay??[],d=r.regime??[],f=t.start_ts??t.startTs,h=t.end_ts??t.endTs;return s.jsxs("div",{className:"portfolio-mini-grid",children:[(a||e||o)&&s.jsxs("div",{className:"mini-grid-header",children:[a&&s.jsx("p",{className:"mini-grid-header-line",children:a}),!a&&e&&s.jsxs("h3",{className:"mini-grid-title",children:[e,(f||h)&&s.jsxs("span",{className:"mini-grid-dates",children:["  ",Qn(f),"  ",h?Qn(h):"now"]})]}),o&&s.jsx("p",{className:"mini-grid-explain",children:o})]}),s.jsxs("div",{className:"mini-grid-grid",children:[s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Equity",tooltip:"Equity over time. Dashed line = bust threshold if set."}),s.jsx(l9,{data:l,thresholds:n,events:i})]}),s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Drawdown",tooltip:"Drawdown %. Horizontal line = drawdown stop threshold; breach marks entries blocked."}),s.jsx(u9,{data:u,drawdownStopPct:n.drawdown_stop_pct})]}),s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Trades per day",tooltip:"Number of trades executed each day."}),s.jsx(c9,{data:c})]}),s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Risk regime",tooltip:"Risk state by day: SAFE (green), CAUTION (amber), STOPPED (red)."}),s.jsx(d9,{data:d})]})]})]})}function rj(e){return e?String(e).slice(0,10):""}function f9(e,t){if(!e)return"";const r=new Date(e),n=t?new Date(t):new Date,i=Math.ceil((n-r)/(1e3*60*60*24));return i<1?"< 1 day":i===1?"1 day":`${i} days`}function h9({endReason:e,status:t,distributionAmount:r}){return t==="ACTIVE"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--active",children:" Active"}):e==="PROFIT_TARGET_HIT"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--crystallized",title:"Profit target hit, gains crystallized",children:" Crystallized"}):e==="DRAWDOWN_STOP"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--stopped",title:"Drawdown stop triggered",children:" Stopped"}):e==="MANUAL_RESET"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--reset",title:"Manually reset by user",children:" Reset"}):e==="BUST"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--bust",title:"Bust threshold hit",children:" Bust"}):s.jsx("span",{className:"lifecycle-badge lifecycle-badge--ended",children:"Ended"})}function p9({episode:e,portfolioId:t,isActive:r}){const[n,i]=p.useState(!1),[a,o]=p.useState(null),[l,u]=p.useState(!1),[c,d]=p.useState(null),f=(e==null?void 0:e.episode_id)??(e==null?void 0:e.EPISODE_ID),h=(e==null?void 0:e.start_ts)??(e==null?void 0:e.START_TS)??"",m=(e==null?void 0:e.end_ts)??(e==null?void 0:e.END_TS)??null,v=(e==null?void 0:e.status)??(e==null?void 0:e.STATUS)??"",y=(e==null?void 0:e.end_reason)??(e==null?void 0:e.END_REASON)??null,x=(e==null?void 0:e.profile_name)??(e==null?void 0:e.PROFILE_NAME)??"",g=(e==null?void 0:e.total_return)??(e==null?void 0:e.total_return),w=(e==null?void 0:e.max_drawdown)??(e==null?void 0:e.MAX_DRAWDOWN),b=(e==null?void 0:e.trades_count)??(e==null?void 0:e.trades_count)??0,_=(e==null?void 0:e.win_days)??(e==null?void 0:e.win_days),S=(e==null?void 0:e.loss_days)??(e==null?void 0:e.loss_days);r&&(e==null||e.risk_status);const j=(e==null?void 0:e.distribution_amount)??(e==null?void 0:e.DISTRIBUTION_AMOUNT),P=j!=null&&Number(j)>0;p.useEffect(()=>{if(!n||!t||!f||a!=null)return;let N=!1;return u(!0),d(null),fetch(`${ae}/portfolios/${t}/episodes/${f}`).then(T=>{if(!T.ok)throw new Error(T.statusText);return T.json()}).then(T=>{N||(o(T),u(!1))}).catch(T=>{N||(d(T.message),u(!1))}),()=>{N=!0}},[n,t,f,a]);const k=f9(h,m);let E="";return y?y==="PROFIT_TARGET_HIT"?E=P?`Ran for ${k}. Profit target achieved  ${Number(j).toLocaleString(void 0,{minimumFractionDigits:2})} crystallized and withdrawn.`:`Ran for ${k}. Profit target achieved.`:y==="DRAWDOWN_STOP"?E=`Ran for ${k}. Drawdown protection triggered  entries blocked to prevent further losses.`:y==="MANUAL_RESET"?E=`Ran for ${k}. Manually reset by user.`:y==="BUST"?E=`Ran for ${k}. Bust threshold hit  portfolio liquidated.`:E=`Ran for ${k}. Ended: ${y}. Profile: ${x}.`:E=`Active episode running for ${k}. Profile: ${x}.`,s.jsxs("div",{className:`episode-card ${n?"episode-card--expanded":""} ${r?"episode-card--active":""}`,children:[s.jsxs("button",{type:"button",className:"episode-card-header",onClick:()=>i(!n),"aria-expanded":n,children:[s.jsxs("span",{className:"episode-card-id",children:["Episode ",f]}),s.jsxs("span",{className:"episode-card-dates",title:"Date range",children:[rj(h),"  ",m?rj(m):"now"]}),s.jsx(h9,{endReason:y,status:v,distributionAmount:j}),P&&s.jsxs("span",{className:"episode-card-chip episode-card-chip--paidout",title:"Profits withdrawn at end of episode",children:[" ",Number(j).toLocaleString(void 0,{minimumFractionDigits:2})]}),s.jsx("span",{className:"episode-card-profile",children:x}),s.jsx("span",{className:"episode-card-expand-icon",children:n?"":""})]}),s.jsx("p",{className:"episode-card-story",children:E}),s.jsxs("dl",{className:"episode-card-stats",children:[s.jsx("dt",{children:"Start equity"}),s.jsx("dd",{children:(e==null?void 0:e.start_equity)!=null?Number(e.start_equity).toLocaleString(void 0,{minimumFractionDigits:2}):(a==null?void 0:a.start_equity)!=null?Number(a.start_equity).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("dt",{children:"End equity"}),s.jsx("dd",{children:(a==null?void 0:a.end_equity)!=null?Number(a.end_equity).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("dt",{children:"Total return"}),s.jsx("dd",{children:g!=null?(Number(g)*100).toFixed(2)+"%":""}),s.jsx("dt",{children:"Max drawdown"}),s.jsx("dd",{children:w!=null?Number(w).toFixed(2)+"%":""}),s.jsx("dt",{children:"Trades"}),s.jsx("dd",{children:b}),s.jsx("dt",{children:"Win / Loss days"}),s.jsx("dd",{children:_!=null&&S!=null?`${_} / ${S}`:""}),s.jsx("dt",{children:"Peak open symbols"}),s.jsx("dd",{children:(a==null?void 0:a.peak_open_symbols)??(e==null?void 0:e.peak_open_symbols)??""})]}),n&&s.jsxs("div",{className:"episode-card-charts",children:[l&&s.jsx(xr,{}),c&&s.jsx("p",{className:"episode-chart-error",children:c}),a&&!l&&!c&&s.jsx(sA,{titlePrefix:`Episode #${f}`,dateRange:{start_ts:a.start_ts,end_ts:a.end_ts},series:{equity:a.equity_series??[],drawdown:a.drawdown_series??[],tradesPerDay:a.trades_per_day??[],regime:a.regime_per_day??[]},thresholds:a.thresholds??{},events:a.events??[]})]})]})}const lA=p.createContext({latestRunId:null,latestRunTs:null,loading:!0,error:null,refresh:()=>{},isStale:()=>!1});function m9({children:e}){const[t,r]=p.useState(null),[n,i]=p.useState(null),[a,o]=p.useState(!0),[l,u]=p.useState(null),c=p.useCallback(async()=>{o(!0),u(null);try{const h=await fetch(`${ae}/status`);if(!h.ok)throw new Error(h.statusText);const m=await h.json();r(m.latest_success_run_id||null),i(m.latest_success_ts||null)}catch(h){u(h.message)}finally{o(!1)}},[]);p.useEffect(()=>{c();const h=setInterval(c,5*60*1e3);return()=>clearInterval(h)},[c]);const d=p.useCallback(h=>!t||!h?!1:h!==t,[t]),f={latestRunId:t,latestRunTs:n,loading:a,error:l,refresh:c,isStale:d};return s.jsx(lA.Provider,{value:f,children:e})}function uA(){return p.useContext(lA)}function v9(e){if(e==null)return"";const t=typeof e=="string"?new Date(e):e;if(Number.isNaN(t.getTime()))return"";const r=Date.now(),n=Math.floor((r-t.getTime())/1e3);if(n<0)return"just now";if(n<60)return`${n}s ago`;const i=Math.floor(n/60);if(i<60)return`${i}m ago`;const a=Math.floor(i/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function nj(){var W,U,K,G,X;const{portfolioId:e}=k1(),{explainMode:t}=Pt(),{latestRunId:r,latestRunTs:n,isStale:i}=uA(),a=t?(W=Uv("ui.status_badge"))==null?void 0:W.long:void 0,[o,l]=p.useState([]),[u,c]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(!0),[v,y]=p.useState(null),[x,g]=p.useState(30),[w,b]=p.useState(!1),[_,S]=p.useState([]),[j,P]=p.useState(null),[k,E]=p.useState(null),[N,T]=p.useState(null),{setContext:O}=nn();if(xc(dM),p.useEffect(()=>{O(cM)},[O]),p.useEffect(()=>{let A=!1;async function $(){m(!0),y(null);try{const F=await fetch(`${ae}/portfolios`);if(!F.ok)throw new Error(F.statusText);const Q=await F.json();if(A)return;if(l(Q),e){const J=await fetch(`${ae}/portfolios/${e}`);if(!J.ok)throw new Error(J.statusText);const ne=await J.json();if(A)return;c(ne);const pe=ne.LAST_SIMULATION_RUN_ID??null,je=new URLSearchParams;pe&&je.set("run_id",pe),je.set("lookback_days",String(x));const be=`${ae}/portfolios/${e}/snapshot?${je.toString()}`,me=await fetch(be);if(!me.ok)throw new Error(me.statusText);const mt=await me.json();A||f(mt);const L=await fetch(`${ae}/portfolios/${e}/episodes`);if(L.ok){const ce=await L.json();A||S(Array.isArray(ce)?ce:[])}else A||S([]);const ee=await fetch(`${ae}/portfolios/${e}/timeline`);if(ee.ok){const ce=await ee.json();A||P(ce)}else A||P(null);const re=mt==null?void 0:mt.active_episode,R=(re==null?void 0:re.episode_id)??(re==null?void 0:re.EPISODE_ID);R&&!A?fetch(`${ae}/portfolios/${e}/episodes/${R}`).then(ce=>ce.ok?ce.json():null).then(ce=>{A||E(ce)}).catch(()=>{A||E(null)}):A||E(null),fetch(`${ae}/market-timeline/diagnostics?portfolio_id=${e}`).then(ce=>ce.ok?ce.json():null).then(ce=>{A||T(ce)}).catch(()=>{A||T(null)})}else c(null),f(null),S([]),P(null),E(null)}catch(F){A||y(F.message)}finally{A||m(!1)}}return $(),()=>{A=!0}},[e,x]),h)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:e?"Portfolio":"Portfolios"}),s.jsx(xr,{})]});if(v)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:e?"Portfolio":"Portfolios"}),e&&s.jsx("p",{children:s.jsx(ge,{to:"/portfolios",children:" Back to list"})}),s.jsx(en,{message:v})]});if(e&&u){const A=d==null?void 0:d.active_episode,$=A?`Episode ${A.episode_id??A.EPISODE_ID??""} since ${(A.start_ts??A.START_TS??"").slice(0,10)}`:null,F=d==null?void 0:d.active_episode,Q=((F==null?void 0:F.start_ts)??(F==null?void 0:F.START_TS)??"").slice(0,10),J=(F==null?void 0:F.profile_id)??(F==null?void 0:F.PROFILE_ID),ne=d==null?void 0:d.episode_risk_state,pe=(ne==null?void 0:ne.risk_label)??((U=d==null?void 0:d.risk_gate)==null?void 0:U.risk_label)??"NORMAL",je=(ne==null?void 0:ne.episode_drawdown_breached)??!1;let be="SAFE";ne!=null&&ne.entries_blocked?be="STOPPED":je||pe==="CAUTION"?be="CAUTION":pe==="DEFENSIVE"&&(be="STOPPED");let me=((K=d==null?void 0:d.risk_gate)==null?void 0:K.reason_text)??"Portfolio is within safe limits.";if(ne&&je&&be!=="STOPPED"){const ve=((G=ne.episode_drawdown_pct)==null?void 0:G.toFixed(1))??"?",I=((X=ne.episode_drawdown_stop_pct)==null?void 0:X.toFixed(1))??"?";me=`Episode drawdown at ${ve}% (threshold: ${I}%). Approaching risk limit.`}const mt=F&&Q?`Active since ${Q}  Profile ${J??""}  ${be}`:null,L=d==null?void 0:d.portfolio_simulated_through_ts,ee=d==null?void 0:d.pipeline_last_run_at,re=d==null?void 0:d.latest_available_bar_date,R=L?L.slice(0,10):null,ce=ee?new Date(ee).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,xe=R&&re?R<re:!1,vt=L||ee;return s.jsxs(s.Fragment,{children:[s.jsxs("h1",{children:["Portfolio: ",u.NAME]}),$&&s.jsx("p",{className:"portfolio-episode-header",children:$}),s.jsx("div",{className:"portfolio-freshness-header",children:xe?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"freshness-badge freshness-stale",children:"PENDING UPDATE"}),s.jsxs("span",{className:"freshness-text",children:["Simulated through ",R,"  New market date available (",re,")"]})]}):vt?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"freshness-badge freshness-current",children:"CURRENT"}),s.jsxs("span",{className:"freshness-text",children:[R&&`Simulated through ${R}`,R&&ce&&"  ",ce&&`Pipeline ran at ${ce}`]})]}):null}),s.jsx("p",{children:s.jsx(ge,{to:"/portfolios",children:" Back to list"})}),F&&s.jsxs("section",{className:"portfolio-active-period","aria-label":"Active period dashboard",children:[(mt||me)&&s.jsxs(s.Fragment,{children:[mt&&s.jsx("p",{className:"mini-grid-header-line",children:mt}),me&&s.jsx("p",{className:"mini-grid-explain",children:me})]}),k?s.jsx(sA,{titlePrefix:"",dateRange:{start_ts:F.start_ts??F.START_TS,end_ts:null},series:{equity:k.equity_series??[],drawdown:k.drawdown_series??[],tradesPerDay:k.trades_per_day??[],regime:k.regime_per_day??[]},thresholds:k.thresholds??{},events:k.events??[]}):s.jsx("p",{className:"portfolio-active-period-loading",children:"Loading analytics"})]}),s.jsx("h2",{children:"Header"}),s.jsxs("div",{className:"kpi-cards",children:[u.STARTING_CASH!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Starting cash ",s.jsx(D,{scope:"portfolio",variant:"short"},"starting_cash")]}),s.jsx("span",{className:"kpi-value",children:Number(u.STARTING_CASH).toLocaleString()})]}),u.FINAL_EQUITY!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Final equity ",s.jsx(D,{scope:"portfolio",variant:"short"},"final_equity")]}),s.jsx("span",{className:"kpi-value",children:Number(u.FINAL_EQUITY).toLocaleString()})]}),u.TOTAL_RETURN!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Total return ",s.jsx(D,{scope:"portfolio",variant:"short"},"total_return")]}),s.jsxs("span",{className:"kpi-value",children:[Number(u.TOTAL_RETURN*100).toFixed(2),"%"]})]}),u.MAX_DRAWDOWN!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Max drawdown ",s.jsx(D,{scope:"portfolio",variant:"short"},"max_drawdown")]}),s.jsxs("span",{className:"kpi-value",children:[Number(u.MAX_DRAWDOWN*100).toFixed(2),"%"]})]}),u.WIN_DAYS!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Win days ",s.jsx(D,{scope:"portfolio",variant:"short"},"win_days")]}),s.jsx("span",{className:"kpi-value",children:u.WIN_DAYS})]}),u.LOSS_DAYS!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Loss days ",s.jsx(D,{scope:"portfolio",variant:"short"},"loss_days")]}),s.jsx("span",{className:"kpi-value",children:u.LOSS_DAYS})]}),u.STATUS&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Status ",s.jsx(D,{scope:"portfolio",variant:"short"},"status")]}),s.jsx("span",{className:"kpi-value status-badge",title:a,children:u.STATUS})]})]}),d&&(()=>{var ie,M,te,Fe,cr,Ia,Ma,Uy,Wy,Ky,Hy,Vy,qy,Gy,Yy,Xy,Qy,Zy;const ve=d.cards||{},I=ve.cash_and_exposure,Z=ve.open_positions??d.positions??[];ve.closed_this_bar_positions??d.closed_this_bar_positions;const oe=Array.isArray(d.trades)?d.trades:ve.recent_trades??[],Ae=d.trades_total??ve.trades_total??0,le=d.last_trade_ts??ve.last_trade_ts??null,Ee=d.risk_gate||{},Ve=d.risk_strategy||null,tt=Ee.risk_label||"NORMAL",gt=Ee.mode||"ALLOW_ENTRIES",Ce=Ee.entries_allowed!==!1;Ee.exits_allowed;const de=Ee.reason_text??"Portfolio is within safe limits.",Se=Array.isArray(Ee.what_to_do_now)?Ee.what_to_do_now:[];return s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"Portfolio Overview"}),s.jsx("p",{className:"portfolio-overview-intro",children:"Where do we stand right now? Snapshot as of last simulation run."}),s.jsxs("p",{className:"portfolio-overview-semantics",children:["Positions are current holdings (snapshot); trades are execution history (events).",s.jsx(D,{scope:"positions",entryKey:"snapshot",variant:"short"}),s.jsx(D,{scope:"trades",entryKey:"event",variant:"short"})]}),s.jsxs("section",{className:"portfolio-cards","aria-label":"Portfolio snapshot cards",children:[s.jsxs("div",{className:"portfolio-card portfolio-card-cash-exposure",children:[s.jsxs("h3",{className:"portfolio-card-title",children:["Cash & Exposure ",s.jsx(D,{scope:"portfolio",variant:"short"},"total_equity")]}),I?s.jsxs("dl",{className:"portfolio-card-dl",children:[s.jsxs("dt",{children:["Cash ",s.jsx(D,{scope:"portfolio",variant:"short"},"cash")]}),s.jsx("dd",{children:I.cash!=null?Number(I.cash).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsxs("dt",{children:["Exposure ",s.jsx(D,{scope:"portfolio",variant:"short"},"exposure")]}),s.jsx("dd",{children:I.exposure!=null?Number(I.exposure).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsxs("dt",{children:["Total equity ",s.jsx(D,{scope:"portfolio",variant:"short"},"total_equity")]}),s.jsx("dd",{children:I.total_equity!=null?Number(I.total_equity).toLocaleString(void 0,{minimumFractionDigits:2}):""}),I.as_of_ts&&s.jsxs("dd",{className:"portfolio-card-meta",children:["As of ",String(I.as_of_ts).slice(0,19)]})]}):s.jsx("p",{className:"portfolio-card-empty",children:"No daily data yet. Run pipeline to see cash and exposure."})]}),s.jsxs("div",{id:"portfolio-positions",className:"portfolio-card portfolio-card-positions",children:[s.jsxs("h3",{className:"portfolio-card-title",children:["Open Positions ",s.jsx(D,{scope:"positions",entryKey:"symbol",variant:"short"})]}),(ve.as_of_ts!=null||ve.current_bar_index!=null)&&s.jsxs("p",{className:"portfolio-positions-as-of",title:"Snapshot date and current bar index (daily bars)",children:[ve.as_of_ts!=null&&s.jsxs("span",{children:["As of ",String(ve.as_of_ts).slice(0,10)]}),ve.current_bar_index!=null&&s.jsxs("span",{children:[ve.as_of_ts!=null?"  ":"","Bar ",ve.current_bar_index]})]}),Array.isArray(Z)&&Z.length>0?s.jsx("div",{className:"portfolio-card-table-wrap",children:s.jsxs("table",{className:"portfolio-card-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{children:["Symbol ",s.jsx(D,{scope:"positions",entryKey:"symbol",variant:"short"})]}),s.jsxs("th",{children:["Side ",s.jsx(D,{scope:"positions",entryKey:"side",variant:"short"})]}),s.jsxs("th",{children:["Quantity ",s.jsx(D,{scope:"positions",entryKey:"quantity",variant:"short"})]}),s.jsxs("th",{children:["Cost basis ",s.jsx(D,{scope:"positions",entryKey:"cost_basis",variant:"short"})]}),s.jsx("th",{title:"Bar index when this position is scheduled to close (next to close first)",children:"Hold until (bar)"}),s.jsx("th",{title:"Calendar date when this position is scheduled to close",children:"Hold until (date)"})]})}),s.jsx("tbody",{children:[...Z].sort((z,Be)=>{const rt=z.HOLD_UNTIL_INDEX??z.hold_until_index??0,on=Be.HOLD_UNTIL_INDEX??Be.hold_until_index??0;return Number(rt)-Number(on)}).slice(0,20).map((z,Be)=>s.jsxs("tr",{children:[s.jsx("td",{children:z.SYMBOL??z.symbol}),s.jsx("td",{children:z.side_label??z.side??""}),s.jsx("td",{children:z.QUANTITY??z.quantity}),s.jsx("td",{children:z.COST_BASIS!=null?Number(z.COST_BASIS??z.cost_basis).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("td",{children:z.HOLD_UNTIL_INDEX??z.hold_until_index??""}),s.jsx("td",{children:z.hold_until_ts?String(z.hold_until_ts).slice(0,10):""})]},Be))})]})}):s.jsx(dt,{title:"No open positions",action:"Run pipeline or wait for next run.",explanation:"This portfolio has no open positions right now. Positions are the assets (e.g. stocks) the strategy currently holds.",reasons:["The run has not opened any positions yet.","Data may be from a time before any trades.","The risk gate may be blocking new entries."]})]}),s.jsxs("div",{className:"portfolio-card portfolio-card-trades",children:[s.jsxs("h3",{className:"portfolio-card-title",children:["Trades (events) ",s.jsx(D,{scope:"trades",entryKey:"event",variant:"short"})]}),s.jsxs("div",{className:"portfolio-trades-lookback",children:[s.jsxs("label",{children:["Lookback",s.jsxs("select",{value:x,onChange:z=>g(Number(z.target.value)),"aria-label":"Trades lookback days",children:[s.jsx("option",{value:1,children:"1 day"}),s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:-1,children:"All"})]})]}),Ae>0&&s.jsxs("span",{className:"portfolio-trades-total",children:[Ae," total"]})]}),oe.length>0?s.jsx("div",{className:"portfolio-card-table-wrap",children:s.jsxs("table",{className:"portfolio-card-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{children:["Symbol ",s.jsx(D,{scope:"trades",entryKey:"symbol",variant:"short"})]}),s.jsxs("th",{children:["Side ",s.jsx(D,{scope:"trades",entryKey:"side",variant:"short"})]}),s.jsxs("th",{children:["Quantity ",s.jsx(D,{scope:"trades",entryKey:"quantity",variant:"short"})]}),s.jsxs("th",{children:["Price ",s.jsx(D,{scope:"trades",entryKey:"price",variant:"short"})]}),s.jsxs("th",{children:["Notional ",s.jsx(D,{scope:"trades",entryKey:"notional",variant:"short"})]})]})}),s.jsx("tbody",{children:oe.slice(0,20).map((z,Be)=>{const rt=z.PRICE??z.price,on=z.QUANTITY??z.quantity,Jy=rt!=null&&on!=null?Number(rt)*Number(on):z.NOTIONAL??z.notional;return s.jsxs("tr",{className:z.from_last_run?"portfolio-trade-from-last-run":void 0,title:z.from_last_run?"From latest run":void 0,children:[s.jsx("td",{children:z.SYMBOL??z.symbol}),s.jsx("td",{children:z.SIDE??z.side}),s.jsx("td",{children:z.QUANTITY??z.quantity}),s.jsx("td",{children:rt!=null?Number(rt).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("td",{children:Jy!=null?Number(Jy).toLocaleString(void 0,{minimumFractionDigits:2}):""})]},Be)})})]})}):Ae>0?s.jsxs("p",{className:"portfolio-trades-no-range",children:["No trades in this range. Last trade: ",le!=null?String(le).slice(0,19):""]}):s.jsx(dt,{title:"No trades",action:"Run pipeline or wait for next run.",explanation:"Trades are execution history (events). None have been recorded for this portfolio yet.",reasons:["The run may not have executed any trades yet.","Data may be from before the first trade.","Score or threshold filters may have excluded all signals.","The risk gate may be blocking new entries."]})]}),s.jsxs("div",{className:"portfolio-card portfolio-card-risk-gate",children:[s.jsxs("h3",{className:"portfolio-card-title risk-gate-headline",title:t?((ie=fe("risk_gate","mode"))==null?void 0:ie.short)??"":void 0,children:["Risk Gate:"," ",s.jsxs("span",{className:"risk-gate-mode risk-gate-mode--current",children:[tt==="NORMAL"&&" Normal",tt==="CAUTION"&&" Caution",tt==="DEFENSIVE"&&" Defensive",tt!=="NORMAL"&&tt!=="CAUTION"&&tt!=="DEFENSIVE"&&" Normal"]}),t&&s.jsx(D,{scope:"risk_gate",entryKey:"mode",variant:"short"})]}),Ve&&s.jsxs("div",{className:"risk-strategy-block",children:[s.jsx("p",{className:"risk-strategy-summary",children:Ve.summary}),Array.isArray(Ve.rules)&&Ve.rules.length>0&&s.jsx("div",{className:"risk-strategy-rules",role:"list",children:Ve.rules.map(z=>s.jsxs("div",{className:"risk-strategy-rule",role:"listitem",children:[s.jsx("span",{className:"risk-strategy-rule-label",title:z.tooltip??void 0,children:z.label}),s.jsx("span",{className:"risk-strategy-rule-value",children:z.value})]},z.key))}),Ve.state&&s.jsxs("div",{className:"risk-strategy-state",children:[s.jsx("span",{className:`risk-strategy-chip risk-strategy-chip--${(Ve.state.state_label||"SAFE").toLowerCase()}`,children:Ve.state.state_label??"SAFE"}),Ve.state.reason_text&&s.jsx("span",{className:"risk-strategy-reason",children:Ve.state.reason_text})]})]}),s.jsx("p",{className:"risk-gate-subtext",children:gt==="ALLOW_EXITS_ONLY"?"Exits only":"Entries allowed"}),s.jsxs("dl",{className:"portfolio-card-dl risk-gate-matrix",children:[s.jsxs("dt",{children:["Open new positions ",s.jsx(D,{scope:"risk_gate",entryKey:"entries_allowed",variant:"short"})]}),s.jsx("dd",{children:Ce?"Allowed":"Blocked"}),s.jsxs("dt",{children:["Close/reduce positions ",s.jsx(D,{scope:"risk_gate",entryKey:"exits_allowed",variant:"short"})]}),s.jsx("dd",{children:"Allowed"})]}),s.jsxs("p",{className:"risk-gate-reason",title:t?((M=fe("risk_gate","reason_text"))==null?void 0:M.short)??"":void 0,children:[de,t&&s.jsx(D,{scope:"risk_gate",entryKey:"reason_text",variant:"short"})]}),Se.length>0&&s.jsxs("div",{className:"risk-gate-what-to-do",title:t?((te=fe("risk_gate","what_to_do_now"))==null?void 0:te.short)??"":void 0,children:[s.jsx("span",{className:"risk-gate-what-to-do-label",children:"What to do now"}),t&&s.jsx(D,{scope:"risk_gate",entryKey:"what_to_do_now",variant:"short"}),s.jsx("ul",{className:"risk-gate-bullets",children:Se.map((z,Be)=>s.jsx("li",{children:z},Be))})]}),s.jsxs("div",{className:"risk-gate-actions",children:[s.jsx(ge,{to:"/suggestions",className:"risk-gate-link",children:"Open Suggestions"}),s.jsx("a",{href:"#portfolio-positions",className:"risk-gate-link",children:"View Positions"}),s.jsx("button",{type:"button",className:"risk-gate-link risk-gate-link--button",onClick:()=>b(!0),children:"How to restart episode"})]})]}),w&&s.jsx("div",{className:"risk-gate-modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"restart-modal-title",children:s.jsxs("div",{className:"risk-gate-modal",children:[s.jsx("h4",{id:"restart-modal-title",children:"How to restart a portfolio episode"}),s.jsx("p",{children:"Run the script:"}),s.jsx("code",{className:"risk-gate-modal-script",children:"MIP/SQL/scripts/restart_portfolio_episode.sql"}),s.jsxs("p",{children:["See ",s.jsx("strong",{children:"Restarting a portfolio episode"})," in the Runbook (docs/ux/73_UX_RUNBOOK.md) for full steps."]}),s.jsx("button",{type:"button",className:"risk-gate-modal-close",onClick:()=>b(!1),children:"Close"})]})}),N&&s.jsxs("div",{className:"portfolio-card portfolio-card-proposer-diagnostics",children:[s.jsx("h3",{className:"portfolio-card-title",children:"Proposer Diagnostics"}),s.jsx("p",{className:"proposer-diagnostics-subtitle",children:"Why proposals may be zero or low"}),s.jsxs("div",{className:"proposer-diagnostics-summary",children:[s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Raw Signals (latest bar)"}),s.jsx("span",{className:`proposer-stat-value ${((Fe=N.current_state)==null?void 0:Fe.candidate_count_raw)>0?"positive":"zero"}`,children:((cr=N.current_state)==null?void 0:cr.candidate_count_raw)??0})]}),s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Trusted Signals"}),s.jsx("span",{className:`proposer-stat-value ${((Ia=N.current_state)==null?void 0:Ia.candidate_count_trusted)>0?"positive":"zero"}`,children:((Ma=N.current_state)==null?void 0:Ma.candidate_count_trusted)??0})]}),s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Trusted Patterns"}),s.jsx("span",{className:`proposer-stat-value ${((Uy=N.current_state)==null?void 0:Uy.trusted_pattern_count)>0?"positive":"zero"}`,children:((Wy=N.current_state)==null?void 0:Wy.trusted_pattern_count)??0})]}),s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Rec TS = Bar TS?"}),s.jsx("span",{className:`proposer-stat-value ${(Ky=N.current_state)!=null&&Ky.rec_ts_matches_bar_ts?"positive":"warning"}`,children:(Hy=N.current_state)!=null&&Hy.rec_ts_matches_bar_ts?"Yes":"No"})]})]}),((Vy=N.proposer_events)==null?void 0:Vy.length)>0&&(()=>{var Be,rt;const z=N.proposer_events[0];return s.jsxs("div",{className:"proposer-latest-event",children:[s.jsx("h4",{children:"Latest Proposer Run"}),s.jsxs("dl",{className:"proposer-event-details",children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{className:z.status==="SUCCESS"?"positive":"neutral",children:z.status}),s.jsx("dt",{children:"Raw candidates"}),s.jsx("dd",{children:z.candidate_count_raw??0}),s.jsx("dt",{children:"Trusted candidates"}),s.jsx("dd",{children:z.candidate_count_trusted??0}),s.jsx("dt",{children:"Proposals inserted"}),s.jsx("dd",{children:z.rows_affected??0}),z.no_candidates_reason&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Reason for zero"}),s.jsx("dd",{className:"reason-code",children:z.no_candidates_reason.replace(/_/g," ")})]}),z.entries_blocked&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Entries blocked"}),s.jsx("dd",{className:"warning",children:z.stop_reason||"Yes"})]})]}),z.diagnostics&&s.jsxs("div",{className:"proposer-diagnostics-extra",children:[s.jsx("span",{className:"extra-label",children:"Bar TS:"})," ",((Be=z.diagnostics.latest_bar_ts)==null?void 0:Be.slice(0,10))??""," |",s.jsx("span",{className:"extra-label",children:" Rec TS:"})," ",((rt=z.diagnostics.latest_rec_ts)==null?void 0:rt.slice(0,10))??""]})]})})(),((qy=N.rec_freshness_by_market_type)==null?void 0:qy.length)>0&&s.jsxs("div",{className:"proposer-rec-freshness",children:[s.jsx("h4",{children:"Recommendation Freshness by Market Type"}),s.jsxs("table",{className:"proposer-freshness-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Market Type"}),s.jsx("th",{children:"Count"}),s.jsx("th",{children:"Latest TS"})]})}),s.jsx("tbody",{children:N.rec_freshness_by_market_type.map((z,Be)=>{var rt,on;return s.jsxs("tr",{children:[s.jsx("td",{children:z.MARKET_TYPE||z.market_type}),s.jsx("td",{children:z.CNT||z.cnt}),s.jsx("td",{children:((on=(rt=z.MAX_TS||z.max_ts)==null?void 0:rt.slice)==null?void 0:on.call(rt,0,10))||z.MAX_TS||z.max_ts})]},Be)})})]})]}),s.jsx("p",{className:"proposer-diagnostics-hint",children:s.jsx(ge,{to:"/market-timeline",children:"View full Market Timeline "})})]})]}),j&&(((Gy=j.per_episode)==null?void 0:Gy.length)>0||((Yy=j.cumulative_series)==null?void 0:Yy.length)>0)&&s.jsxs("section",{className:"portfolio-cumulative-performance","aria-label":"Cumulative performance",children:[s.jsx("h2",{children:"Cumulative Performance"}),s.jsx("p",{className:"cumulative-intro",children:"Your investment journey across all episodes. Click a bar to jump to that episode."}),s.jsxs("div",{className:"cumulative-kpi-row",children:[s.jsxs("div",{className:"cumulative-kpi-tile cumulative-kpi-tile--paidout",children:[s.jsx("span",{className:"cumulative-kpi-icon",children:""}),s.jsx("span",{className:"cumulative-kpi-label",children:"Total Paid Out"}),s.jsxs("span",{className:"cumulative-kpi-value",children:["",Number(j.total_paid_out_amount??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("span",{className:"cumulative-kpi-hint",children:"Profits withdrawn at episode ends"})]}),s.jsxs("div",{className:"cumulative-kpi-tile cumulative-kpi-tile--pnl",children:[s.jsx("span",{className:"cumulative-kpi-icon",children:""}),s.jsx("span",{className:"cumulative-kpi-label",children:"Total Realized P&L"}),s.jsxs("span",{className:`cumulative-kpi-value ${(j.total_realized_pnl??0)>=0?"positive":"negative"}`,children:["",Number(j.total_realized_pnl??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("span",{className:"cumulative-kpi-hint",children:"Cumulative profit/loss across episodes"})]}),s.jsxs("div",{className:"cumulative-kpi-tile cumulative-kpi-tile--episodes",children:[s.jsx("span",{className:"cumulative-kpi-icon",children:""}),s.jsx("span",{className:"cumulative-kpi-label",children:"Episodes"}),s.jsx("span",{className:"cumulative-kpi-value",children:j.episode_count??((Xy=j.per_episode)==null?void 0:Xy.length)??0}),s.jsx("span",{className:"cumulative-kpi-hint",children:"Profile generations"})]})]}),((Qy=j.cumulative_series)==null?void 0:Qy.length)>0&&s.jsxs("div",{className:"portfolio-cumulative-chart",children:[s.jsx("h4",{className:"chart-section-title",children:"Cumulative Growth Over Time"}),s.jsx(Gr,{width:"100%",height:220,children:s.jsxs(Uf,{data:j.cumulative_series.map(z=>({ts:z.ts,paid_out:z.cum_distributed_amount,realized_pnl:z.cum_realized_pnl})),margin:{top:8,right:8,left:0,bottom:4},children:[s.jsx(Ri,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Cr,{dataKey:"ts",tick:{fontSize:10},tickFormatter:z=>String(z).slice(0,10)}),s.jsx(Tr,{tick:{fontSize:10},tickFormatter:z=>Number(z).toLocaleString(void 0,{maximumFractionDigits:0}),width:48}),s.jsx(Yr,{formatter:(z,Be)=>[`${Number(z).toLocaleString(void 0,{minimumFractionDigits:2})}`,Be],labelFormatter:z=>String(z).slice(0,10)}),s.jsx(ba,{y:0,stroke:"#666",strokeDasharray:"2 2"}),s.jsx(zn,{type:"monotone",dataKey:"paid_out",stroke:"#2e7d32",strokeWidth:2,dot:!1,name:"Paid out"}),s.jsx(zn,{type:"monotone",dataKey:"realized_pnl",stroke:"#1565c0",strokeWidth:2,dot:!1,name:"Realized P&L"})]})}),s.jsxs("p",{className:"portfolio-cumulative-chart-legend",children:[s.jsx("span",{className:"legend-dot",style:{background:"#2e7d32"}})," Paid out",s.jsx("span",{className:"legend-dot",style:{background:"#1565c0"}})," Realized P&L"]})]}),((Zy=j.per_episode)==null?void 0:Zy.length)>0&&s.jsxs("div",{className:"portfolio-cumulative-bars",children:[s.jsx("h4",{className:"chart-section-title",children:"P&L by Episode"}),s.jsx(Gr,{width:"100%",height:140,children:s.jsxs(no,{data:j.per_episode.map(z=>({episode_id:z.episode_id,name:`Ep. ${z.episode_id}`,pnl:z.realized_pnl??0,lifecycle:z.lifecycle_label??(z.status==="ACTIVE"?"Active":"Ended"),status:z.status})),margin:{top:4,right:8,left:0,bottom:4},children:[s.jsx(Ri,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Cr,{dataKey:"name",tick:{fontSize:9}}),s.jsx(Tr,{tick:{fontSize:10},width:48,tickFormatter:z=>Number(z).toLocaleString(void 0,{maximumFractionDigits:0})}),s.jsx(Yr,{formatter:(z,Be,rt)=>[`${Number(z).toLocaleString(void 0,{minimumFractionDigits:2})}`,rt.payload.lifecycle],labelFormatter:z=>z}),s.jsx(ba,{y:0,stroke:"#666"}),s.jsx(ra,{dataKey:"pnl",name:"P&L",onClick:z=>{const Be=z==null?void 0:z.episode_id;if(Be){const rt=document.getElementById(`episode-card-${Be}`);rt&&rt.scrollIntoView({behavior:"smooth",block:"center"})}},cursor:"pointer",children:j.per_episode.map(z=>{const Be=z.realized_pnl??0,rt=z.status==="ACTIVE";let on=Be>=0?"#2e7d32":"#c62828";return rt&&(on="#1565c0"),s.jsx(Rl,{fill:on},z.episode_id)})})]})}),s.jsx("p",{className:"bar-chart-hint",children:"Click a bar to scroll to that episode card below."})]})]}),_.length>0&&s.jsxs("section",{className:"episode-list-section","aria-label":"Episode timeline",children:[s.jsx("h2",{children:"Episodes"}),s.jsx("p",{className:"portfolio-overview-intro",children:"Profile generations and resets. Expand a card to see equity, drawdown, trades per day, and risk regime."}),s.jsx("div",{className:"episode-list",children:_.map(z=>{const Be=z.episode_id??z.EPISODE_ID;return s.jsx("div",{id:`episode-card-${Be}`,children:s.jsx(p9,{episode:z,portfolioId:Number(e),isActive:z.status==="ACTIVE"||z.STATUS==="ACTIVE"})},Be)})})]})]})})()]})}return o.length===0?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Portfolios"}),s.jsx(dt,{title:"No portfolios yet",action:s.jsxs(s.Fragment,{children:["Run pipeline, then ",s.jsx(ge,{to:"/runs",children:"check Runs"}),"."]}),explanation:"Portfolios are created by the pipeline. Run the daily pipeline, then check Audit Viewer for runs.",reasons:["Pipeline has not run yet.","No portfolios have been created in MIP.APP.PORTFOLIO."]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Portfolio Control Tower"}),s.jsxs("p",{className:"control-tower-intro",children:["Monitor all portfolios at a glance. ",s.jsx("strong",{children:"Gate"})," = risk regime (entries allowed?). ",s.jsx("strong",{children:"Health"})," = data freshness."]}),s.jsx("div",{className:"control-tower-table-wrap",children:s.jsxs("table",{className:"control-tower-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{className:"col-id",children:"ID"}),s.jsx("th",{className:"col-gate",title:"Risk regime: SAFE = entries allowed, CAUTION = approaching threshold, STOPPED = entries blocked",children:"Gate"}),s.jsx("th",{className:"col-health",title:"Data freshness: OK = recent run, STALE = older than 24h, BROKEN = very old or failed",children:"Health"}),s.jsx("th",{className:"col-equity",title:"Latest total equity from last simulation",children:"Equity"}),s.jsx("th",{className:"col-paidout",title:"Cumulative profits withdrawn across all episodes",children:"Paid Out"}),s.jsx("th",{className:"col-episode",children:"Active Episode"}),s.jsx("th",{className:"col-status",children:"Status"})]})}),s.jsx("tbody",{children:o.map(A=>{const $=(A.GATE_STATE??A.gate_state??"SAFE").toUpperCase(),F=A.gate_tooltip??($==="STOPPED"?"Entries blocked":$==="CAUTION"?"Approaching threshold":"Entries allowed"),Q=(A.health_state??"OK").toUpperCase(),J=A.health_reason??"",ne=A.active_episode,pe=ne?`#${ne.episode_id??""} since ${(ne.start_ts??"").toString().slice(0,10)}`:"",je=A.latest_equity??A.FINAL_EQUITY??A.final_equity??0,be=A.total_paid_out??A.TOTAL_PAID_OUT??0,me=A.STATUS??A.status??"ACTIVE";return s.jsxs("tr",{className:`control-tower-row control-tower-row--gate-${$.toLowerCase()}`,children:[s.jsx("td",{className:"col-name",children:s.jsx(ge,{to:`/portfolios/${A.PORTFOLIO_ID??A.portfolio_id}`,children:A.NAME??A.name})}),s.jsx("td",{className:"col-id",children:A.PORTFOLIO_ID??A.portfolio_id}),s.jsxs("td",{className:"col-gate",children:[s.jsx("span",{className:`traffic-light traffic-light--${$.toLowerCase()}`,title:F}),s.jsx("span",{className:"traffic-label",children:$})]}),s.jsxs("td",{className:"col-health",children:[s.jsx("span",{className:`traffic-light traffic-light--${Q.toLowerCase()}`,title:J}),s.jsx("span",{className:"traffic-label",children:Q})]}),s.jsxs("td",{className:"col-equity",children:["",Number(je).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),s.jsx("td",{className:"col-paidout",children:be>0?s.jsxs("span",{className:"paidout-value",children:["",Number(be).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}):s.jsx("span",{className:"paidout-zero",children:""})}),s.jsx("td",{className:"col-episode",children:pe}),s.jsx("td",{className:"col-status",children:s.jsx("span",{className:`status-chip status-chip--${me.toLowerCase()}`,children:me})})]},A.PORTFOLIO_ID??A.portfolio_id)})})]})})]})}function Bl({status:e,showTooltip:t=!1}){var a,o,l,u,c,d;const{explainMode:r}=Pt(),n=r&&t?(a=fe("ui","status_badge"))==null?void 0:a.long:void 0,i=(o=e==null?void 0:e.toUpperCase())!=null&&o.includes("FAIL")||(l=e==null?void 0:e.toUpperCase())!=null&&l.includes("ERROR")?"status-badge--error":(u=e==null?void 0:e.toUpperCase())!=null&&u.includes("SKIP")||(c=e==null?void 0:e.toUpperCase())!=null&&c.includes("RUNNING")?"status-badge--warning":(d=e==null?void 0:e.toUpperCase())!=null&&d.includes("SUCCESS")?"status-badge--success":"";return s.jsx("span",{className:`status-badge ${i}`,title:n,children:e??""})}function ua({text:e,label:t="Copy"}){const[r,n]=p.useState(!1),i=p.useCallback(async()=>{try{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)}catch(a){console.error("Failed to copy:",a)}},[e]);return s.jsx("button",{className:"copy-button",onClick:i,title:r?"Copied!":`Copy ${t}`,children:r?" Copied":t})}function g9({filters:e,setFilters:t,onSearch:r}){const{explainMode:n}=Pt();return s.jsxs("div",{className:"run-filters",children:[s.jsxs("div",{className:"run-filters__row",children:[s.jsxs("select",{value:e.status,onChange:i=>t({...e,status:i.target.value}),className:"run-filters__select",title:n?"Filter runs by their final status":void 0,children:[s.jsx("option",{value:"",children:"All statuses"}),s.jsx("option",{value:"FAIL",children:"Failed"}),s.jsx("option",{value:"SUCCESS",children:"Success"}),s.jsx("option",{value:"SUCCESS_WITH_SKIPS",children:"Success with skips"}),s.jsx("option",{value:"RUNNING",children:"Running"})]}),s.jsx("input",{type:"date",value:e.fromDate,onChange:i=>t({...e,fromDate:i.target.value}),className:"run-filters__date",title:n?"Filter runs started after this date":void 0}),s.jsx("input",{type:"date",value:e.toDate,onChange:i=>t({...e,toDate:i.target.value}),className:"run-filters__date",title:n?"Filter runs started before this date":void 0})]}),s.jsx("button",{onClick:r,className:"run-filters__search",children:"Apply Filters"})]})}function y9({run:e,isSelected:t,onClick:r}){var a;const{explainMode:n}=Pt(),i=o=>o?new Date(o).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return s.jsxs("div",{className:`run-list-item ${t?"run-list-item--selected":""} ${e.has_errors?"run-list-item--error":""}`,onClick:r,role:"button",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),r())},title:n?"Click to view run details":void 0,children:[s.jsxs("div",{className:"run-list-item__header",children:[s.jsx(Bl,{status:e.status,showTooltip:!0}),s.jsx("span",{className:"run-list-item__time",children:i(e.started_at)})]}),s.jsxs("div",{className:"run-list-item__id",title:e.run_id,children:[(a=e.run_id)==null?void 0:a.slice(0,8),"..."]}),e.summary_hint&&s.jsx("div",{className:"run-list-item__hint",children:e.summary_hint}),e.error_count>0&&s.jsxs("div",{className:"run-list-item__errors",children:[e.error_count," error",e.error_count>1?"s":""]})]})}function x9({steps:e,selectedStep:t,onSelectStep:r}){const{explainMode:n}=Pt();return!e||e.length===0?s.jsx("p",{className:"step-timeline__empty",children:"No steps recorded."}):s.jsx("div",{className:"step-timeline",title:n?"Pipeline execution steps in order":void 0,children:e.map((i,a)=>{var c,d,f,h,m,v;const o=t===a,l=((d=(c=i.status)==null?void 0:c.toUpperCase())==null?void 0:d.includes("FAIL"))||((h=(f=i.status)==null?void 0:f.toUpperCase())==null?void 0:h.includes("ERROR")),u=(v=(m=i.status)==null?void 0:m.toUpperCase())==null?void 0:v.includes("SKIP");return s.jsxs("div",{className:`step-timeline__item ${o?"step-timeline__item--selected":""} ${l?"step-timeline__item--failed":""} ${u?"step-timeline__item--skipped":""}`,onClick:()=>r(a),role:"button",tabIndex:0,onKeyDown:y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),r(a))},children:[s.jsx("div",{className:"step-timeline__indicator",children:l?"":u?"":""}),s.jsxs("div",{className:"step-timeline__content",children:[s.jsx("div",{className:"step-timeline__name",children:i.step_name||i.event_name}),s.jsxs("div",{className:"step-timeline__meta",children:[s.jsx(Bl,{status:i.status}),i.duration_ms!=null&&s.jsxs("span",{className:"step-timeline__duration",children:[(i.duration_ms/1e3).toFixed(1),"s"]}),i.portfolio_id!=null&&s.jsxs("span",{className:"step-timeline__portfolio",children:["Portfolio ",i.portfolio_id]})]})]})]},a)})})}function w9({step:e}){var n,i,a,o;const{explainMode:t}=Pt();if(!e)return s.jsx("div",{className:"step-detail step-detail--empty",children:s.jsx("p",{children:"Select a step to view details"})});const r=((i=(n=e.status)==null?void 0:n.toUpperCase())==null?void 0:i.includes("FAIL"))||((o=(a=e.status)==null?void 0:a.toUpperCase())==null?void 0:o.includes("ERROR"));return s.jsxs("div",{className:`step-detail ${r?"step-detail--failed":""}`,children:[s.jsx("h4",{children:e.step_name||e.event_name}),s.jsxs("dl",{className:"step-detail__dl",children:[s.jsx("dt",{title:t?"Final status of this step":void 0,children:"Status"}),s.jsx("dd",{children:s.jsx(Bl,{status:e.status})}),e.duration_ms!=null&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{title:t?"Time taken to execute this step":void 0,children:"Duration"}),s.jsxs("dd",{children:[(e.duration_ms/1e3).toFixed(2),"s (",e.duration_ms,"ms)"]})]}),e.rows_affected!=null&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{title:t?"Number of database rows affected":void 0,children:"Rows Affected"}),s.jsx("dd",{children:e.rows_affected})]}),e.portfolio_id!=null&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Portfolio ID"}),s.jsx("dd",{children:e.portfolio_id})]}),e.started_at&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Started"}),s.jsx("dd",{children:e.started_at})]}),e.completed_at&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Completed"}),s.jsx("dd",{children:e.completed_at})]})]}),r&&e.error_message&&s.jsxs("div",{className:"step-detail__error",children:[s.jsx("h5",{children:"Error Details"}),s.jsxs("div",{className:"step-detail__error-message",children:[s.jsx("code",{children:e.error_message}),s.jsx(ua,{text:e.error_message,label:"Copy Error"})]}),e.error_sqlstate&&s.jsxs("div",{className:"step-detail__error-meta",children:[s.jsxs("span",{children:["SQLSTATE: ",s.jsx("code",{children:e.error_sqlstate})]}),s.jsx(ua,{text:e.error_sqlstate,label:"Copy"})]}),e.error_query_id&&s.jsxs("div",{className:"step-detail__error-meta",children:[s.jsxs("span",{children:["Query ID: ",s.jsx("code",{children:e.error_query_id})]}),s.jsx(ua,{text:e.error_query_id,label:"Copy"})]})]})]})}function b9({errors:e,debugSql:t}){const{explainMode:r}=Pt(),[n,i]=p.useState(!1),[a,o]=p.useState("all_events");return!e||e.length===0?null:s.jsxs("div",{className:"error-panel",children:[s.jsxs("h3",{className:"error-panel__title",children:["Errors (",e.length,")",s.jsx(D,{scope:"audit",entry:"error_details",variant:"short"})]}),e.map((l,u)=>s.jsxs("div",{className:"error-panel__item",children:[s.jsxs("div",{className:"error-panel__header",children:[s.jsx("span",{className:"error-panel__event",children:l.event_name}),s.jsx("span",{className:"error-panel__time",children:l.event_ts})]}),s.jsxs("div",{className:"error-panel__message",children:[s.jsx("code",{children:l.error_message}),s.jsx(ua,{text:l.error_message,label:"Copy"})]}),s.jsxs("div",{className:"error-panel__meta",children:[l.error_sqlstate&&s.jsxs("span",{title:r?"SQL error state code from Snowflake":void 0,children:["SQLSTATE: ",s.jsx("code",{children:l.error_sqlstate})]}),l.error_query_id&&s.jsxs("span",{title:r?"Snowflake query ID - use to look up in QUERY_HISTORY":void 0,children:["Query ID: ",s.jsx("code",{children:l.error_query_id}),s.jsx(ua,{text:l.error_query_id,label:"Copy"})]})]})]},u)),t&&s.jsxs("div",{className:"error-panel__debug",children:[s.jsx("button",{className:"error-panel__debug-toggle",onClick:()=>i(!n),children:n?" Hide Debug SQL":" Show Debug SQL"}),n&&s.jsxs("div",{className:"error-panel__debug-content",children:[s.jsx("div",{className:"error-panel__debug-tabs",children:Object.keys(t).map(l=>s.jsx("button",{className:`error-panel__debug-tab ${a===l?"error-panel__debug-tab--active":""}`,onClick:()=>o(l),children:l.replace(/_/g," ")},l))}),s.jsxs("div",{className:"error-panel__debug-sql",children:[s.jsx("pre",{children:t[a]}),s.jsx(ua,{text:t[a],label:"Copy SQL"})]})]})]})]})}function _9({runDetail:e}){const{explainMode:t}=Pt();if(!e)return null;const r=e.timeline||[],n=r[0],i=r[r.length-1];n==null||n.EVENT_TS,i==null||i.EVENT_TS;const a=i==null?void 0:i.STATUS,o=e.total_duration_ms;let l=null;for(const c of r){const d=c.DETAILS;if(d!=null&&d.effective_to_ts){l=d.effective_to_ts;break}}const u=new Set;for(const c of e.steps||[])c.portfolio_id&&u.add(c.portfolio_id);return s.jsxs("div",{className:"run-summary-cards",children:[s.jsxs("div",{className:"run-summary-card",title:t?"Final status of the pipeline run":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Status"}),s.jsx("div",{className:"run-summary-card__value",children:s.jsx(Bl,{status:a,showTooltip:!0})})]}),s.jsxs("div",{className:"run-summary-card",title:t?"Total time from start to finish":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Duration"}),s.jsx("div",{className:"run-summary-card__value",children:o!=null?`${(o/1e3).toFixed(1)}s`:""})]}),s.jsxs("div",{className:"run-summary-card",title:t?"Market data timestamp the pipeline processed up to":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"As-of"}),s.jsx("div",{className:"run-summary-card__value run-summary-card__value--small",children:l?new Date(l).toLocaleString():""})]}),s.jsxs("div",{className:"run-summary-card",title:t?"Number of portfolios processed":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Portfolios"}),s.jsx("div",{className:"run-summary-card__value",children:u.size||""})]}),e.error_count>0&&s.jsxs("div",{className:"run-summary-card run-summary-card--error",title:t?"Number of failed steps":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Errors"}),s.jsx("div",{className:"run-summary-card__value",children:e.error_count})]})]})}function ij(){var N,T;const{runId:e}=k1(),t=Do(),[r,n]=gl(),{explainMode:i}=Pt(),{setContext:a}=nn(),[o,l]=p.useState([]),[u,c]=p.useState(e||null),[d,f]=p.useState(null),[h,m]=p.useState(null),[v,y]=p.useState(!0),[x,g]=p.useState(!1),[w,b]=p.useState(null),[_,S]=p.useState({status:r.get("status")||"",fromDate:r.get("from")||"",toDate:r.get("to")||""});p.useEffect(()=>{a(fM)},[a]);const j=p.useCallback(async()=>{y(!0),b(null);try{const O=new URLSearchParams;O.set("limit","50"),_.status&&O.set("status",_.status),_.fromDate&&O.set("from_ts",new Date(_.fromDate).toISOString()),_.toDate&&O.set("to_ts",new Date(_.toDate).toISOString());const W=await fetch(`${ae}/runs?${O}`);if(!W.ok)throw new Error(W.statusText);const U=await W.json();l(U),!u&&U.length>0&&c(U[0].run_id)}catch(O){b(O.message)}finally{y(!1)}},[_,u]),P=p.useCallback(async O=>{if(!O){f(null);return}g(!0);try{const W=await fetch(`${ae}/runs/${encodeURIComponent(O)}`);if(!W.ok)throw new Error(W.statusText);const U=await W.json();if(f(U),m(null),U.failed_step){const K=(U.steps||[]).findIndex(G=>G.event_ts===U.failed_step.event_ts&&G.step_name===U.failed_step.step_name);K>=0&&m(K)}}catch(W){console.error("Failed to load run detail:",W)}finally{g(!1)}},[]);p.useEffect(()=>{j()},[]),p.useEffect(()=>{P(u)},[u,P]),p.useEffect(()=>{u&&u!==e&&t(`/runs/${encodeURIComponent(u)}`,{replace:!0})},[u,e,t]);const k=()=>{const O=new URLSearchParams;_.status&&O.set("status",_.status),_.fromDate&&O.set("from",_.fromDate),_.toDate&&O.set("to",_.toDate),n(O),j()},E=O=>{c(O)};return v&&o.length===0?s.jsxs("div",{className:"run-explorer",children:[s.jsx("h1",{children:"Run Explorer"}),s.jsx(xr,{})]}):w&&o.length===0?s.jsxs("div",{className:"run-explorer",children:[s.jsx("h1",{children:"Run Explorer"}),s.jsx(en,{message:w})]}):s.jsxs("div",{className:"run-explorer",children:[s.jsxs("h1",{children:["Run Explorer ",s.jsx(D,{scope:"audit",entry:"run_explorer",variant:"short"})]}),s.jsxs("div",{className:"run-explorer__layout",children:[s.jsxs("div",{className:"run-explorer__left",children:[s.jsx(g9,{filters:_,setFilters:S,onSearch:k}),s.jsx("div",{className:"run-list",children:o.length===0?s.jsx(dt,{title:"No runs found",action:"Adjust filters or run the pipeline.",explanation:"Pipeline runs appear here after SP_RUN_DAILY_PIPELINE executes.",reasons:["No runs match filters.","Pipeline has not run yet."]}):o.map(O=>s.jsx(y9,{run:O,isSelected:u===O.run_id,onClick:()=>E(O.run_id)},O.run_id))})]}),s.jsx("div",{className:"run-explorer__right",children:x?s.jsx(xr,{}):d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"run-detail-header",children:s.jsxs("h2",{title:u,children:["Run: ",u==null?void 0:u.slice(0,12),"...",s.jsx(ua,{text:u,label:"Copy ID"})]})}),s.jsx(_9,{runDetail:d}),d.run_summary&&s.jsxs("section",{className:"run-summary-narrative",children:[s.jsx("h3",{children:d.run_summary.headline}),s.jsxs("dl",{children:[s.jsx("dt",{children:"What happened"}),s.jsx("dd",{children:d.run_summary.what_happened}),s.jsx("dt",{children:"Why"}),s.jsx("dd",{children:d.run_summary.why}),s.jsx("dt",{children:"Impact"}),s.jsx("dd",{children:d.run_summary.impact}),d.run_summary.next_check&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Next check"}),s.jsx("dd",{children:d.run_summary.next_check})]})]})]}),s.jsx(b9,{errors:d.errors,debugSql:d.debug_sql}),s.jsxs("section",{className:"run-steps-section",children:[s.jsxs("h3",{children:["Step Timeline",s.jsx(D,{scope:"audit",entry:"step_timeline",variant:"short"})]}),s.jsxs("div",{className:"run-steps-layout",children:[s.jsx(x9,{steps:d.steps,selectedStep:h,onSelectStep:m}),s.jsx(w9,{step:h!=null?d.steps[h]:null})]})]}),s.jsxs("details",{className:"raw-timeline-section",children:[s.jsxs("summary",{children:["Raw Timeline (",((N=d.timeline)==null?void 0:N.length)||0," events)"]}),s.jsxs("div",{className:"raw-timeline-wrap",children:[s.jsxs("table",{className:"raw-timeline-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Event"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Duration"}),s.jsx("th",{children:"Error"})]})}),s.jsx("tbody",{children:(d.timeline||[]).slice(0,100).map((O,W)=>{var K,G,X,A;const U=((G=(K=O.STATUS)==null?void 0:K.toUpperCase())==null?void 0:G.includes("FAIL"))||((A=(X=O.STATUS)==null?void 0:X.toUpperCase())==null?void 0:A.includes("ERROR"));return s.jsxs("tr",{className:U?"raw-timeline-row--failed":"",children:[s.jsx("td",{children:O.EVENT_TS}),s.jsx("td",{children:O.EVENT_TYPE}),s.jsx("td",{children:O.EVENT_NAME}),s.jsx("td",{children:s.jsx(Bl,{status:O.STATUS})}),s.jsx("td",{children:O.DURATION_MS!=null?`${O.DURATION_MS}ms`:""}),s.jsx("td",{className:"raw-timeline-error",children:O.ERROR_MESSAGE?s.jsxs("span",{title:O.ERROR_MESSAGE,children:[O.ERROR_MESSAGE.slice(0,50),O.ERROR_MESSAGE.length>50?"...":""]}):""})]},W)})})]}),(((T=d.timeline)==null?void 0:T.length)||0)>100&&s.jsxs("p",{className:"raw-timeline-more",children:["Showing first 100 of ",d.timeline.length," events."]})]})]})]}):s.jsx("div",{className:"run-explorer__empty",children:s.jsx("p",{children:"Select a run to view details"})})})]})]})}function j9({status:e}){const t={SAFE:{className:"status-safe",icon:"",label:"Safe"},CAUTION:{className:"status-caution",icon:"",label:"Caution"},STOPPED:{className:"status-stopped",icon:"",label:"Stopped"}},r=t[e]||t.SAFE;return s.jsxs("span",{className:`status-badge ${r.className}`,children:[s.jsx("span",{className:"status-icon",children:r.icon}),r.label]})}function Pu({value:e,format:t="number",invert:r=!1}){if(e==null)return s.jsx("span",{className:"delta-indicator neutral",children:""});const n=r?e<0:e>0,i=r?e>0:e<0,a=n?"positive":i?"negative":"neutral",o=n?"":i?"":"";let l;return t==="percent"?l=`${(e*100).toFixed(2)}%`:t==="currency"?l=`$${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:l=typeof e=="number"?e.toLocaleString():e,s.jsxs("span",{className:`delta-indicator ${a}`,children:[o," ",l]})}function S9({trades:e,source:t,portfolioId:r,verificationStatus:n,briefRecordCount:i,executedLabel:a,onClose:o}){p.useEffect(()=>{const f=h=>{h.key==="Escape"&&o()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[o]);const l=a==="actions"?"Actions":"Trades",u=n==="VERIFIED",c=n==="MISMATCH",d=n==="EMPTY";return s.jsx("div",{className:"modal-backdrop",onClick:o,children:s.jsxs("div",{className:"modal-content executed-trades-modal",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h2",{children:["Executed ",l," (",e.length,")"]}),s.jsx("button",{type:"button",className:"modal-close",onClick:o,"aria-label":"Close",children:""})]}),u&&s.jsxs("div",{className:"modal-verification verified",children:[s.jsx("span",{className:"verification-icon",children:""}),s.jsxs("span",{children:["Verified: ",e.length," trade",e.length!==1?"s":""," found in PORTFOLIO_TRADES"]})]}),c&&s.jsxs("div",{className:"modal-verification mismatch",children:[s.jsx("span",{className:"verification-icon",children:""}),s.jsxs("span",{children:["Brief record shows ",i," but trade table shows ",e.length]})]}),d&&i>0&&s.jsxs("div",{className:"modal-verification unverified",children:[s.jsx("span",{className:"verification-icon",children:"?"}),s.jsxs("span",{children:["Trade history unavailable. Showing ",i," action",i!==1?"s":""," from brief record (may have been cleared by reset)."]})]}),s.jsxs("p",{className:"modal-source",children:["Source: ",t]}),s.jsx("div",{className:"modal-body",children:e.length===0?s.jsx("p",{className:"no-trades",children:d&&i>0?`The brief recorded ${i} action${i!==1?"s":""}, but trade history is unavailable (possibly cleared by portfolio reset).`:"No executed trades in this brief."}):s.jsxs("table",{className:"trades-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Symbol"}),s.jsx("th",{children:"Side"}),s.jsx("th",{children:"Qty"}),s.jsx("th",{children:"Price"}),s.jsx("th",{children:"Notional"}),!d&&s.jsx("th",{children:"Run ID"})]})}),s.jsx("tbody",{children:e.map((f,h)=>s.jsxs("tr",{children:[s.jsx("td",{children:f.trade_ts?new Date(f.trade_ts).toLocaleString():""}),s.jsx("td",{className:"trade-symbol",children:f.symbol}),s.jsx("td",{className:`trade-side ${(f.side||"").toLowerCase()}`,children:f.side}),s.jsx("td",{children:f.quantity!=null?f.quantity.toLocaleString():""}),s.jsx("td",{children:f.price!=null?`$${Number(f.price).toLocaleString()}`:""}),s.jsx("td",{children:f.notional!=null?`$${Number(f.notional).toLocaleString()}`:""}),!d&&s.jsx("td",{className:"trade-run-id",children:f.run_id?f.run_id.slice(0,8):""})]},f.trade_id||h))})]})}),s.jsx("div",{className:"modal-footer",children:s.jsx(ge,{to:`/portfolios/${r}`,className:"view-all-link",onClick:o,children:"View all trades in Portfolio "})})]})})}function P9({reason:e}){return s.jsx("span",{className:"stale-badge",title:e||"Brief is from an older pipeline run",children:"STALE"})}function k9(){return s.jsx("span",{className:"current-badge",title:"Brief is from the latest pipeline run",children:"CURRENT"})}function N9({warning:e}){return s.jsxs("div",{className:"reset-warning-banner",role:"alert",children:[s.jsx("span",{className:"warning-icon",children:""}),s.jsx("span",{className:"warning-text",children:e})]})}function E9({status:e}){return e==="VERIFIED"?s.jsx("span",{className:"verification-badge verified",title:"Count verified against PORTFOLIO_TRADES",children:""}):e==="MISMATCH"?s.jsx("span",{className:"verification-badge mismatch",title:"Brief record differs from trade table",children:""}):e==="EMPTY"||e==="UNVERIFIABLE"?s.jsx("span",{className:"verification-badge unverified",title:"Trade history unavailable",children:"?"}):null}function O9({actions:e}){return e?s.jsxs("section",{className:"brief-card portfolio-actions-card","aria-label":"Portfolio Actions",children:[s.jsx("h2",{children:"Portfolio State (Live)"}),s.jsx("p",{className:"card-subtitle",children:"Current state from portfolio tables, not brief record"}),s.jsxs("div",{className:"actions-grid",children:[s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Open Positions"}),s.jsx("span",{className:"action-value",children:e.open_positions??0})]}),s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Trades This Run"}),s.jsx("span",{className:"action-value",children:e.trades_this_run??0})]}),s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Last Trade"}),s.jsx("span",{className:"action-value",children:e.last_trade_ts?new Date(e.last_trade_ts).toLocaleString():""})]}),s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Last Simulation Run"}),s.jsx("span",{className:"action-value",children:s.jsx("code",{children:e.last_simulation_run_id?e.last_simulation_run_id.slice(0,8)+"...":""})})]})]})]}):null}function A9({brief:e,onShowTrades:t}){const{summary:r,as_of_ts:n,created_at:i,pipeline_run_id:a,is_stale:o,stale_reason:l,is_before_reset:u,reset_warning:c}=e,d=r.executed_count>0,f=r.executed_label||"trades",h=r.executed_trades_note,m=r.verification_status||"UNVERIFIABLE",v=d?`${r.executed_count} ${f==="actions"?"action":"trade"}${r.executed_count!==1?"s":""}`:h?` (${h})`:"0 trades",y=d||m==="EMPTY"&&r.brief_record_count>0;return s.jsxs("section",{className:"brief-card executive-summary","aria-label":"Executive Summary",children:[s.jsxs("div",{className:"summary-title-row",children:[s.jsx("h2",{children:"Executive Summary"}),o?s.jsx(P9,{reason:l}):s.jsx(k9,{})]}),u&&c&&s.jsx(N9,{warning:c}),s.jsxs("div",{className:"summary-header",children:[s.jsx(j9,{status:r.status}),s.jsxs("span",{className:"entries-badge",children:["Entries: ",r.entries_allowed?s.jsx("span",{className:"entries-yes",children:"Allowed"}):s.jsx("span",{className:"entries-no",children:"Blocked"})]}),s.jsxs("span",{className:"suggestions-count",children:[r.new_suggestions_today," suggestion",r.new_suggestions_today!==1?"s":""," today"]})]}),s.jsx("p",{className:"summary-explanation",children:r.explanation}),s.jsxs("div",{className:"summary-meta",children:[s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"As of (market date):"})," ",n?new Date(n).toLocaleString():""]}),s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"Generated at:"})," ",i?new Date(i).toLocaleString():""]}),s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"Run ID:"})," ",s.jsx("code",{children:a?a.length>12?`${a.slice(0,8)}...`:a:""})]}),y?s.jsxs("button",{type:"button",className:"meta-item executed-link",onClick:t,title:h||r.executed_trades_source||"Click to see details",children:[s.jsx("strong",{children:"Executed:"})," ",v,s.jsx(E9,{status:m}),h&&s.jsxs("span",{className:"executed-note",children:[" (",h,")"]})]}):s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"Executed:"})," ",v]})]})]})}function C9(e,t,r,n){const i=new URLSearchParams;t&&i.set("portfolioId",String(t)),r&&i.set("asOf",r),n&&i.set("pipelineRunId",n),e.market_type&&i.set("market_type",e.market_type),e.symbol&&e.symbol!==""&&i.set("symbol",e.symbol),e.pattern_id&&i.set("pattern_id",String(e.pattern_id)),e.horizon_bars&&i.set("horizon_bars",String(e.horizon_bars)),e.trust_label&&i.set("trust_label",e.trust_label),i.set("from","brief");const a=i.toString();return a?`/signals?${a}`:"/signals"}function T9({opportunity:e,portfolioId:t,asOfTs:r,pipelineRunId:n}){const{symbol:i,side:a,market_type:o,horizon_bars:l,interval_minutes:u,confidence:c,why:d,pattern_id:f,status:h,target_weight:m,is_proposal:v}=e,y=C9(e,t,r,n),x=i&&i!==""?i:f?`Pattern ${f}`:"",g=v&&i&&i!==""?`/market-timeline?symbol=${i}&market_type=${o}`:y,w=v?"View in Market Timeline ":"View in Signals ",b=h==="EXECUTED"?"status-executed":h==="APPROVED"?"status-approved":h==="REJECTED"?"status-rejected":"status-proposed";return s.jsxs("div",{className:`opportunity-card ${v?"is-proposal":"is-pattern"}`,children:[s.jsxs("div",{className:"opp-header",children:[s.jsxs("span",{className:"opp-symbol-title",children:[s.jsx("strong",{children:x}),"  ",a]}),v&&h&&s.jsx("span",{className:`opp-status ${b}`,children:h}),!v&&s.jsx("span",{className:`opp-confidence confidence-${(c||"low").toLowerCase()}`,children:c})]}),s.jsxs("div",{className:"opp-details",children:[s.jsx("span",{className:"opp-market",children:o}),m&&s.jsxs("span",{className:"opp-weight",children:[(m*100).toFixed(1),"% weight"]}),f&&s.jsxs("span",{className:"opp-pattern",children:["Pattern ",f]}),l&&s.jsxs("span",{className:"opp-horizon",children:[l," bar",l!==1?"s":""]})]}),s.jsx("p",{className:"opp-why",children:d}),s.jsx("div",{className:"opp-actions",children:s.jsx(ge,{to:g,className:"opp-link",children:w})})]})}function I9({opportunities:e,portfolioId:t,asOfTs:r,pipelineRunId:n}){const i=(e==null?void 0:e.filter(l=>l.is_proposal).length)||0,a=(e==null?void 0:e.filter(l=>!l.is_proposal).length)||0;if(!e||e.length===0)return s.jsxs("section",{className:"brief-card opportunities-section","aria-label":"Opportunities",children:[s.jsx("h2",{children:"Today's Proposals"}),s.jsxs("div",{className:"empty-opportunities",children:[s.jsx("p",{className:"empty-title",children:"No proposals today"}),s.jsx("p",{className:"empty-explanation",children:"Likely reasons: no new bars, no eligible signals, or risk gate blocked entries."})]})]});const o=i>0?`${i} proposal${i!==1?"s":""} generated this run`:`Showing ${a} trusted pattern${a!==1?"s":""} (no proposals yet)`;return s.jsxs("section",{className:"brief-card opportunities-section","aria-label":"Opportunities",children:[s.jsxs("h2",{children:["Today's Proposals (",e.length,")"]}),s.jsx("p",{className:"card-subtitle",children:o}),s.jsx("div",{className:"opportunities-grid",children:e.map((l,u)=>s.jsx(T9,{opportunity:l,portfolioId:t,asOfTs:r,pipelineRunId:n},l.proposal_id||l.pattern_id||u))})]})}function M9({risk:e}){var a;const{current_state:t,thresholds:r,actions:n}=e,i=!r.profile_name;return s.jsxs("section",{className:"brief-card risk-section","aria-label":"Risk & Guardrails",children:[s.jsx("h2",{children:"Risk & Guardrails"}),s.jsxs("div",{className:"risk-grid",children:[s.jsxs("div",{className:"risk-current",children:[s.jsx("h3",{children:"Current State"}),s.jsxs("dl",{className:"risk-dl",children:[s.jsx("dt",{children:"Risk Status"}),s.jsx("dd",{children:s.jsx("span",{className:`risk-status-indicator ${((a=t.risk_status)==null?void 0:a.toLowerCase())||"ok"}`,children:t.risk_status||"OK"})}),s.jsx("dt",{children:"Max Drawdown"}),s.jsx("dd",{children:t.max_drawdown_pct}),s.jsx("dt",{children:"Open Positions"}),s.jsx("dd",{children:t.open_positions??""}),s.jsx("dt",{children:"Entries Blocked"}),s.jsx("dd",{children:t.entries_blocked?"Yes":"No"})]})]}),s.jsxs("div",{className:`risk-thresholds ${i?"profile-missing":""}`,children:[s.jsxs("h3",{children:["Profile Thresholds",r.profile_name&&s.jsx("span",{className:"profile-name-badge",children:r.profile_name})]}),i&&s.jsx("p",{className:"profile-warning",children:"Profile not configured for this portfolio."}),s.jsxs("dl",{className:"risk-dl",children:[s.jsx("dt",{children:"Drawdown Stop"}),s.jsx("dd",{children:r.drawdown_stop_label||""}),s.jsx("dt",{children:"Max Positions"}),s.jsx("dd",{children:r.max_positions??""}),s.jsx("dt",{children:"Max Position Size"}),s.jsx("dd",{children:r.max_position_pct_label||""}),s.jsx("dt",{children:"Bust Threshold"}),s.jsx("dd",{children:r.bust_equity_pct_label||""})]})]})]}),s.jsxs("div",{className:"risk-actions",children:[s.jsx("h3",{children:"What to do now"}),s.jsx("ul",{className:"action-list",children:n.map((o,l)=>s.jsx("li",{children:o},l))})]})]})}function D9({deltas:e}){var t,r,n,i,a,o,l,u,c,d,f,h,m,v,y,x;return e.has_prior_brief?s.jsxs("section",{className:"brief-card deltas-section","aria-label":"Changes Since Last Brief",children:[s.jsx("h2",{children:"Changes Since Last Brief"}),e.prior_as_of_ts&&s.jsxs("p",{className:"prior-timestamp",children:["Compared to: ",new Date(e.prior_as_of_ts).toLocaleString()]}),s.jsxs("div",{className:"deltas-grid",children:[s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Total Equity"}),s.jsx("span",{className:"delta-curr",children:((t=e.equity)==null?void 0:t.curr)!=null?`$${e.equity.curr.toLocaleString()}`:""}),s.jsx(Pu,{value:(r=e.equity)==null?void 0:r.delta,format:"currency"})]}),s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Total Return"}),s.jsx("span",{className:"delta-curr",children:((n=e.total_return)==null?void 0:n.curr)!=null?`${(e.total_return.curr*100).toFixed(2)}%`:""}),s.jsx(Pu,{value:(i=e.total_return)==null?void 0:i.delta,format:"percent"})]}),s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Max Drawdown"}),s.jsx("span",{className:"delta-curr",children:((a=e.max_drawdown)==null?void 0:a.curr)!=null?`${(e.max_drawdown.curr*100).toFixed(2)}%`:""}),s.jsx(Pu,{value:(o=e.max_drawdown)==null?void 0:o.delta,format:"percent",invert:!0})]}),s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Open Positions"}),s.jsx("span",{className:"delta-curr",children:((l=e.open_positions)==null?void 0:l.curr)??""}),s.jsx(Pu,{value:(u=e.open_positions)==null?void 0:u.delta})]})]}),(((d=(c=e.trusted_signals)==null?void 0:c.added)==null?void 0:d.length)>0||((h=(f=e.trusted_signals)==null?void 0:f.removed)==null?void 0:h.length)>0)&&s.jsxs("div",{className:"signal-changes",children:[s.jsx("h3",{children:"Signal Changes"}),((v=(m=e.trusted_signals)==null?void 0:m.added)==null?void 0:v.length)>0&&s.jsxs("div",{className:"signals-added",children:[s.jsxs("strong",{children:["Added (",e.trusted_signals.added.length,"):"]}),s.jsxs("ul",{children:[e.trusted_signals.added.slice(0,5).map((g,w)=>s.jsx("li",{children:g.pattern_id||JSON.stringify(g)},w)),e.trusted_signals.added.length>5&&s.jsxs("li",{className:"more",children:["+",e.trusted_signals.added.length-5," more"]})]})]}),((x=(y=e.trusted_signals)==null?void 0:y.removed)==null?void 0:x.length)>0&&s.jsxs("div",{className:"signals-removed",children:[s.jsxs("strong",{children:["Removed (",e.trusted_signals.removed.length,"):"]}),s.jsxs("ul",{children:[e.trusted_signals.removed.slice(0,5).map((g,w)=>s.jsx("li",{children:g.pattern_id||JSON.stringify(g)},w)),e.trusted_signals.removed.length>5&&s.jsxs("li",{className:"more",children:["+",e.trusted_signals.removed.length-5," more"]})]})]})]})]}):s.jsxs("section",{className:"brief-card deltas-section","aria-label":"Changes Since Last Brief",children:[s.jsx("h2",{children:"Changes Since Last Brief"}),s.jsx("div",{className:"no-prior-brief",children:s.jsx("p",{children:"No prior brief to compare."})})]})}function L9({rawJson:e}){return s.jsxs("details",{className:"raw-json-panel",children:[s.jsx("summary",{children:"Full Brief JSON (Debug)"}),s.jsx("pre",{className:"raw-json-pre",children:JSON.stringify(e,null,2)})]})}function R9(){var w;const{portfolios:e,defaultPortfolioId:t,loading:r,error:n}=Fy(),[i,a]=p.useState(""),[o,l]=p.useState(null),[u,c]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(!1),{setContext:v}=nn();p.useEffect(()=>{v(hM)},[v]),p.useEffect(()=>{r||t==null||i!==""||a(String(t))},[t,r,i]);const y=async()=>{const b=i.trim();if(b){c(!0),f(null),l(null);try{const _=await fetch(`${ae}/briefs/latest?portfolio_id=${b}`);if(!_.ok)throw new Error(_.statusText);const S=await _.json();l(S)}catch(_){f(_.message)}finally{c(!1)}}},g=(o==null?void 0:o.found)===!0?o:null;return r?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx(xr,{})]}):(d||n)&&!i?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx(en,{message:d||n})]}):e.length===0&&!d?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx(dt,{title:"No portfolios yet",action:s.jsxs(s.Fragment,{children:["Run pipeline, then ",s.jsx(ge,{to:"/portfolios",children:"pick a portfolio"}),"."]}),explanation:"Briefs are per portfolio. Load portfolios first by running the pipeline.",reasons:["Pipeline has not run yet.","No portfolios in MIP.APP.PORTFOLIO."]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx("p",{className:"page-description",children:"Your daily portfolio summary with opportunities, risk status, and performance changes."}),s.jsxs("div",{className:"brief-controls",children:[s.jsxs("label",{children:["Portfolio:"," ",s.jsxs("select",{value:i,onChange:b=>a(b.target.value),children:[s.jsx("option",{value:"",children:"Select"}),e.map(b=>{const _=b.PORTFOLIO_ID??b.portfolio_id,S=b.NAME??b.name;return s.jsx("option",{value:_,children:S!=null?`${S} (${_})`:_},_)})]})]}),s.jsx("button",{type:"button",onClick:y,disabled:!i||u,children:u?"Loading":"Load Brief"})]}),d&&s.jsx(en,{message:d}),!i&&!u&&s.jsx(dt,{title:"Select a portfolio",action:"Choose a portfolio above and click Load Brief.",explanation:"Briefs are generated per portfolio by the daily pipeline."}),i&&!u&&!d&&o==null&&s.jsx(dt,{title:"No brief loaded",action:"Click Load Brief above to fetch the latest brief for this portfolio.",explanation:"Briefs are generated per portfolio by the daily pipeline."}),i&&!u&&!d&&(o==null?void 0:o.found)===!1&&s.jsx(dt,{title:"No brief exists yet for this portfolio",action:s.jsx(s.Fragment,{children:"Run the daily pipeline for this portfolio, then load again."}),explanation:(o==null?void 0:o.message)??"Briefs are written when the pipeline runs and writes morning briefs for each portfolio.",reasons:["Pipeline has not run yet for this portfolio.","No brief row in MIP.AGENT_OUT.MORNING_BRIEF."]}),g&&s.jsxs("div",{className:"brief-content",children:[g.is_stale&&s.jsxs("div",{className:"stale-brief-banner",role:"alert",children:[s.jsx("div",{className:"stale-banner-icon",children:""}),s.jsxs("div",{className:"stale-banner-content",children:[s.jsx("p",{className:"stale-banner-title",children:"You are viewing an older brief"}),s.jsxs("p",{className:"stale-banner-text",children:["This brief was generated from pipeline run ",s.jsx("code",{children:((w=g.pipeline_run_id)==null?void 0:w.slice(0,8))||""}),".",g.stale_reason&&` ${g.stale_reason}`]})]}),s.jsx("button",{type:"button",className:"stale-banner-btn",onClick:y,disabled:u,children:u?"Loading":"Load Latest Brief"})]}),s.jsx(A9,{brief:g,onShowTrades:()=>m(!0)}),s.jsx(O9,{actions:g.portfolio_actions}),s.jsx(I9,{opportunities:g.opportunities,portfolioId:g.portfolio_id,asOfTs:g.as_of_ts,pipelineRunId:g.pipeline_run_id}),s.jsx(M9,{risk:g.risk}),s.jsx(D9,{deltas:g.deltas}),s.jsx(L9,{rawJson:g.raw_json})]}),h&&g&&s.jsx(S9,{trades:g.summary.executed_trades_preview||[],source:g.summary.executed_trades_source||"Portfolio trades",portfolioId:g.portfolio_id,verificationStatus:g.summary.verification_status||"UNVERIFIABLE",briefRecordCount:g.summary.brief_record_count||0,executedLabel:g.summary.executed_label||"trades",onClose:()=>m(!1)})]})}function $9(e){const{cx:t,cy:r,payload:n}=e;if(!(n!=null&&n.event))return null;const a={FIRST_OUTCOME:"#1565c0",MIN_SIGNALS_REACHED:"#7b1fa2",ENTERED_WATCH:"#f57c00",ENTERED_TRUSTED:"#2e7d32",DROPPED_FROM_TRUSTED:"#c62828",MISS_STREAK:"#c62828"}[n.event]||"#666";return s.jsx("g",{children:s.jsx("circle",{cx:t,cy:r,r:6,fill:a,stroke:"#fff",strokeWidth:2})})}function z9({active:e,payload:t}){var i;if(!e||!t||!t.length)return null;const r=(i=t[0])==null?void 0:i.payload;if(!r)return null;const n={TRUSTED:"#2e7d32",WATCH:"#f57c00",UNTRUSTED:"#9e9e9e"};return s.jsxs("div",{className:"timeline-tooltip",children:[s.jsx("p",{className:"timeline-tooltip-date",children:r.ts?String(r.ts).slice(0,10):""}),s.jsxs("p",{className:"timeline-tooltip-row",children:[s.jsx("span",{children:"Hit rate:"}),s.jsx("strong",{children:r.rolling_hit_rate!=null?`${(r.rolling_hit_rate*100).toFixed(1)}%`:""})]}),s.jsxs("p",{className:"timeline-tooltip-row",children:[s.jsx("span",{children:"Evaluated:"}),s.jsx("strong",{children:r.evaluated_count??""})]}),s.jsxs("p",{className:"timeline-tooltip-row",children:[s.jsx("span",{children:"Avg return:"}),s.jsx("strong",{children:r.rolling_avg_return!=null?`${(r.rolling_avg_return*100).toFixed(3)}%`:""})]}),s.jsx("p",{className:"timeline-tooltip-state",style:{color:n[r.state]||"#666"},children:r.state??"UNKNOWN"}),r.event&&s.jsx("p",{className:"timeline-tooltip-event",children:r.event.replace(/_/g," ")})]})}function F9(){return s.jsxs("div",{className:"timeline-inline-skeleton",children:[s.jsxs("div",{className:"skeleton-header",children:[s.jsx("div",{className:"skeleton-title"}),s.jsx("div",{className:"skeleton-subtitle"})]}),s.jsxs("div",{className:"skeleton-journey",children:[s.jsx("div",{className:"skeleton-line skeleton-line--short"}),s.jsx("div",{className:"skeleton-line"}),s.jsx("div",{className:"skeleton-line skeleton-line--medium"})]}),s.jsx("div",{className:"skeleton-chart"}),s.jsxs("div",{className:"skeleton-meta",children:[s.jsx("div",{className:"skeleton-tag"}),s.jsx("div",{className:"skeleton-tag"}),s.jsx("div",{className:"skeleton-tag"})]})]})}function B9({symbol:e,marketType:t,patternId:r=1,horizonBars:n=5,cachedData:i,onDataLoaded:a,onClose:o}){var y,x;const[l,u]=p.useState(i||null),[c,d]=p.useState(!i),[f,h]=p.useState(null);p.useEffect(()=>{if(i){u(i),d(!1);return}if(!e||!t){d(!1);return}let g=!1;d(!0),h(null);const w=new URLSearchParams({symbol:e,market_type:t,pattern_id:String(r),horizon_bars:String(n)});return fetch(`${ae}/training/timeline?${w}`).then(b=>b.ok?b.json():Promise.reject(new Error(b.statusText))).then(b=>{g||(u(b),a&&a(b))}).catch(b=>{g||h(b.message)}).finally(()=>{g||d(!1)}),()=>{g=!0}},[e,t,r,n,i,a]);const m=p.useMemo(()=>l!=null&&l.series?l.series.map(g=>({...g,hit_rate_pct:g.rolling_hit_rate!=null?g.rolling_hit_rate*100:null,date_label:g.ts?String(g.ts).slice(0,10):""})):[],[l]),v=((y=l==null?void 0:l.thresholds)==null?void 0:y.min_hit_rate)!=null?l.thresholds.min_hit_rate*100:55;return c?s.jsx("div",{className:"training-timeline-inline",children:s.jsx(F9,{})}):f?s.jsxs("div",{className:"training-timeline-inline",children:[s.jsxs("div",{className:"training-timeline-inline-header",children:[s.jsx("h4",{children:"Confidence over time"}),o&&s.jsx("button",{className:"timeline-inline-close",onClick:o,"aria-label":"Collapse details",children:""})]}),s.jsx(en,{message:f})]}):(x=l==null?void 0:l.series)!=null&&x.length?s.jsxs("div",{className:"training-timeline-inline",children:[s.jsxs("div",{className:"training-timeline-inline-header",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"Confidence over time (evidence accumulation)"}),s.jsx("p",{className:"training-timeline-inline-subtitle",children:"This is derived from evaluated outcomes, not a model weight."})]}),o&&s.jsx("button",{className:"timeline-inline-close",onClick:o,"aria-label":"Collapse details",children:""})]}),s.jsxs("div",{className:"training-timeline-inline-content",children:[s.jsxs("div",{className:"training-timeline-inline-left",children:[l.narrative&&l.narrative.length>0&&s.jsxs("div",{className:"training-journey-card-inline",children:[s.jsx("h5",{children:"Training Journey"}),s.jsx("ul",{className:"training-journey-bullets-inline",children:l.narrative.map((g,w)=>s.jsx("li",{children:g},w))})]}),s.jsxs("div",{className:"training-timeline-meta-inline",children:[s.jsxs("span",{children:["Symbol: ",s.jsx("strong",{children:l.symbol})]}),s.jsxs("span",{children:["Pattern: ",s.jsx("strong",{children:l.pattern_id})]}),s.jsxs("span",{children:["Horizon: ",s.jsxs("strong",{children:[l.horizon_bars," bars"]})]}),s.jsxs("span",{children:["Points: ",s.jsx("strong",{children:l.series.length})]})]})]}),s.jsx("div",{className:"training-timeline-inline-right",children:s.jsxs("div",{className:"training-timeline-chart-inline",children:[s.jsx(Gr,{width:"100%",height:200,children:s.jsxs(Uf,{data:m,margin:{top:8,right:16,left:0,bottom:4},children:[s.jsx(Ri,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Cr,{dataKey:"date_label",tick:{fontSize:9},tickFormatter:g=>g.slice(5),interval:"preserveStartEnd"}),s.jsx(Tr,{domain:[0,100],tick:{fontSize:9},tickFormatter:g=>`${g}%`,width:36}),s.jsx(Yr,{content:s.jsx(z9,{})}),s.jsx(ba,{y:v,stroke:"#2e7d32",strokeDasharray:"5 5",strokeWidth:1.5,label:{value:`Trusted (${v}%)`,position:"right",fill:"#2e7d32",fontSize:9}}),s.jsx(ba,{y:50,stroke:"#9e9e9e",strokeDasharray:"2 2",strokeWidth:1}),s.jsx(zn,{type:"monotone",dataKey:"hit_rate_pct",stroke:"#1565c0",strokeWidth:2,dot:s.jsx($9,{}),activeDot:{r:4,fill:"#1565c0"},connectNulls:!0,name:"Rolling Hit Rate"})]})}),s.jsxs("div",{className:"timeline-legend-inline",children:[s.jsxs("span",{className:"legend-item-inline",children:[s.jsx("span",{className:"legend-line-inline",style:{background:"#1565c0"}}),"Rolling hit rate"]}),s.jsxs("span",{className:"legend-item-inline",children:[s.jsx("span",{className:"legend-line-inline legend-line-inline--dashed",style:{borderColor:"#2e7d32"}}),"Trusted threshold"]}),s.jsxs("span",{className:"legend-item-inline",children:[s.jsx("span",{className:"legend-dot-inline",style:{background:"#2e7d32"}}),"Key events"]})]})]})})]}),s.jsx("p",{className:"training-timeline-note-inline",children:"Confidence increases as outcomes are evaluated. Opportunities may be shown even when evidence is still insufficient to act."})]}):s.jsxs("div",{className:"training-timeline-inline",children:[s.jsxs("div",{className:"training-timeline-inline-header",children:[s.jsx("h4",{children:"Confidence over time (evidence accumulation)"}),o&&s.jsx("button",{className:"timeline-inline-close",onClick:o,"aria-label":"Collapse details",children:""})]}),s.jsx(dt,{title:"No evaluated outcomes yet",action:"Still observing  outcomes will appear as signals mature.",explanation:"Training timeline shows how confidence evolves as outcomes are evaluated.",reasons:(l==null?void 0:l.narrative)||["No evaluated outcomes for this symbol yet."]})]})}const st="training_status",U9=14;function W9(e){if(!e)return"maturity_stage";const t=String(e).toUpperCase();return t==="INSUFFICIENT"?"stage_insufficient":t==="WARMING_UP"?"stage_warming_up":t==="LEARNING"?"stage_learning":t==="CONFIDENT"?"stage_confident":"maturity_stage"}function K9(e){return e==null||Number.isNaN(e)?"":`${(Number(e)*100).toFixed(1)}%`}function ui(e){if(e==null||Number.isNaN(e))return"";const t=Number(e);return Number.isInteger(t)?String(t):t.toFixed(4)}function aj(e,t){return`${t(e,"market_type")}-${t(e,"symbol")}-${t(e,"pattern_id")}`}function H9(){const{explainMode:e}=Pt(),[t]=gl(),r=p.useRef(!1),[n,i]=p.useState(null),[a,o]=p.useState(!0),[l,u]=p.useState(null),[c,d]=p.useState(""),[f,h]=p.useState(""),[m,v]=p.useState(""),[y,x]=p.useState(null),g=p.useRef({}),{setContext:w}=nn();p.useEffect(()=>{w(pM)},[w]),p.useEffect(()=>{if(r.current)return;r.current=!0;const N=t.get("symbol"),T=t.get("market_type"),O=t.get("pattern_id");N!=null&&N!==""&&h(N),T!=null&&T!==""&&d(T),O!=null&&O!==""&&v(O)},[t]),p.useEffect(()=>{let N=!1;return fetch(`${ae}/training/status`).then(T=>T.ok?T.json():Promise.reject(new Error(T.statusText))).then(T=>{N||i(T)}).catch(T=>{N||u(T.message)}).finally(()=>{N||o(!1)}),()=>{N=!0}},[]);const b=(n==null?void 0:n.rows)??[],_=(N,T)=>N[T]??N[T.toUpperCase()],S=p.useMemo(()=>{const N=new Set(b.map(T=>_(T,"market_type")).filter(Boolean));return Array.from(N).sort()},[b]),j=p.useMemo(()=>b.filter(N=>!(c&&_(N,"market_type")!==c||f.trim()&&!(_(N,"symbol")??"").toLowerCase().includes(f.trim().toLowerCase())||m!==""&&String(_(N,"pattern_id"))!==String(m))),[b,c,f,m]);p.useEffect(()=>{y&&(j.some(T=>aj(T,_)===y)||x(null))},[j,y]),p.useEffect(()=>{const N=T=>{T.key==="Escape"&&y&&x(null)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[y]);const P=p.useCallback(N=>{x(T=>T===N?null:N)},[]),k=p.useCallback((N,T)=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),P(T))},[P]),E=p.useCallback((N,T)=>{g.current[N]=T},[]);return a?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Training Status"}),s.jsx(xr,{})]}):l?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Training Status"}),s.jsx(en,{message:l})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Training Status"}),e&&s.jsx("p",{className:"training-status-intro",children:"Per-asset training maturity (daily bars): sample size, coverage, horizons, and avg outcomes. Use filters to narrow by market or symbol."}),s.jsxs("section",{className:"training-status-filters","aria-label":"Filters",children:[s.jsxs("div",{className:"training-filter-row",children:[s.jsxs("label",{htmlFor:"ts-market-type",children:["Market type",s.jsx(D,{scope:st,variant:"short"},"filter_market_type")]}),s.jsxs("select",{id:"ts-market-type",value:c,onChange:N=>d(N.target.value),"aria-label":"Filter by market type",children:[s.jsx("option",{value:"",children:"All"}),S.map(N=>s.jsx("option",{value:N,children:N},N))]})]}),s.jsxs("div",{className:"training-filter-row",children:[s.jsxs("label",{htmlFor:"ts-symbol",children:["Symbol",s.jsx(D,{scope:st,variant:"short"},"filter_symbol")]}),s.jsx("input",{id:"ts-symbol",type:"search",placeholder:"Search symbol",value:f,onChange:N=>h(N.target.value),"aria-label":"Search by symbol"})]})]}),s.jsx("div",{className:"training-status-table-wrap",children:s.jsxs("table",{className:"training-status-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"training-expand-col","aria-label":"Expand"}),s.jsxs("th",{children:["Market type ",s.jsx(D,{scope:st,variant:"short"},"market_type")]}),s.jsxs("th",{children:["Symbol ",s.jsx(D,{scope:st,variant:"short"},"symbol")]}),s.jsxs("th",{children:["Pattern ",s.jsx(D,{scope:st,variant:"short"},"pattern_id")]}),s.jsxs("th",{children:["Interval ",s.jsx(D,{scope:st,variant:"short"},"interval_minutes")]}),s.jsxs("th",{children:["As of ",s.jsx(D,{scope:st,variant:"short"},"as_of_ts")]}),s.jsxs("th",{children:["Maturity ",s.jsx(D,{scope:st,variant:"short"},"maturity_score")]}),s.jsxs("th",{children:["Sample size ",s.jsx(D,{scope:st,variant:"short"},"recs_total")]}),s.jsxs("th",{children:["Coverage ",s.jsx(D,{scope:st,variant:"short"},"coverage_ratio")]}),s.jsxs("th",{children:["Horizons ",s.jsx(D,{scope:st,variant:"short"},"horizons_covered")]}),s.jsxs("th",{children:["Avg H1 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h1")]}),s.jsxs("th",{children:["Avg H3 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h3")]}),s.jsxs("th",{children:["Avg H5 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h5")]}),s.jsxs("th",{children:["Avg H10 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h10")]}),s.jsxs("th",{children:["Avg H20 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h20")]})]})}),s.jsx("tbody",{children:j.map(N=>{var A,$;const T=_(N,"maturity_stage"),O=_(N,"maturity_score")!=null?Number(_(N,"maturity_score")):0,W=W9(T),U=e?((A=fe(st,W))==null?void 0:A.short)??T:void 0,K=aj(N,_),G=y===K,X=g.current[K];return s.jsxs(xd.Fragment,{children:[s.jsxs("tr",{className:`training-row ${G?"training-row-expanded":""}`,onClick:()=>P(K),onKeyDown:F=>k(F,K),tabIndex:0,role:"button","aria-expanded":G,"aria-label":`${_(N,"symbol")} training details. Press Enter to ${G?"collapse":"expand"}.`,children:[s.jsx("td",{className:"training-expand-cell",children:s.jsx("span",{className:`training-expand-icon ${G?"training-expand-icon--open":""}`,children:""})}),s.jsx("td",{children:_(N,"market_type")??""}),s.jsx("td",{className:"training-symbol-cell",children:_(N,"symbol")??""}),s.jsx("td",{children:_(N,"pattern_id")??""}),s.jsx("td",{children:_(N,"interval_minutes")??""}),s.jsx("td",{children:_(N,"as_of_ts")??""}),s.jsxs("td",{className:"training-maturity-cell",children:[s.jsx("span",{className:`training-maturity-badge training-stage-${(_(N,"maturity_stage")||"").toLowerCase().replace("_","-")}`,title:U,children:_(N,"maturity_stage")??""}),s.jsx(D,{scope:st,variant:"short"},W),s.jsx("div",{className:"training-progress-wrap",title:U,children:s.jsx("div",{className:"training-progress-bar",style:{width:`${Math.min(100,Math.max(0,O))}%`}})}),s.jsx("span",{className:"training-score-num",title:e?($=fe(st,"maturity_score"))==null?void 0:$.short:void 0,children:ui(_(N,"maturity_score"))})]}),s.jsx("td",{children:ui(_(N,"recs_total"))}),s.jsx("td",{children:K9(_(N,"coverage_ratio"))}),s.jsx("td",{children:ui(_(N,"horizons_covered"))}),s.jsx("td",{children:ui(_(N,"avg_outcome_h1"))}),s.jsx("td",{children:ui(_(N,"avg_outcome_h3"))}),s.jsx("td",{children:ui(_(N,"avg_outcome_h5"))}),s.jsx("td",{children:ui(_(N,"avg_outcome_h10"))}),s.jsx("td",{children:ui(_(N,"avg_outcome_h20"))})]}),G&&s.jsx("tr",{className:"training-detail-row",children:s.jsx("td",{colSpan:U9+1,className:"training-detail-cell",children:s.jsx(B9,{symbol:_(N,"symbol"),marketType:_(N,"market_type"),patternId:_(N,"pattern_id"),horizonBars:5,cachedData:X,onDataLoaded:F=>E(K,F),onClose:()=>x(null)})})})]},K)})})]})}),j.length===0&&s.jsx(dt,{title:b.length===0?"No evaluated recommendations found yet":"No rows match the current filters",action:b.length===0?"Run pipeline in Snowflake.":"Clear or adjust filters above.",explanation:b.length===0?"Training status comes from recommendation and outcome data. Run the pipeline to populate it.":"Try a different market type or symbol search.",reasons:b.length===0?["Pipeline has not run yet.","No recommendations or outcomes in MIP.APP."]:[]})]})}const we="suggestions",yt="performance",dr="training_status",gd=10,Vu=3,xs=3,Fa=[1,3,5,10,20];function V9(e,t){return e*Math.min(1,(t??0)/gd)}function ku(e){if(!e)return"maturity_stage";const t=String(e).toUpperCase();return t==="INSUFFICIENT"?"stage_insufficient":t==="WARMING_UP"?"stage_warming_up":t==="LEARNING"?"stage_learning":t==="CONFIDENT"?"stage_confident":"maturity_stage"}function dn(e){return e==null||Number.isNaN(e)?"":`${Number(e).toFixed(1)}%`}function ci(e){if(e==null||Number.isNaN(e))return"";const t=Number(e);return Number.isInteger(t)?String(t):t.toFixed(2)}function q9(e,t,r){const n=Math.min(25,e/30*25),i=t/5*25,a=Math.min(50,r/40*50);return Math.min(100,Math.round(n+i+a))}function G9(e){const t=e||[],r=t.find(o=>o.horizon_bars===5);if(r)return r;const n=[3,5,10],i=t.filter(o=>n.includes(o.horizon_bars??0));return i.length===0?null:[...i].sort((o,l)=>{const u=o.pct_positive!=null?Number(o.pct_positive):-1,c=l.pct_positive!=null?Number(l.pct_positive):-1;if(u!==c)return c-u;const d=(o.mean_realized_return??o.mean_outcome)!=null?Number(o.mean_realized_return??o.mean_outcome):-1/0;return((l.mean_realized_return??l.mean_outcome)!=null?Number(l.mean_realized_return??l.mean_outcome):-1/0)-d})[0]}function Y9(e,t){const r=G9(t);if(!r)return e*.6;const n=(r.mean_realized_return??r.mean_outcome)!=null?Number(r.mean_realized_return??r.mean_outcome):0,i=r.pct_positive!=null?Number(r.pct_positive):0;return e*.6+n*1e3*.2+i*100*.2}function X9(e){return e==null||e<25?"INSUFFICIENT":e<50?"WARMING_UP":e<75?"LEARNING":"CONFIDENT"}function Kh(e){const t=new URLSearchParams;e!=null&&e.symbol&&t.set("symbol",e.symbol),e!=null&&e.market_type&&t.set("market_type",e.market_type),(e==null?void 0:e.pattern_id)!=null&&t.set("pattern_id",String(e.pattern_id));const r=t.toString();return r?`/training?${r}`:"/training"}function Q9(e,t,r){const n=[...r||[]].sort((c,d)=>((d==null?void 0:d.pct_positive)??0)-((c==null?void 0:c.pct_positive)??0))[0],i=(n==null?void 0:n.pct_positive)!=null?Number(n.pct_positive):null,a=i!=null?`${(i*100).toFixed(1)}%`:"",o=(n==null?void 0:n.mean_realized_return)??(n==null?void 0:n.mean_outcome),l=o!=null?`${(Number(o)*100).toFixed(2)}%`:"",u=(n==null?void 0:n.horizon_bars)??"?";return[`Based on ${e??0} recommendations and ${t??0} evaluated outcomes, positive at ${a} over the strongest horizon (${u} bars).`,`Mean return at that horizon: ${l}.`]}function Z9(e,t,r,n){const i=(n||[]).find(u=>u.horizon_bars===5),a=(i==null?void 0:i.mean_realized_return)??(i==null?void 0:i.mean_outcome),o=(i==null?void 0:i.pct_positive)!=null?(Number(i.pct_positive)*100).toFixed(1):"",l=a!=null?`${(Number(a)*100).toFixed(2)}%`:"";return`Meets minimums (recs  ${gd} for strong, or  ${Vu} for early; horizons  ${xs}). Ranked by suggestion score: maturity ${t.toFixed(0)} (${r}), 5-bar mean return ${l}, 5-bar pct positive ${o}%.`}function J9(e){const t=[...e||[]].sort((r,n)=>((n==null?void 0:n.pct_positive)??0)-((r==null?void 0:r.pct_positive)??0))[0];return(t==null?void 0:t.horizon_bars)??5}function eq(e,t){const r=e.outcomes_total??0,n=(e.by_horizon||[]).find(u=>u.horizon_bars===t),i=((n==null?void 0:n.mean_realized_return)??(n==null?void 0:n.mean_outcome))!=null?Number(n.mean_realized_return??n.mean_outcome)*100:null,a=(n==null?void 0:n.pct_positive)!=null?Number(n.pct_positive)*100:null,o=i!=null?i.toFixed(2):"",l=a!=null?a.toFixed(1):"";return{n:r,horizon:t,mean:o,pct:l}}function tq(e,t=20){if(!e.length)return[];const r=Math.min(...e),n=Math.max(...e),i=n-r||.01,a=Array.from({length:t},(o,l)=>{const u=r+l/t*i,c=r+(l+1)/t*i,d=(u+c)/2;return{bin:l,left:u,right:c,mid:d,count:0,label:`${(d*100).toFixed(1)}%`}});return e.forEach(o=>{if(o<r||o>n)return;const l=o===n?t-1:Math.floor((o-r)/i*t);l>=0&&l<t&&(a[l].count+=1)}),a}function rq(){var ce,xe,vt,ve;const{explainMode:e}=Pt(),t=By(),{latestRunId:r,latestRunTs:n}=uA(),[i,a]=p.useState(null),[o,l]=p.useState(null),[u,c]=p.useState(!0),[d,f]=p.useState(null),[h,m]=p.useState(null),[v,y]=p.useState(5),[x,g]=p.useState([]),[w,b]=p.useState(!1),[_,S]=p.useState(null),[j,P]=p.useState(null),[k,E]=p.useState(!1),{setContext:N}=nn(),T=xc(yh),[O,W]=gl(),U=Do(),K=O.get("from")==="brief",G=O.get("symbol"),X=O.get("pattern_id"),A=O.get("market_type"),$=K||G||X||A,F=p.useCallback(()=>{W({}),U("/suggestions",{replace:!0})},[W,U]);p.useEffect(()=>{N(yh)},[N]),p.useEffect(()=>{h!=null&&v!=null?N(gM(h,v)):N(yh)},[h,v,N]),p.useEffect(()=>{h&&(y(5),g([]),S(null))},[h]),p.useEffect(()=>{if(!h)return;let I=!1;b(!0),S(null);const Z=new URLSearchParams;return h.market_type&&Z.set("market_type",h.market_type),h.symbol&&Z.set("symbol",h.symbol),h.pattern_id!=null&&Z.set("pattern_id",String(h.pattern_id)),Z.set("horizon_bars",String(v)),Z.set("limit","2000"),fetch(`${ae}/performance/distribution?${Z}`).then(oe=>oe.ok?oe.json():Promise.reject(new Error(oe.statusText))).then(oe=>{I||g(oe.realized_returns??[])}).catch(oe=>{I||S(oe.message)}).finally(()=>{I||b(!1)}),()=>{I=!0}},[h,v]),p.useEffect(()=>{if(!h)return;const I=Z=>{Z.key==="Escape"&&m(null)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[h]),p.useEffect(()=>{let I=!1;return c(!0),f(null),fetch(`${ae}/performance/summary`).then(Z=>Z.ok?Z.json():Promise.reject(new Error(Z.statusText))).then(Z=>{if(!I)return a(Z),fetch(`${ae}/training/status`).then(oe=>oe.ok?oe.json():null).catch(()=>null)}).then(Z=>{!I&&Z!=null&&l(Z)}).catch(Z=>{I||f(Z.message)}).finally(()=>{I||c(!1)}),()=>{I=!0}},[]),p.useEffect(()=>{let I=!1;const Z=()=>{fetch(`${ae}/live/metrics?portfolio_id=${t}`).then(Ae=>Ae.ok?Ae.json():Promise.reject(new Error(Ae.statusText))).then(Ae=>{I||P(Ae)}).catch(()=>{I||P(null)})};Z();const oe=setInterval(Z,6e4);return()=>{I=!0,clearInterval(oe)}},[t]);const Q=p.useCallback(()=>{E(!0),fetch(`${ae}/performance/summary`).then(I=>I.ok?I.json():Promise.reject(new Error(I.statusText))).then(I=>a(I)).catch(()=>{}).finally(()=>E(!1))},[]),J=p.useMemo(()=>{const I=(o==null?void 0:o.rows)??[],Z={};return I.forEach(oe=>{const Ae=`${oe.market_type??oe.MARKET_TYPE}|${oe.symbol??oe.SYMBOL}|${oe.pattern_id??oe.PATTERN_ID}`;Z[Ae]=oe}),Z},[o]),[ne,pe]=p.useState(!0),{strongCandidates:je,earlyCandidates:be}=p.useMemo(()=>{const I=(i==null?void 0:i.items)??[],Z=le=>typeof le.horizons_covered=="number"?le.horizons_covered:Array.isArray(le.horizons_covered)?le.horizons_covered.length:0,oe=[],Ae=[];return I.forEach(le=>{const Ee=le.recs_total??0,Ve=Z(le);if(Ve<xs)return;const tt=`${le.market_type}|${le.symbol}|${le.pattern_id}`,gt=J[tt],Ce=(gt==null?void 0:gt.maturity_score)!=null?Number(gt.maturity_score):q9(le.recs_total,Ve,le.outcomes_total),de=Y9(Ce,le.by_horizon||[]),[Se,ie]=Q9(le.recs_total,le.outcomes_total,le.by_horizon),M=(gt==null?void 0:gt.maturity_stage)??X9(Ce),te=Z9(le,Ce,M,le.by_horizon||[]),Fe={...le,suggestion_score:Math.round(de*100)/100,maturity_score:Ce,maturity_stage:M,what_history_line1:Se,what_history_line2:ie,why_this_is_shown:te};Ee>=gd?(Fe.tier="strong",Fe.isEarlySignal=!1,oe.push(Fe)):Ee>=Vu&&(Fe.tier="early",Fe.isEarlySignal=!0,Fe.effective_score=Math.round(V9(Fe.suggestion_score,Ee)*100)/100,Ae.push(Fe))}),oe.sort((le,Ee)=>(Ee.suggestion_score??0)-(le.suggestion_score??0)),Ae.sort((le,Ee)=>(Ee.effective_score??0)-(le.effective_score??0)),{strongCandidates:oe,earlyCandidates:Ae}},[i,J]),mt=p.useMemo(()=>{let I=ne?[...je,...be]:je;return G&&(I=I.filter(Z=>{var oe;return((oe=Z.symbol)==null?void 0:oe.toLowerCase())===G.toLowerCase()})),X&&(I=I.filter(Z=>String(Z.pattern_id)===X)),A&&(I=I.filter(Z=>{var oe;return((oe=Z.market_type)==null?void 0:oe.toLowerCase())===A.toLowerCase()})),I},[je,be,ne,G,X,A]),L=je.length>0,ee=be.length>0,re=mt.length===0,R=!L&&ee;return u?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Suggestions"}),s.jsx(xr,{})]}):d?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Suggestions"}),s.jsx(en,{message:d})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Suggestions"}),n&&s.jsxs("div",{className:"suggestions-freshness-header",children:[s.jsx("span",{className:"freshness-badge freshness-current",children:"CURRENT"}),s.jsxs("span",{className:"freshness-text",children:["Data from pipeline run ",v9(n)]})]}),$&&s.jsxs("div",{className:"suggestions-filter-banner",role:"status",children:[s.jsx("span",{className:"filter-icon",children:""}),s.jsxs("span",{className:"filter-text",children:[K&&"Filtered from Morning Brief. ",G&&`Symbol: ${G}. `,X&&`Pattern: ${X}. `,A&&`Market: ${A}. `,mt.length===0&&"No matching candidates found."]}),s.jsx("button",{type:"button",className:"filter-clear-btn",onClick:F,children:"Clear filters"})]}),s.jsxs("p",{className:"suggestions-intro",children:["Ranked symbol/pattern candidates from evaluated outcome history (deterministic score). Explain mode ontooltips on every metric.",s.jsx(D,{scope:we,variant:"short"},"no_trades_notice")]}),s.jsxs("p",{className:"suggestions-requirements",children:["Strong candidates: recs_total  ",gd,s.jsx(D,{scope:we,variant:"short"},"strong_candidate"),", horizons  ",xs,". Early signals: recs_total  ",Vu,s.jsx(D,{scope:we,variant:"short"},"early_signal"),", horizons  ",xs,s.jsx(D,{scope:we,variant:"short"},"min_horizons_required"),"."," ",s.jsx("button",{type:"button",className:"suggestions-explain-this",onClick:T,"aria-label":"Open Explain Center",children:"Explain this"})]}),s.jsxs("label",{className:"suggestions-toggle-early",children:[s.jsx("input",{type:"checkbox",checked:ne,onChange:I=>pe(I.target.checked),"aria-label":"Show early signals (low confidence)"}),s.jsx("span",{children:"Show early signals"})]}),j&&(re||R)&&s.jsxs("div",{className:"suggestions-live-callout",role:"status",children:[s.jsxs("strong",{children:[L?"Live":"No strong candidates yet",((ce=j==null?void 0:j.outcomes)==null?void 0:ce.last_calculated_at)&&s.jsxs(s.Fragment,{children:["  last update ",aa(j.outcomes.last_calculated_at)," ago"]}),(((xe=j==null?void 0:j.outcomes)==null?void 0:xe.since_last_run)??0)>0&&s.jsxs(s.Fragment,{children:["; +",j.outcomes.since_last_run," new evaluations since last run"]})]}),(((vt=j==null?void 0:j.outcomes)==null?void 0:vt.since_last_run)??0)>0&&s.jsx("button",{type:"button",className:"suggestions-refresh-btn",onClick:Q,disabled:k,"aria-label":"Refresh suggestions from server",children:k?"Refreshing":"Refresh suggestions"})]}),s.jsxs("p",{className:"suggestions-count",children:[R&&s.jsx("span",{className:"suggestions-count-subtext",children:"No strong candidates yet. Showing early signals with low confidence."}),"Showing ",mt.length," candidate",mt.length!==1?"s":"",mt.length>0&&L&&ee&&ne&&s.jsxs("span",{children:[" (",je.length," strong, ",be.length," early)"]}),"."]}),re?ee&&!ne?s.jsx(dt,{title:"No strong candidates yet",action:"Turn on 'Show early signals' to see low-confidence items (recs  3, horizons  3).",explanation:"No symbol/pattern pairs yet meet the strong threshold (recs_total  10). Some early signals exist with fewer examplesenable the toggle to show them; treat as directional only.",reasons:["Strong requires recs_total  10 and horizons  3.","Early signals are ranked by effective score (score  min(1, recs/10))."]}):s.jsxs(s.Fragment,{children:[(j==null?void 0:j.outcomes)&&s.jsxs("div",{className:"suggestions-empty-live-copy",role:"status",children:[s.jsx("p",{children:"We're tracking new evaluations as they arrive."}),s.jsxs("p",{children:["Last evaluation update: ",aa(j.outcomes.last_calculated_at)," ago."]}),(j.outcomes.since_last_run??0)>0&&s.jsxs("p",{children:["Since the last pipeline run, we've added +",j.outcomes.since_last_run," new evaluated outcomes."]}),(((ve=j==null?void 0:j.outcomes)==null?void 0:ve.since_last_run)??0)>0&&s.jsx("button",{type:"button",className:"suggestions-refresh-btn",onClick:Q,disabled:k,"aria-label":"Refresh suggestions from server",children:k?"Refreshing":"Refresh suggestions"})]}),s.jsx(dt,{title:"Not enough evaluated history",action:"Run more pipelines to generate recommendations and outcomes, then return here.",explanation:"No symbol/pattern pairs meet the minimum: recs_total  3 and at least 3 horizons (e.g. 1, 3, 5, 10, 20 bars) with outcome data. Suggestions are derived from /performance/summary (RECOMMENDATION_LOG + RECOMMENDATION_OUTCOMES, daily bars only).",reasons:[`Minimum: recs_total  ${Vu}, horizons_covered  ${xs}.`,"Pipeline has not run enough, or data is for other intervals (we use daily bars only).","Check Training Status to see which triples have sufficient data."]})]}):s.jsxs("div",{className:"suggestions-list",children:[R&&s.jsxs("div",{className:"suggestions-no-strong-banner",role:"status",children:[s.jsx("strong",{children:"No strong candidates yet."})," Showing early signals with low confidence."]}),L&&s.jsxs("p",{className:"suggestions-tier-heading",children:["Strong candidates",s.jsx(D,{scope:we,variant:"short"},"strong_candidate")]}),L&&je.map((I,Z)=>{var oe,Ae,le,Ee,Ve,tt,gt;return s.jsxs("article",{className:"suggestion-card suggestion-card-strong","data-rank":Z+1,onClick:()=>m(I),role:"button",tabIndex:0,onKeyDown:Ce=>(Ce.key==="Enter"||Ce.key===" ")&&m(I),"aria-label":`Open detail for ${I.symbol} pattern ${I.pattern_id}`,children:[s.jsxs("div",{className:"suggestion-header",children:[s.jsxs("span",{className:"suggestion-rank",children:["#",Z+1]}),s.jsxs("span",{className:"suggestion-triple",children:[s.jsx("span",{className:"suggestion-symbol",children:I.symbol??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsx("span",{className:"suggestion-market",children:I.market_type??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsxs("span",{className:"suggestion-pattern",children:["pattern ",I.pattern_id??""]})]}),s.jsxs("span",{className:"suggestion-score-block",title:e?(oe=fe(we,"suggestion_score_formula"))==null?void 0:oe.short:void 0,children:[s.jsxs("span",{className:"suggestion-score-label",children:["Suggestion score",s.jsx(D,{scope:we,variant:"short"},"suggestion_score")]}),s.jsx("span",{className:"suggestion-score",children:ci(I.suggestion_score)})]})]}),s.jsxs("div",{className:"suggestion-sample",title:e?(Ae=fe(we,"sample_size"))==null?void 0:Ae.short:void 0,children:["Sample size",s.jsx(D,{scope:we,variant:"short"},"sample_size"),": ",s.jsx("strong",{children:ci(I.recs_total)})]}),s.jsxs("div",{className:"suggestion-maturity",title:e?(le=fe(dr,"maturity_score"))==null?void 0:le.short:void 0,children:[s.jsxs("span",{className:`suggestion-stage suggestion-stage-${(I.maturity_stage||"").toLowerCase().replace("_","-")}`,title:e?(Ee=fe(dr,ku(I.maturity_stage)))==null?void 0:Ee.short:void 0,children:[I.maturity_stage??"",s.jsx(D,{scope:dr,variant:"short"},ku(I.maturity_stage))]}),s.jsx("div",{className:"suggestion-maturity-bar-wrap",title:e?(Ve=fe(dr,"maturity_score"))==null?void 0:Ve.long:void 0,children:s.jsx("div",{className:"suggestion-maturity-bar",style:{width:`${Math.min(100,Math.max(0,I.maturity_score??0))}%`},"aria-hidden":"true"})})]}),s.jsxs("div",{className:"suggestion-what-history",title:e?(tt=fe(we,"what_history_suggests"))==null?void 0:tt.short:void 0,children:[s.jsx("strong",{children:"What history suggests"}),s.jsx(D,{scope:we,variant:"short"},"what_history_suggests"),s.jsx("p",{className:"suggestion-what-line1",children:I.what_history_line1}),s.jsx("p",{className:"suggestion-what-line2",children:I.what_history_line2})]}),s.jsxs("div",{className:"suggestion-horizon-strip",title:e?(gt=fe(we,"horizon_strip"))==null?void 0:gt.short:void 0,children:[s.jsxs("span",{className:"suggestion-horizon-strip-label",children:["Horizon strip (1 / 3 / 5 / 10 / 20) ",s.jsx(D,{scope:we,variant:"short"},"horizon_strip")]}),s.jsx("div",{className:"suggestion-sparkline","aria-hidden":"true",children:Fa.map(Ce=>{const de=(I.by_horizon||[]).find(cr=>cr.horizon_bars===Ce),Se=((de==null?void 0:de.mean_realized_return)??(de==null?void 0:de.mean_outcome))!=null?Number(de.mean_realized_return??de.mean_outcome)*100:null,ie=(de==null?void 0:de.pct_positive)!=null?Number(de.pct_positive)*100:null,M=Se??ie??0,te=M==null?0:Math.min(100,Math.max(0,50+M)),Fe=M==null?"suggestion-sparkline-bar":M>=0?"suggestion-sparkline-bar has-value positive":"suggestion-sparkline-bar has-value negative";return s.jsx("div",{className:Fe,style:{height:`${te}%`},title:`${Ce}d: mean ${Se!=null?dn(Se):""}, pct ${ie!=null?dn(ie):""}`},Ce)})}),s.jsx("div",{className:"suggestion-horizon-strip-cells",children:Fa.map(Ce=>{const de=(I.by_horizon||[]).find(cr=>cr.horizon_bars===Ce),Se=(de==null?void 0:de.pct_positive)!=null?Number(de.pct_positive):null,ie=Se!=null?Se*100:null,M=((de==null?void 0:de.mean_realized_return)??(de==null?void 0:de.mean_outcome))!=null?Number(de.mean_realized_return??de.mean_outcome)*100:null,te=ie??M,Fe=te==null?"strip-cell empty":te>=50?"strip-cell good":"strip-cell weak";return s.jsxs("div",{className:Fe,title:`${Ce} bars: pct ${ie!=null?dn(ie):""}, mean ${M!=null?dn(M):""}`,children:[s.jsx("span",{className:"strip-h",children:Ce}),s.jsx("span",{className:"strip-v",children:te!=null?dn(te):""})]},Ce)})})]}),s.jsxs("div",{className:"suggestion-cross-links",onClick:Ce=>Ce.stopPropagation(),role:"navigation","aria-label":"Connect to other views",children:[s.jsx(ge,{to:Kh(I),className:"suggestion-link",title:"Training Status filtered to this symbol/pattern",children:"View Training"}),s.jsx(ge,{to:"/portfolios",className:"suggestion-link",title:"Portfolio snapshot  see if you hold this symbol",children:"View Portfolio"}),s.jsx(ge,{to:"/brief",className:"suggestion-link",title:"Morning brief  see if this symbol is mentioned",children:"View Brief"})]})]},`strong-${I.symbol}-${I.pattern_id}-${I.market_type}`)}),ne&&ee&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"suggestions-tier-heading",children:["Early signals (low confidence)",s.jsx(D,{scope:we,variant:"short"},"early_signal")]}),be.map((I,Z)=>{var oe,Ae,le,Ee,Ve,tt,gt,Ce,de;return s.jsxs("article",{className:"suggestion-card suggestion-card-early","data-rank":L?je.length+Z+1:Z+1,onClick:()=>m(I),role:"button",tabIndex:0,onKeyDown:Se=>(Se.key==="Enter"||Se.key===" ")&&m(I),"aria-label":`Open detail for ${I.symbol} pattern ${I.pattern_id} (early signal)`,children:[s.jsxs("div",{className:"suggestion-header",children:[s.jsxs("span",{className:"suggestion-rank",children:["#",L?je.length+Z+1:Z+1]}),s.jsxs("span",{className:"suggestion-triple",children:[s.jsx("span",{className:"suggestion-symbol",children:I.symbol??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsx("span",{className:"suggestion-market",children:I.market_type??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsxs("span",{className:"suggestion-pattern",children:["pattern ",I.pattern_id??""]})]}),s.jsxs("span",{className:"suggestion-score-block",children:[s.jsxs("span",{className:"suggestion-score-label",children:["Score",s.jsx(D,{scope:we,variant:"short"},"suggestion_score"),"/ Effective",s.jsx(D,{scope:we,variant:"short"},"effective_score")]}),s.jsx("span",{className:"suggestion-score",title:e?(oe=fe(we,"suggestion_score_formula"))==null?void 0:oe.short:void 0,children:ci(I.suggestion_score)}),s.jsx("span",{className:"suggestion-effective-score",title:e?(Ae=fe(we,"effective_score"))==null?void 0:Ae.short:void 0,children:ci(I.effective_score)})]})]}),s.jsxs("div",{className:"suggestion-badge-early",title:e?(le=fe(we,"why_confidence_low"))==null?void 0:le.short:void 0,children:["Early / Low confidence",s.jsx(D,{scope:we,variant:"short"},"why_confidence_low")]}),s.jsxs("p",{className:"suggestion-early-sentence",children:["Only ",ci(I.recs_total)," evaluated examples so fartreat as directional only."]}),s.jsxs("div",{className:"suggestion-sample",title:e?(Ee=fe(we,"sample_size"))==null?void 0:Ee.short:void 0,children:["Sample size",s.jsx(D,{scope:we,variant:"short"},"sample_size"),": ",s.jsx("strong",{children:ci(I.recs_total)})]}),s.jsxs("div",{className:"suggestion-maturity",title:e?(Ve=fe(dr,"maturity_score"))==null?void 0:Ve.short:void 0,children:[s.jsxs("span",{className:`suggestion-stage suggestion-stage-${(I.maturity_stage||"").toLowerCase().replace("_","-")}`,title:e?(tt=fe(dr,ku(I.maturity_stage)))==null?void 0:tt.short:void 0,children:[I.maturity_stage??"",s.jsx(D,{scope:dr,variant:"short"},ku(I.maturity_stage))]}),s.jsx("div",{className:"suggestion-maturity-bar-wrap",title:e?(gt=fe(dr,"maturity_score"))==null?void 0:gt.long:void 0,children:s.jsx("div",{className:"suggestion-maturity-bar",style:{width:`${Math.min(100,Math.max(0,I.maturity_score??0))}%`},"aria-hidden":"true"})})]}),s.jsxs("div",{className:"suggestion-what-history",title:e?(Ce=fe(we,"what_history_suggests"))==null?void 0:Ce.short:void 0,children:[s.jsx("strong",{children:"What history suggests"}),s.jsx(D,{scope:we,variant:"short"},"what_history_suggests"),s.jsx("p",{className:"suggestion-what-line1",children:I.what_history_line1}),s.jsx("p",{className:"suggestion-what-line2",children:I.what_history_line2})]}),s.jsxs("div",{className:"suggestion-horizon-strip",title:e?(de=fe(we,"horizon_strip"))==null?void 0:de.short:void 0,children:[s.jsxs("span",{className:"suggestion-horizon-strip-label",children:["Horizon strip (1 / 3 / 5 / 10 / 20) ",s.jsx(D,{scope:we,variant:"short"},"horizon_strip")]}),s.jsx("div",{className:"suggestion-sparkline","aria-hidden":"true",children:Fa.map(Se=>{const ie=(I.by_horizon||[]).find(Ma=>Ma.horizon_bars===Se),M=((ie==null?void 0:ie.mean_realized_return)??(ie==null?void 0:ie.mean_outcome))!=null?Number(ie.mean_realized_return??ie.mean_outcome)*100:null,te=(ie==null?void 0:ie.pct_positive)!=null?Number(ie.pct_positive)*100:null,Fe=M??te??0,cr=Fe==null?0:Math.min(100,Math.max(0,50+Fe)),Ia=Fe==null?"suggestion-sparkline-bar":Fe>=0?"suggestion-sparkline-bar has-value positive":"suggestion-sparkline-bar has-value negative";return s.jsx("div",{className:Ia,style:{height:`${cr}%`},title:`${Se}d: mean ${M!=null?dn(M):""}, pct ${te!=null?dn(te):""}`},Se)})}),s.jsx("div",{className:"suggestion-horizon-strip-cells",children:Fa.map(Se=>{const ie=(I.by_horizon||[]).find(Ma=>Ma.horizon_bars===Se),M=(ie==null?void 0:ie.pct_positive)!=null?Number(ie.pct_positive):null,te=M!=null?M*100:null,Fe=((ie==null?void 0:ie.mean_realized_return)??(ie==null?void 0:ie.mean_outcome))!=null?Number(ie.mean_realized_return??ie.mean_outcome)*100:null,cr=te??Fe,Ia=cr==null?"strip-cell empty":cr>=50?"strip-cell good":"strip-cell weak";return s.jsxs("div",{className:Ia,title:`${Se} bars: pct ${te!=null?dn(te):""}, mean ${Fe!=null?dn(Fe):""}`,children:[s.jsx("span",{className:"strip-h",children:Se}),s.jsx("span",{className:"strip-v",children:cr!=null?dn(cr):""})]},Se)})})]}),s.jsxs("div",{className:"suggestion-cross-links",onClick:Se=>Se.stopPropagation(),role:"navigation","aria-label":"Connect to other views",children:[s.jsx(ge,{to:Kh(I),className:"suggestion-link",title:"Training Status filtered to this symbol/pattern",children:"View Training"}),s.jsx(ge,{to:"/portfolios",className:"suggestion-link",title:"Portfolio snapshot  see if you hold this symbol",children:"View Portfolio"}),s.jsx(ge,{to:"/brief",className:"suggestion-link",title:"Morning brief  see if this symbol is mentioned",children:"View Brief"})]})]},`early-${I.symbol}-${I.pattern_id}-${I.market_type}`)})]})]}),h&&(()=>{var de,Se,ie;const I=J[`${h.market_type}|${h.symbol}|${h.pattern_id}`],Z=eq(h,v),oe=J9(h.by_horizon||[]),Ae=(h.by_horizon||[]).filter(M=>Fa.includes(M.horizon_bars)).sort((M,te)=>(M.horizon_bars??0)-(te.horizon_bars??0)).map(M=>({days:M.horizon_bars,mean_pct:(M.mean_realized_return??M.mean_outcome)!=null?Number(M.mean_realized_return??M.mean_outcome)*100:null,pct_positive:M.pct_positive!=null?Number(M.pct_positive)*100:null,pct_hit:M.pct_hit!=null?Number(M.pct_hit)*100:null})),le=tq(x),Ee=x.length?x.reduce((M,te)=>M+te,0)/x.length:null,Ve=[...x].sort((M,te)=>M-te),tt=Ve.length?Ve[Math.floor(Ve.length/2)]:null,gt=(I==null?void 0:I.coverage_ratio)!=null?Number(I.coverage_ratio):null,Ce=(I==null?void 0:I.reasons)??(Array.isArray(I==null?void 0:I.reasons)?I.reasons:[]);return s.jsx("div",{className:"suggestion-drawer-backdrop",onClick:()=>m(null),onKeyDown:M=>M.key==="Escape"&&m(null),role:"presentation",children:s.jsxs("div",{className:"suggestion-drawer suggestion-drawer-evidence",onClick:M=>M.stopPropagation(),role:"dialog","aria-label":"Evidence drawer",children:[s.jsxs("div",{className:"suggestion-drawer-header",children:[s.jsxs("h2",{children:[h.symbol,"  ",h.market_type,"  pattern ",h.pattern_id]}),s.jsx("button",{type:"button",className:"suggestion-drawer-close",onClick:()=>m(null),"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"suggestion-drawer-body",children:[s.jsxs("div",{className:"suggestion-drawer-connect",role:"navigation","aria-label":"Connect to other views",children:[s.jsx("span",{className:"suggestion-drawer-connect-label",children:"Connect:"}),s.jsx(ge,{to:Kh(h),className:"suggestion-link",onClick:()=>m(null),children:"View Training"}),s.jsx("span",{className:"suggestion-drawer-connect-sep","aria-hidden":"true",children:""}),s.jsx(ge,{to:"/portfolios",className:"suggestion-link",onClick:()=>m(null),title:"Portfolio snapshot  see if you hold this symbol",children:"View Portfolio"}),s.jsx("span",{className:"suggestion-drawer-connect-sep","aria-hidden":"true",children:""}),s.jsx(ge,{to:"/brief",className:"suggestion-link",onClick:()=>m(null),title:"Morning brief  see if this symbol is mentioned",children:"View Brief"})]}),s.jsxs("section",{className:"evidence-section evidence-explanations","aria-label":"Explanations",children:[s.jsxs("div",{className:"evidence-what",children:[s.jsx("h3",{children:"What"}),e&&s.jsx(D,{scope:we,variant:"short"},"what_history_suggests"),s.jsxs("p",{children:["We evaluated this pattern ",s.jsx(D,{scope:dr,variant:"short"},"pattern_id")," ",s.jsx("strong",{children:Z.n})," ",s.jsx(D,{scope:we,variant:"short"},"sample_size")," ","times on daily data. At ",s.jsxs("strong",{children:[Z.horizon," days"]})," ",s.jsx(D,{scope:yt,variant:"short"},"horizon_days"),", the average ",s.jsx("strong",{children:"realized return"})," ",s.jsx(D,{scope:yt,variant:"short"},"realized_return")," ","was ",s.jsxs("strong",{children:[Z.mean,"%"]}),", and outcomes were positive ",s.jsxs("strong",{children:[Z.pct,"%"]})," of the time"," ",s.jsx(D,{scope:yt,variant:"short"},"pct_positive"),"."]})]}),s.jsxs("div",{className:"evidence-why",children:[s.jsx("h3",{children:"Why"}),e&&s.jsx(D,{scope:we,variant:"short"},"why_this_is_shown"),s.jsxs("p",{children:["This appears because it has ",s.jsxs("strong",{children:[h.maturity_stage??""," training maturity"]})," ",s.jsx(D,{scope:dr,variant:"short"},"maturity_stage")," ","and shows its strongest results around ",s.jsxs("strong",{children:[oe," days"]}),"."]})]}),s.jsxs("div",{className:"evidence-how",children:[s.jsx("h3",{children:"How"}),e&&s.jsx(D,{scope:we,variant:"short"},"how_to_interpret"),s.jsxs("p",{children:[s.jsx("strong",{children:"Realized return"})," ",s.jsx(D,{scope:yt,variant:"short"},"realized_return")," ","is computed from the ",s.jsx("strong",{children:"entry price"})," to the ",s.jsx("strong",{children:"exit price"})," at the chosen"," ",s.jsx("strong",{children:"horizon"})," ",s.jsx(D,{scope:yt,variant:"short"},"horizon_bars"),". ",s.jsx("strong",{children:"Hit rate"})," ",s.jsx(D,{scope:yt,variant:"short"},"hit_rate")," ","shows how often the move exceeded the minimum threshold."]})]})]}),s.jsxs("section",{className:"evidence-section evidence-charts","aria-label":"Charts",children:[s.jsx("h3",{children:"Horizon strip (1 / 3 / 5 / 10 / 20 days)"}),e&&s.jsx(D,{scope:we,variant:"short"},"horizon_strip"),s.jsxs("div",{className:"evidence-horizon-chart",children:[s.jsx("span",{className:"evidence-chart-label",children:"Average return over holding period"}),s.jsx(Gr,{width:"100%",height:220,children:s.jsxs(no,{data:Ae,margin:{top:8,right:8,bottom:24,left:8},children:[s.jsx(Cr,{dataKey:"days",tickFormatter:M=>`${M} days`}),s.jsx(Tr,{tickFormatter:M=>`${M}%`}),s.jsx(Yr,{formatter:M=>{var te;return[M!=null?`${Number(M).toFixed(2)}%`:"",e?((te=fe(yt,"mean_realized_return"))==null?void 0:te.short)??"Mean return":"Mean return"]},labelFormatter:M=>{var te;return e?`${M} days  ${((te=fe(yt,"horizon_bars"))==null?void 0:te.short)??"holding period"}`:`${M} days`}}),s.jsx(ra,{dataKey:"mean_pct",name:"Mean return",fill:"#1976d2",radius:[4,4,0,0],children:Ae.map((M,te)=>s.jsx(Rl,{fill:Ae[te].mean_pct>=0?"#2e7d32":"#c62828"},te))})]})})]}),s.jsxs("div",{className:"evidence-pct-chart",children:[s.jsx("span",{className:"evidence-chart-label",children:"Share of outcomes that were positive"}),s.jsx(Gr,{width:"100%",height:120,children:s.jsxs(no,{data:Ae,margin:{top:4,right:8,bottom:24,left:8},children:[s.jsx(Cr,{dataKey:"days",tickFormatter:M=>`${M}d`}),s.jsx(Tr,{domain:[0,100],tickFormatter:M=>`${M}%`}),s.jsx(Yr,{formatter:M=>{var te;return[M!=null?`${Number(M).toFixed(1)}%`:"",e?((te=fe(yt,"pct_positive"))==null?void 0:te.short)??"% positive":"% positive"]},labelFormatter:M=>`${M} days`}),s.jsx(ra,{dataKey:"pct_positive",name:"% positive",fill:"#1565c0",radius:[4,4,0,0]})]})})]}),s.jsxs("div",{className:"evidence-pct-chart",children:[s.jsx("span",{className:"evidence-chart-label",children:"Hit rate  how often the move met the target"}),s.jsx(Gr,{width:"100%",height:120,children:s.jsxs(no,{data:Ae,margin:{top:4,right:8,bottom:24,left:8},children:[s.jsx(Cr,{dataKey:"days",tickFormatter:M=>`${M}d`}),s.jsx(Tr,{domain:[0,100],tickFormatter:M=>`${M}%`}),s.jsx(Yr,{formatter:M=>{var te;return[M!=null?`${Number(M).toFixed(1)}%`:"",e?((te=fe(yt,"hit_rate"))==null?void 0:te.short)??"Hit rate":"Hit rate"]},labelFormatter:M=>`${M} days`}),s.jsx(ra,{dataKey:"pct_hit",name:"Hit rate",fill:"#5e35b1",radius:[4,4,0,0]})]})})]}),s.jsxs("h3",{children:["Distribution of realized return (",v," days)"]}),e&&s.jsx(D,{scope:yt,variant:"short"},"realized_return"),s.jsx("div",{className:"evidence-horizon-selector",children:Fa.map(M=>s.jsxs("button",{type:"button",className:v===M?"evidence-horizon-btn active":"evidence-horizon-btn",onClick:()=>y(M),children:[M," days"]},M))}),w&&s.jsx(xr,{}),_&&s.jsx(en,{message:_}),!w&&!_&&x.length===0&&s.jsx("p",{className:"evidence-empty",children:"No distribution data for this horizon."}),!w&&!_&&x.length>0&&s.jsxs("div",{className:"evidence-dist-chart",children:[s.jsx(Gr,{width:"100%",height:240,children:s.jsxs(no,{data:le,margin:{top:8,right:8,bottom:24,left:8},children:[s.jsx(Cr,{dataKey:"label",interval:Math.max(0,Math.floor(le.length/10))}),s.jsx(Tr,{}),s.jsx(Yr,{formatter:M=>[M,"Count"],labelFormatter:M=>`Return: ${M}`}),s.jsx(ra,{dataKey:"count",name:"Count",fill:"#37474f",radius:[2,2,0,0]}),Ee!=null&&s.jsx(ReferenceLine,{x:((de=le.find(M=>M.mid>=Ee))==null?void 0:de.bin)??0,stroke:"#c62828",strokeDasharray:"3 3"}),tt!=null&&tt!==Ee&&s.jsx(ReferenceLine,{x:((Se=le.find(M=>M.mid>=tt))==null?void 0:Se.bin)??0,stroke:"#1976d2",strokeDasharray:"2 2"})]})}),e&&(Ee!=null||tt!=null)&&s.jsxs("p",{className:"evidence-dist-legend",children:[Ee!=null&&s.jsxs("span",{children:["Mean: ",(Ee*100).toFixed(2),"%"]}),tt!=null&&s.jsxs("span",{children:[" Median: ",(tt*100).toFixed(2),"%"]})]})]}),s.jsxs("div",{className:"evidence-confidence",children:[s.jsx("h3",{children:"Confidence"}),e&&s.jsx(D,{scope:dr,variant:"short"},"maturity_score"),s.jsx("div",{className:"evidence-maturity-bar-wrap",children:s.jsx("div",{className:"evidence-maturity-bar",style:{width:`${Math.min(100,Math.max(0,h.maturity_score??0))}%`},"aria-hidden":"true"})}),s.jsxs("span",{className:"evidence-maturity-label",children:["Maturity: ",ci(h.maturity_score)]}),gt!=null&&s.jsxs("p",{className:"evidence-coverage",title:e?(ie=fe(dr,"coverage_ratio"))==null?void 0:ie.short:void 0,children:["Coverage ratio: ",(gt*100).toFixed(0),"%",s.jsx(D,{scope:dr,variant:"short"},"coverage_ratio")]}),Array.isArray(Ce)&&Ce.length>0&&s.jsx("ul",{className:"evidence-reasons",children:Ce.map((M,te)=>s.jsx("li",{children:typeof M=="string"?M:(M&&(M.reason??M.message))??String(M)},te))})]})]}),s.jsxs("table",{className:"suggestion-drawer-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{children:["Horizon ",s.jsx(D,{scope:yt,variant:"short"},"horizon_bars")]}),s.jsxs("th",{children:["N ",s.jsx(D,{scope:yt,variant:"short"},"n")]}),s.jsxs("th",{children:["Mean realized ",s.jsx(D,{scope:yt,variant:"short"},"mean_realized_return")]}),s.jsxs("th",{children:["% positive ",s.jsx(D,{scope:yt,variant:"short"},"pct_positive")]}),s.jsxs("th",{children:["% hit ",s.jsx(D,{scope:yt,variant:"short"},"pct_hit")]}),s.jsxs("th",{children:["Min ",s.jsx(D,{scope:yt,variant:"short"},"min_outcome")]}),s.jsxs("th",{children:["Max ",s.jsx(D,{scope:yt,variant:"short"},"max_outcome")]})]})}),s.jsx("tbody",{children:(h.by_horizon||[]).sort((M,te)=>(M.horizon_bars??0)-(te.horizon_bars??0)).map((M,te)=>s.jsxs("tr",{children:[s.jsxs("td",{children:[M.horizon_bars," bars"]}),s.jsx("td",{children:ci(M.n)}),s.jsx("td",{children:(M.mean_realized_return??M.mean_outcome)!=null?`${(Number(M.mean_realized_return??M.mean_outcome)*100).toFixed(2)}%`:""}),s.jsx("td",{children:M.pct_positive!=null?`${(Number(M.pct_positive)*100).toFixed(1)}%`:""}),s.jsx("td",{children:M.pct_hit!=null?`${(Number(M.pct_hit)*100).toFixed(1)}%`:""}),s.jsx("td",{children:(M.min_realized_return??M.min_outcome)!=null?`${(Number(M.min_realized_return??M.min_outcome)*100).toFixed(2)}%`:""}),s.jsx("td",{children:(M.max_realized_return??M.max_outcome)!=null?`${(Number(M.max_realized_return??M.max_outcome)*100).toFixed(2)}%`:""})]},te))})]})]})]})})})()]})}function Ba({label:e,value:t,onClear:r}){return t?s.jsxs("span",{className:"filter-badge",children:[s.jsxs("span",{className:"filter-label",children:[e,":"]}),s.jsx("span",{className:"filter-value",children:t}),r&&s.jsx("button",{type:"button",className:"filter-clear",onClick:r,"aria-label":`Clear ${e} filter`,children:""})]}):null}function nq({reason:e,onClearFilters:t,onUseLatestRun:r,onBackToBrief:n}){return s.jsxs("div",{className:"signals-fallback-banner",role:"alert",children:[s.jsx("div",{className:"fallback-icon",children:""}),s.jsxs("div",{className:"fallback-content",children:[s.jsx("p",{className:"fallback-reason",children:e}),s.jsxs("div",{className:"fallback-actions",children:[s.jsx("button",{type:"button",className:"fallback-btn",onClick:t,children:"Clear all filters"}),s.jsx("button",{type:"button",className:"fallback-btn",onClick:r,children:"Use latest run"}),s.jsx(ge,{to:"/brief",className:"fallback-btn",onClick:n,children:"Back to Morning Brief"})]})]})]})}function iq({portfolioId:e,asOfTs:t,pipelineRunId:r,onClearFilters:n}){return s.jsxs("div",{className:"signals-from-brief-banner",role:"status",children:[s.jsx("span",{className:"banner-icon",children:""}),s.jsxs("span",{className:"banner-text",children:["Filtered from Morning Brief",e&&` (Portfolio ${e})`,t&&`  As of ${new Date(t).toLocaleDateString()}`]}),s.jsx("button",{type:"button",className:"banner-clear-btn",onClick:n,children:"Clear filters"})]})}function aq({signal:e}){var n;const t=(e.TRUST_LABEL||e.trust_label||"").toLowerCase(),r=e.IS_ELIGIBLE??e.is_eligible;return s.jsxs("tr",{className:`signal-row ${r?"":"signal-ineligible"}`,children:[s.jsx("td",{className:"signal-symbol",children:e.SYMBOL||e.symbol}),s.jsx("td",{className:"signal-market",children:e.MARKET_TYPE||e.market_type}),s.jsx("td",{className:"signal-pattern",children:e.PATTERN_ID||e.pattern_id}),s.jsx("td",{className:"signal-score",children:((n=e.SCORE||e.score)==null?void 0:n.toFixed(2))??""}),s.jsx("td",{className:`signal-trust trust-${t}`,children:e.TRUST_LABEL||e.trust_label||""}),s.jsx("td",{className:"signal-action",children:e.RECOMMENDED_ACTION||e.recommended_action||""}),s.jsx("td",{className:"signal-eligible",children:r?"":e.GATING_REASON||e.gating_reason||"No"}),s.jsx("td",{className:"signal-ts",children:e.SIGNAL_TS||e.signal_ts?new Date(e.SIGNAL_TS||e.signal_ts).toLocaleString():""})]})}function oq(){var _;const[e,t]=gl(),r=Do(),[n,i]=p.useState(null),[a,o]=p.useState(!0),[l,u]=p.useState(null),c={symbol:e.get("symbol"),marketType:e.get("market_type"),patternId:e.get("pattern_id"),horizonBars:e.get("horizon_bars"),runId:e.get("pipelineRunId")||e.get("run_id"),asOfTs:e.get("asOf")||e.get("as_of_ts"),trustLabel:e.get("trust_label"),fromBrief:e.get("from")==="brief",portfolioId:e.get("portfolioId")},d=Object.values(c).some(S=>S&&S!=="brief"),f=p.useCallback(async()=>{o(!0),u(null);try{const S=new URLSearchParams;c.symbol&&S.set("symbol",c.symbol),c.marketType&&S.set("market_type",c.marketType),c.patternId&&S.set("pattern_id",c.patternId),c.horizonBars&&S.set("horizon_bars",c.horizonBars),c.runId&&S.set("run_id",c.runId),c.asOfTs&&S.set("as_of_ts",c.asOfTs),c.trustLabel&&S.set("trust_label",c.trustLabel),S.set("include_fallback","true"),S.set("limit","100");const j=await fetch(`${ae}/signals?${S}`);if(!j.ok)throw new Error(j.statusText);const P=await j.json();i(P)}catch(S){u(S.message)}finally{o(!1)}},[c.symbol,c.marketType,c.patternId,c.horizonBars,c.runId,c.asOfTs,c.trustLabel]);p.useEffect(()=>{f()},[f]);const h=p.useCallback(()=>{t({})},[t]),m=p.useCallback(S=>{const j=new URLSearchParams(e);j.delete(S),S!=="from"&&j.delete("from"),t(j)},[e,t]),v=p.useCallback(()=>{const S=new URLSearchParams(e);S.delete("pipelineRunId"),S.delete("run_id"),S.delete("asOf"),S.delete("as_of_ts"),t(S)},[e,t]);if(a)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Signals Explorer"}),s.jsx(xr,{})]});if(l)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Signals Explorer"}),s.jsx(en,{message:l})]});const y=(n==null?void 0:n.signals)||[],x=(n==null?void 0:n.count)||0,g=n==null?void 0:n.fallback_used,w=n==null?void 0:n.fallback_reason,b=n==null?void 0:n.query_type;return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Signals Explorer"}),s.jsx("p",{className:"page-description",children:"Browse actual signal and recommendation rows. Filter by symbol, pattern, trust level, and more."}),c.fromBrief&&s.jsx(iq,{portfolioId:c.portfolioId,asOfTs:c.asOfTs,pipelineRunId:c.runId,onClearFilters:h}),g&&w&&s.jsx(nq,{reason:w,onClearFilters:h,onUseLatestRun:v,onBackToBrief:()=>r("/brief")}),d&&s.jsxs("div",{className:"signals-active-filters",children:[s.jsx("span",{className:"filters-label",children:"Active filters:"}),s.jsx(Ba,{label:"Symbol",value:c.symbol,onClear:()=>m("symbol")}),s.jsx(Ba,{label:"Market",value:c.marketType,onClear:()=>m("market_type")}),s.jsx(Ba,{label:"Pattern",value:c.patternId,onClear:()=>m("pattern_id")}),s.jsx(Ba,{label:"Trust",value:c.trustLabel,onClear:()=>m("trust_label")}),s.jsx(Ba,{label:"Run ID",value:(_=c.runId)==null?void 0:_.slice(0,8),onClear:()=>m("pipelineRunId")}),s.jsx(Ba,{label:"As of",value:c.asOfTs?new Date(c.asOfTs).toLocaleDateString():null,onClear:()=>m("asOf")}),s.jsx("button",{type:"button",className:"clear-all-btn",onClick:h,children:"Clear all"})]}),s.jsxs("div",{className:"signals-count",children:[x>0?s.jsxs("span",{children:["Showing ",x," signal",x!==1?"s":""]}):s.jsx("span",{children:"No signals found"}),b&&b!=="primary"&&b!=="no_results"&&s.jsx("span",{className:"query-type-badge",children:b.replace(/_/g," ")})]}),x===0?s.jsx(dt,{title:"No signals found",action:d?s.jsx("button",{type:"button",onClick:h,children:"Clear all filters"}):s.jsx(ge,{to:"/brief",children:"Go to Morning Brief"}),explanation:d?"No signals match your current filters. Try clearing some filters or using a different time window.":"No signals available. Run the pipeline to generate recommendations.",reasons:["The brief may be stale (from an older pipeline run).","The signal may have been filtered out by trust rules.","Try clearing the run ID or date filters."]}):s.jsx("div",{className:"signals-table-container",children:s.jsxs("table",{className:"signals-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Symbol"}),s.jsx("th",{children:"Market"}),s.jsx("th",{children:"Pattern"}),s.jsx("th",{children:"Score"}),s.jsx("th",{children:"Trust"}),s.jsx("th",{children:"Action"}),s.jsx("th",{children:"Eligible"}),s.jsx("th",{children:"Signal Time"})]})}),s.jsx("tbody",{children:y.map((S,j)=>s.jsx(aq,{signal:S},S.RECOMMENDATION_ID||S.recommendation_id||j))})]})}),s.jsxs("div",{className:"signals-nav",children:[s.jsx(ge,{to:"/brief",className:"nav-link",children:" Morning Brief"}),s.jsx(ge,{to:"/suggestions",className:"nav-link",children:"Suggestions "})]})]})}function ds(e,t=!1){if(t)return typeof e=="string"?e:String(e);if(e==null)return"(null)";if(typeof e=="object"&&!Array.isArray(e)){const r=Object.keys(e),n={};return r.slice(0,3).forEach(i=>{n[i]=e[i]}),JSON.stringify(n)}if(Array.isArray(e)){const r=e.length,n=e[0];if(n==null)return`[] (${r} items)`;const i=typeof n=="object"&&n!==null?Object.keys(n):[],a={};return i.slice(0,3).forEach(o=>{a[o]=n[o]}),`[${r} items] first: ${JSON.stringify(a)}`}return String(e).slice(0,80)}function sq(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),{setContext:i}=nn();p.useEffect(()=>{i(vM)},[i]),p.useEffect(()=>{let o=!1;async function l(){const u=[],c=async f=>{const h=await f.text();if(!f.ok)return h;try{return JSON.parse(h)}catch{return h}};try{const f=await fetch(`${ae}/status`),h=await c(f);u.push({url:`${ae}/status`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/status`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}try{const f=await fetch(`${ae}/runs`),h=await c(f);u.push({url:`${ae}/runs`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/runs`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}let d=null;try{const f=await fetch(`${ae}/portfolios`),h=await c(f);if(f.ok&&Array.isArray(h)&&h.length>0){const m=h[0];d=m.portfolio_id??m.PORTFOLIO_ID??m.id}u.push({url:`${ae}/portfolios`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/portfolios`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}if(d!=null)try{const f=`${ae}/briefs/latest?portfolio_id=${d}`,h=await fetch(f),m=await c(h);u.push({url:f,status:h.status,ok:h.ok,preview:ds(m,!h.ok),raw:m})}catch(f){u.push({url:`${ae}/briefs/latest?portfolio_id=${d}`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}else u.push({url:`${ae}/briefs/latest?portfolio_id=...`,status:null,ok:null,preview:"skipped: no portfolio id",raw:null});try{const f=await fetch(`${ae}/training/status`),h=await c(f);u.push({url:`${ae}/training/status`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/training/status`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}o||(t(u),n(!1))}return l(),()=>{o=!0}},[]);const a=()=>{const o=e.map(l=>({url:l.url,status:l.status,ok:l.ok,preview:l.preview,raw:l.raw}));navigator.clipboard.writeText(JSON.stringify(o,null,2))};return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Route smoke"}),s.jsx("p",{children:"Quick debug: which endpoints fail and why (404 vs 500 vs CORS vs proxy)."}),s.jsx("button",{type:"button",className:"debug-copy-btn",onClick:a,disabled:r,"aria-label":"Copy diagnostics to clipboard",children:"Copy diagnostics"}),r&&s.jsx(xr,{message:"Running smoke checks"}),s.jsxs("table",{className:"debug-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"URL"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Preview"})]})}),s.jsx("tbody",{children:e.map((o,l)=>s.jsxs("tr",{className:o.ok===!0?"debug-ok":o.ok===!1?"debug-fail":"debug-skip",children:[s.jsx("td",{className:"debug-url",title:o.url,children:o.url}),s.jsxs("td",{className:"debug-status",children:[o.status!=null?o.status:"",o.status===0&&" (network)"]}),s.jsx("td",{className:"debug-preview",title:typeof o.preview=="string"?o.preview:JSON.stringify(o.preview),children:o.preview})]},l))})]})]})}function lq({active:e,payload:t,label:r}){var i,a,o,l,u;if(!e||!t||!t.length)return null;const n=(i=t[0])==null?void 0:i.payload;return n?s.jsxs("div",{className:"mtd-tooltip",children:[s.jsx("div",{className:"mtd-tooltip-date",children:r}),n.open!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"Open:"})," ",s.jsx("span",{children:(a=n.open)==null?void 0:a.toFixed(2)})]}),n.high!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"High:"})," ",s.jsx("span",{children:(o=n.high)==null?void 0:o.toFixed(2)})]}),n.low!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"Low:"})," ",s.jsx("span",{children:(l=n.low)==null?void 0:l.toFixed(2)})]}),n.close!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"Close:"})," ",s.jsx("span",{children:(u=n.close)==null?void 0:u.toFixed(2)})]}),n.events&&n.events.length>0&&s.jsx("div",{className:"mtd-tooltip-events",children:n.events.map((c,d)=>{var f,h;return s.jsxs("div",{className:`mtd-tooltip-event event-${(f=c.type)==null?void 0:f.toLowerCase()}`,children:[c.type,": ",c.side||""," ",c.type==="TRADE"&&c.quantity?`${c.quantity} @ ${(h=c.price)==null?void 0:h.toFixed(2)}`:""]},d)})})]}):null}function uq(){return s.jsxs("div",{className:"mtd-skeleton",children:[s.jsx("div",{className:"mtd-skeleton-header"}),s.jsx("div",{className:"mtd-skeleton-chart"}),s.jsxs("div",{className:"mtd-skeleton-narrative",children:[s.jsx("div",{className:"mtd-skeleton-line"}),s.jsx("div",{className:"mtd-skeleton-line"}),s.jsx("div",{className:"mtd-skeleton-line short"})]})]})}function cq({symbol:e,marketType:t,portfolioId:r,windowBars:n=60,cachedData:i,onDataLoaded:a,onClose:o}){var S,j,P;const[l,u]=p.useState(i||null),[c,d]=p.useState(!i),[f,h]=p.useState(null);if(p.useEffect(()=>{if(i){u(i),d(!1);return}let k=!1;d(!0),h(null);const E=new URLSearchParams;return E.set("symbol",e),E.set("market_type",t),E.set("window_bars",String(n)),r&&E.set("portfolio_id",r),fetch(`${ae}/market-timeline/detail?${E.toString()}`).then(N=>N.ok?N.json():Promise.reject(new Error(N.statusText))).then(N=>{k||(u(N),a&&a(N))}).catch(N=>{k||h(N.message)}).finally(()=>{k||d(!1)}),()=>{k=!0}},[e,t,r,n,i,a]),c)return s.jsx(uq,{});if(f)return s.jsxs("div",{className:"mtd-error",children:[s.jsxs("p",{children:["Error loading details: ",f]}),s.jsx("button",{onClick:o,children:"Close"})]});if(!l)return null;const m=l.ohlc||[],v=l.events||[],y=l.narrative||{},x=l.counts||{},g={};v.forEach(k=>{var N;const E=(N=k.ts)==null?void 0:N.slice(0,10);g[E]||(g[E]=[]),g[E].push(k)});const w=m.map(k=>{var U;const E=(U=k.ts)==null?void 0:U.slice(0,10),N=g[E]||[],T=N.some(K=>K.type==="SIGNAL"),O=N.some(K=>K.type==="PROPOSAL"),W=N.some(K=>K.type==="TRADE");return{...k,date:E,events:N,signalMarker:T?k.low*.995:null,proposalMarker:O?k.low*.99:null,tradeMarker:W?k.high*1.005:null,range:k.high&&k.low?[k.low,k.high]:null}}),b=y.decision_status||"SKIPPED",_=b==="EXECUTED"?"status-executed":b==="PROPOSED"?"status-proposed":"status-skipped";return s.jsxs("div",{className:"mtd-container",children:[s.jsxs("div",{className:"mtd-header",children:[s.jsxs("div",{className:"mtd-header-left",children:[s.jsxs("h3",{children:[e," ",s.jsx("span",{className:"mtd-market-type",children:t})]}),s.jsx("span",{className:`mtd-decision-badge ${_}`,children:b})]}),s.jsx("button",{className:"mtd-close-btn",onClick:o,"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"mtd-counts-bar",children:[s.jsxs("span",{className:"mtd-count mtd-count-signal",children:[s.jsx("strong",{children:x.signals||0})," signals"]}),s.jsx("span",{className:"mtd-count-arrow",children:""}),s.jsxs("span",{className:"mtd-count mtd-count-proposal",children:[s.jsx("strong",{children:x.proposals||0})," proposals"]}),s.jsx("span",{className:"mtd-count-arrow",children:""}),s.jsxs("span",{className:"mtd-count mtd-count-trade",children:[s.jsx("strong",{children:x.trades||0})," trades"]})]}),s.jsx("div",{className:"mtd-chart-container",children:s.jsx(Gr,{width:"100%",height:300,children:s.jsxs(o9,{data:w,margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(Ri,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Cr,{dataKey:"date",tick:{fontSize:10},tickFormatter:k=>k==null?void 0:k.slice(5)}),s.jsx(Tr,{domain:["auto","auto"],tick:{fontSize:10},tickFormatter:k=>k==null?void 0:k.toFixed(2)}),s.jsx(Yr,{content:s.jsx(lq,{})}),s.jsx(zn,{type:"monotone",dataKey:"high",stroke:"#bbb",strokeWidth:1,strokeDasharray:"2 2",dot:!1,name:"Daily High",legendType:"none"}),s.jsx(zn,{type:"monotone",dataKey:"low",stroke:"#bbb",strokeWidth:1,strokeDasharray:"2 2",dot:!1,name:"Daily Low",legendType:"none"}),s.jsx(zn,{type:"monotone",dataKey:"close",stroke:"#1976d2",strokeWidth:2,dot:!1,name:"Close Price"}),s.jsx(Hu,{dataKey:"signalMarker",fill:"#2196f3",name:"Signal",children:w.map((k,E)=>k.signalMarker!=null?s.jsx("circle",{r:6,fill:"#2196f3",stroke:"#1565c0",strokeWidth:1},`signal-${E}`):null)}),s.jsx(Hu,{dataKey:"proposalMarker",fill:"#ff9800",name:"Proposal",children:w.map((k,E)=>k.proposalMarker!=null?s.jsx("circle",{r:7,fill:"#ff9800",stroke:"#e65100",strokeWidth:2},`proposal-${E}`):null)}),s.jsx(Hu,{dataKey:"tradeMarker",fill:"#4caf50",name:"Trade",children:w.map((k,E)=>k.tradeMarker!=null?s.jsx("circle",{r:8,fill:"#4caf50",stroke:"#2e7d32",strokeWidth:2},`trade-${E}`):null)})]})})}),s.jsxs("div",{className:"mtd-chart-legend",children:[s.jsxs("div",{className:"legend-section legend-price",children:[s.jsx("span",{className:"legend-title",children:"Price:"}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-line blue"})," Close price"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-line grey dashed"})," High/Low range"]})]}),s.jsxs("div",{className:"legend-section legend-events",children:[s.jsx("span",{className:"legend-title",children:"Events:"}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot signal"})," Signal (pattern fired)"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot proposal"})," Proposal (order suggested)"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot trade"})," Trade (executed)"]})]})]}),s.jsxs("div",{className:"mtd-narrative",children:[s.jsx("h4",{children:"Decision Narrative"}),s.jsx("div",{className:"mtd-narrative-bullets",children:(S=y.bullets)==null?void 0:S.map((k,E)=>s.jsxs("p",{className:"mtd-bullet",children:[" ",k]},E))}),((j=y.reasons)==null?void 0:j.length)>0&&s.jsxs("div",{className:"mtd-reasons",children:[s.jsx("h5",{children:"Reason Details"}),y.reasons.map((k,E)=>s.jsxs("div",{className:"mtd-reason",children:[s.jsx("span",{className:"mtd-reason-code",children:k.code}),s.jsx("span",{className:"mtd-reason-title",children:k.title}),k.evidence&&Object.keys(k.evidence).length>0&&s.jsx("span",{className:"mtd-reason-evidence",children:JSON.stringify(k.evidence)})]},E))]})]}),((P=l.trust_summary)==null?void 0:P.length)>0&&s.jsxs("div",{className:"mtd-trust-summary",children:[s.jsx("h5",{children:"Trust Status by Pattern"}),s.jsx("div",{className:"mtd-trust-grid",children:l.trust_summary.map((k,E)=>{var N;return s.jsxs("div",{className:`mtd-trust-item trust-${(N=k.trust_label)==null?void 0:N.toLowerCase()}`,children:[s.jsxs("span",{className:"mtd-trust-pattern",children:["Pattern ",k.pattern_id]}),s.jsx("span",{className:"mtd-trust-label",children:k.trust_label}),k.n_success!=null&&s.jsxs("span",{className:"mtd-trust-detail",children:[k.n_success," outcomes  ",(k.coverage_rate*100).toFixed(0),"% coverage"]})]},E)})})]}),v.length>0&&s.jsxs("div",{className:"mtd-events-table",children:[s.jsxs("h5",{children:["Recent Events (",v.length,")"]}),s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Details"})]})}),s.jsx("tbody",{children:v.slice(-20).reverse().map((k,E)=>{var N,T,O,W,U,K,G;return s.jsxs("tr",{className:`event-row event-${(N=k.type)==null?void 0:N.toLowerCase()}`,children:[s.jsx("td",{children:(T=k.ts)==null?void 0:T.slice(0,10)}),s.jsx("td",{children:s.jsx("span",{className:`event-badge ${(O=k.type)==null?void 0:O.toLowerCase()}`,children:k.type})}),s.jsxs("td",{children:[k.type==="SIGNAL"&&`Pattern ${k.pattern_id}, Score: ${((W=k.score)==null?void 0:W.toFixed(4))||""}`,k.type==="PROPOSAL"&&s.jsxs(s.Fragment,{children:[k.side,"  Weight: ",((U=k.target_weight)==null?void 0:U.toFixed(2))||"","  Status: ",k.status,k.portfolio_id&&s.jsxs(s.Fragment,{children:["  ",s.jsxs(ge,{to:`/portfolios/${k.portfolio_id}`,className:"mtd-portfolio-link",children:["Portfolio ",k.portfolio_id]})]})]}),k.type==="TRADE"&&s.jsxs(s.Fragment,{children:[k.side," ",k.quantity," @ ",(K=k.price)==null?void 0:K.toFixed(2)," ($",(G=k.notional)==null?void 0:G.toFixed(0),")",k.portfolio_id&&s.jsxs(s.Fragment,{children:["  ",s.jsxs(ge,{to:`/portfolios/${k.portfolio_id}`,className:"mtd-portfolio-link",children:["Portfolio ",k.portfolio_id]})]})]})]})]},E)})})]})]})]})}function dq(){var S,j;const[e,t]=p.useState(null),[r,n]=p.useState(!0),[i,a]=p.useState(null),[o,l]=p.useState(""),[u,c]=p.useState(""),[d,f]=p.useState(30),[h,m]=p.useState(null),v=p.useRef({});p.useEffect(()=>{let P=!1;n(!0),a(null);const k=new URLSearchParams;return k.set("window_bars",String(d)),o&&k.set("portfolio_id",o),u&&k.set("market_type",u),fetch(`${ae}/market-timeline/overview?${k.toString()}`).then(E=>E.ok?E.json():Promise.reject(new Error(E.statusText))).then(E=>{P||t(E)}).catch(E=>{P||a(E.message)}).finally(()=>{P||n(!1)}),()=>{P=!0}},[o,u,d]);const y=p.useMemo(()=>{if(!(e!=null&&e.symbols))return[];const P=new Set(e.symbols.map(k=>k.market_type).filter(Boolean));return Array.from(P).sort()},[e]),x=p.useCallback((P,k)=>{const E=`${k}-${P}`;h&&h.symbol===P&&h.market_type===k?m(null):m({symbol:P,market_type:k,key:E})},[h]),g=p.useCallback((P,k,E)=>{P.key==="Enter"||P.key===" "?(P.preventDefault(),x(k,E)):P.key==="Escape"&&h&&m(null)},[x,h]),w=p.useCallback((P,k)=>{v.current[P]=k},[]);if(r)return s.jsxs("div",{className:"market-timeline-page",children:[s.jsx("h1",{children:"Market Timeline"}),s.jsx(xr,{})]});if(i)return s.jsxs("div",{className:"market-timeline-page",children:[s.jsx("h1",{children:"Market Timeline"}),s.jsx(en,{message:i})]});const b=(e==null?void 0:e.symbols)??[],_=(e==null?void 0:e.window)??{};return s.jsxs("div",{className:"market-timeline-page",children:[s.jsx("h1",{children:"Market Timeline"}),s.jsx("p",{className:"market-timeline-subtitle",children:"End-to-end observability: signals  proposals  trades per symbol. Click a symbol to see the OHLC chart with event overlays and decision narrative."}),s.jsxs("div",{className:"market-timeline-filters",children:[s.jsxs("label",{children:["Portfolio:",s.jsxs("select",{value:o,onChange:P=>l(P.target.value),children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"1",children:"Portfolio 1"}),s.jsx("option",{value:"2",children:"Portfolio 2"})]})]}),s.jsxs("label",{children:["Market:",s.jsxs("select",{value:u,onChange:P=>c(P.target.value),children:[s.jsx("option",{value:"",children:"All"}),y.map(P=>s.jsx("option",{value:P,children:P},P))]})]}),s.jsxs("label",{children:["Window:",s.jsxs("select",{value:d,onChange:P=>f(Number(P.target.value)),children:[s.jsx("option",{value:30,children:"30 bars"}),s.jsx("option",{value:60,children:"60 bars"}),s.jsx("option",{value:90,children:"90 bars"}),s.jsx("option",{value:180,children:"180 bars"})]})]})]}),_.start_ts&&s.jsxs("p",{className:"market-timeline-window-info",children:["Showing ",_.bars," bars from ",(S=_.start_ts)==null?void 0:S.slice(0,10)," to ",(j=_.latest_ts)==null?void 0:j.slice(0,10)]}),s.jsxs("div",{className:"market-timeline-legend",children:[s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-signal",children:"S"})," Signals"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-proposal",children:"P"})," Proposals"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-trade",children:"T"})," Trades"]})]}),b.length===0?s.jsx(dt,{title:"No symbols found",message:"No market data in the selected window."}):s.jsx("div",{className:"market-timeline-grid",children:b.map(P=>{var X;const k=`${P.market_type}-${P.symbol}`,E=(h==null?void 0:h.key)===k,N=P.signal_count>0,T=P.proposal_count>0,O=P.trade_count>0,W=P.today_proposal_count>0,U=v.current[k];let K="tile-inactive";O?K="tile-executed":T?K="tile-proposed":N&&(K="tile-signals-only");const G=W?"tile-today-actionable":"";return s.jsxs(xd.Fragment,{children:[s.jsxs("div",{className:`market-timeline-tile ${K} ${G} ${E?"tile-expanded":""}`,onClick:()=>x(P.symbol,P.market_type),onKeyDown:A=>g(A,P.symbol,P.market_type),tabIndex:0,role:"button","aria-expanded":E,"aria-label":`${P.symbol} ${P.market_type}. Signals: ${P.signal_count}, Proposals: ${P.proposal_count}, Trades: ${P.trade_count}. Press Enter to ${E?"collapse":"expand"}.`,children:[s.jsxs("div",{className:"tile-header",children:[s.jsx("span",{className:"tile-symbol",children:P.symbol}),s.jsx("span",{className:"tile-market-type",children:P.market_type})]}),W&&s.jsx("span",{className:"tile-action-badge",children:"ACTION"}),P.trust_label&&s.jsx("span",{className:`tile-trust-badge trust-${(X=P.trust_label)==null?void 0:X.toLowerCase()}`,children:P.trust_label}),s.jsxs("div",{className:"tile-counts",children:[s.jsxs("span",{className:`count-badge count-signal ${N?"has-count":""}`,children:["S:",P.signal_count]}),s.jsxs("span",{className:`count-badge count-proposal ${T?"has-count":""}`,children:["P:",P.proposal_count]}),s.jsxs("span",{className:`count-badge count-trade ${O?"has-count":""}`,children:["T:",P.trade_count]})]}),s.jsx("div",{className:"tile-expand-icon",children:s.jsx("span",{className:E?"icon-open":"",children:""})})]}),E&&s.jsx("div",{className:"market-timeline-detail-row",children:s.jsx(cq,{symbol:P.symbol,marketType:P.market_type,portfolioId:o||null,windowBars:d*2,cachedData:U,onDataLoaded:A=>w(k,A),onClose:()=>m(null)})})]},k)})}),b.length>0&&s.jsx("div",{className:"market-timeline-summary",children:s.jsxs("p",{children:[s.jsx("strong",{children:b.length})," symbols ",s.jsxs("strong",{children:[" ",b.reduce((P,k)=>P+k.signal_count,0)]})," signals ",s.jsxs("strong",{children:[" ",b.reduce((P,k)=>P+k.proposal_count,0)]})," proposals ",s.jsxs("strong",{children:[" ",b.reduce((P,k)=>P+k.trade_count,0)]})," trades"]})})]})}const di={OK:"ok",DEGRADED:"degraded",DOWN:"down",LOADING:"loading"};function fq(){const[e,t]=p.useState(di.LOADING),[r,n]=p.useState(null);p.useEffect(()=>{let o=!1;return fetch(`${ae}/status`).then(l=>l.ok?l.json():Promise.reject(new Error(l.statusText))).then(l=>{o||(n(l.snowflake_message??null),l.api_ok&&l.snowflake_ok?t(di.OK):(l.api_ok&&l.snowflake_ok,t(di.DEGRADED)))}).catch(()=>{o||t(di.DOWN)}),()=>{o=!0}},[]);const i=r??"Data backend not reachable",a=e===di.OK?"All systems OK":e===di.DEGRADED?i:e===di.DOWN?"API not reachable":null;return a?s.jsxs("span",{className:`status-banner status-banner--${e}`,role:"status","aria-live":"polite","aria-label":a,children:[s.jsx("span",{className:"status-banner-dot","aria-hidden":"true"}),s.jsx("span",{className:"status-banner-label",children:a}),s.jsx(D,{scope:"ui",entryKey:"system_status",variant:"short"})]}):null}function hq(){const{explainMode:e,setExplainMode:t}=Pt();return s.jsxs("label",{className:"explain-mode-toggle",children:[s.jsx("input",{type:"checkbox",checked:e,onChange:()=>t(r=>!r),"aria-label":"Explain mode: show tooltips and helper callouts"}),s.jsx("span",{className:"explain-mode-label",children:"Explain"})]})}function pq(e,t){return e.glossaryKey&&t?{label:e.label,meaning:t.long??t.short??e.meaning,calc:e.calc??(t.calc||null)}:{label:e.label,meaning:e.meaning,calc:e.calc??null}}function mq(e,t){var n;const r=[];return r.push(`# ${e.title}
`),e.what&&r.push(`## What

`+e.what+`
`),e.why&&r.push(`## Why

`+e.why+`
`),e.how&&r.push(`## How

`+e.how+`
`),(n=e.sources)!=null&&n.length&&(r.push(`## Data sources

`),e.sources.forEach(i=>r.push(`- **${i.object}**: ${i.purpose}
`)),r.push(`
`)),t!=null&&t.length&&(r.push(`## Fields & calculations

`),t.forEach(i=>{r.push(`- **${i.label}**: ${i.meaning}`),i.calc&&r.push(`  - How computed: ${i.calc}`),r.push("")})),e.lastUpdated&&r.push(`
*Last updated: `+e.lastUpdated+`*
`),r.join(`
`)}function vq(){var d,f,h,m;const{explainMode:e}=Pt(),{isOpen:t,close:r,context:n}=nn(),[i,a]=p.useState(""),o=p.useMemo(()=>{const v=n.fields??[];if(!i.trim())return v;const y=i.trim().toLowerCase();return v.filter(x=>(x.label||"").toLowerCase().includes(y)||(x.key||"").toLowerCase().includes(y))},[n.fields,i]),l=p.useMemo(()=>o.map(v=>{const y=v.glossaryKey?Uv(v.glossaryKey):null,x=pq(v,y);return{...v,...x}}),[o]),u=p.useCallback(()=>{var y;const v=mq(n,l);(y=navigator.clipboard)==null||y.writeText(v).catch(()=>{})},[n,l]),c=p.useCallback(()=>{var x;const v=(n.sources??[]).map(g=>g.object).join("  "),y=v?`Data sources: ${v}`:"";y&&((x=navigator.clipboard)==null||x.writeText(y).catch(()=>{}))},[n.sources]);return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`explain-drawer-backdrop ${t?"explain-drawer-backdrop--open":""}`,onClick:r,onKeyDown:v=>v.key==="Escape"&&r(),role:"button",tabIndex:-1,"aria-label":"Close Explain drawer"}),s.jsx("aside",{className:`explain-drawer ${t?"explain-drawer--open":""}`,role:"dialog","aria-label":"Explain Center","aria-modal":"true",children:s.jsxs("div",{className:"explain-drawer-inner",children:[s.jsxs("header",{className:"explain-drawer-header",children:[s.jsx("h2",{className:"explain-drawer-title",children:n.title||"Explain"}),s.jsx("button",{type:"button",className:"explain-drawer-close",onClick:r,"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"explain-drawer-body",children:[n.what&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"What"}),s.jsx("p",{children:n.what})]}),n.why&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"Why"}),s.jsx("p",{children:n.why})]}),n.how&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"How"}),s.jsx("p",{children:n.how})]}),(((d=n.sources)==null?void 0:d.length)??0)>0&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"Data sources"}),s.jsx("p",{className:"explain-drawer-sources-copy",title:"Click to copy",children:s.jsx("button",{type:"button",className:"explain-drawer-sources-badge",onClick:c,title:"Copy data lineage",children:(n.sources??[]).map(v=>v.object).join("  ")})}),s.jsx("ul",{className:"explain-drawer-sources-list",children:(n.sources??[]).map((v,y)=>s.jsxs("li",{children:[s.jsx("strong",{children:v.object}),": ",v.purpose]},y))})]}),s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"Fields & calculations"}),(((f=n.fields)==null?void 0:f.length)??0)>0?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"search",className:"explain-drawer-search",placeholder:"Filter fields",value:i,onChange:v=>a(v.target.value),"aria-label":"Filter fields by name"}),s.jsx("ul",{className:"explain-drawer-fields",children:l.map((v,y)=>s.jsxs("li",{className:"explain-drawer-field",children:[s.jsx("strong",{children:v.label}),": ",v.meaning,v.calc&&s.jsxs("span",{className:"explain-drawer-field-calc",children:[" How computed: ",v.calc]})]},v.key||y))})]}):s.jsx("p",{className:"explain-drawer-empty",children:"No fields defined for this context."})]}),(n.what||((h=n.sources)==null?void 0:h.length)||((m=n.fields)==null?void 0:m.length))&&s.jsx("div",{className:"explain-drawer-actions",children:s.jsx("button",{type:"button",className:"explain-drawer-copy",onClick:u,title:"Copy full explanation as Markdown",children:"Copy as Markdown"})}),n.lastUpdated&&s.jsxs("p",{className:"explain-drawer-updated",children:["Last updated: ",n.lastUpdated]})]})]})})]}):null}const oj=220,gq=[{to:"/today",label:"Today"},{to:"/home",label:"Home"},{to:"/portfolios",label:"Portfolio"},{to:"/runs",label:"Runs (Audit)"},{to:"/brief",label:"Morning Brief"},{to:"/training",label:"Training Status"},{to:"/suggestions",label:"Suggestions"},{to:"/signals",label:"Signals"},{to:"/market-timeline",label:"Market Timeline"},{to:"/debug",label:"Debug"}];function yq(){const[e,t]=p.useState(!1),{explainMode:r}=Pt(),{open:n}=nn(),i=()=>t(!1);return s.jsxs("div",{className:"app-layout",children:[s.jsx("button",{type:"button",className:"app-layout-sidebar-toggle",onClick:()=>t(a=>!a),"aria-label":e?"Close menu":"Open menu","aria-expanded":e,children:s.jsxs("span",{className:"app-layout-hamburger","aria-hidden":"true",children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]})}),s.jsx("aside",{className:`app-layout-sidebar ${e?"app-layout-sidebar--open":""}`,style:{width:oj},"aria-label":"Main navigation",children:s.jsxs("div",{className:"app-layout-sidebar-inner",children:[s.jsx("h1",{className:"app-layout-title",children:s.jsx(v0,{to:"/",onClick:i,className:"app-layout-title-link",children:"MIP"})}),s.jsx("nav",{className:"app-layout-nav",children:gq.map(({to:a,label:o})=>s.jsx(v0,{to:a,end:a!=="/portfolios"&&a!=="/runs",className:({isActive:l})=>`app-layout-nav-link ${l?"app-layout-nav-link--active":""}`,onClick:i,children:o},a))})]})}),e&&s.jsx("div",{className:"app-layout-sidebar-backdrop",onClick:i,onKeyDown:a=>a.key==="Escape"&&i(),role:"button",tabIndex:0,"aria-label":"Close menu"}),s.jsxs("div",{className:"app-layout-main",style:{marginLeft:oj},children:[s.jsxs("header",{className:"app-layout-topbar",role:"banner",children:[s.jsxs("div",{className:"app-layout-topbar-left",children:[s.jsx(fq,{}),s.jsx(wM,{})]}),s.jsxs("div",{className:"app-layout-topbar-right",children:[r&&s.jsx("button",{type:"button",className:"explain-center-btn",onClick:n,"aria-label":"Open Explain Center",children:"Explain"}),s.jsx(hq,{})]})]}),s.jsx("main",{className:"app-layout-content page",role:"main",children:s.jsx(AI,{})})]}),s.jsx(vq,{})]})}const ae="/api";function xq(){return s.jsx(TI,{children:s.jsxs(Kt,{element:s.jsx(yq,{}),children:[s.jsx(Kt,{path:"/",element:s.jsx(OI,{to:"/today",replace:!0})}),s.jsx(Kt,{path:"/today",element:s.jsx(yM,{})}),s.jsx(Kt,{path:"/home",element:s.jsx(bM,{})}),s.jsx(Kt,{path:"/portfolios",element:s.jsx(nj,{})}),s.jsx(Kt,{path:"/portfolios/:portfolioId",element:s.jsx(nj,{})}),s.jsx(Kt,{path:"/runs",element:s.jsx(ij,{})}),s.jsx(Kt,{path:"/runs/:runId",element:s.jsx(ij,{})}),s.jsx(Kt,{path:"/brief",element:s.jsx(R9,{})}),s.jsx(Kt,{path:"/training",element:s.jsx(H9,{})}),s.jsx(Kt,{path:"/suggestions",element:s.jsx(rq,{})}),s.jsx(Kt,{path:"/signals",element:s.jsx(oq,{})}),s.jsx(Kt,{path:"/market-timeline",element:s.jsx(dq,{})}),s.jsx(Kt,{path:"/debug",element:s.jsx(sq,{})})]})})}const cA=p.createContext({portfolios:[],defaultPortfolioId:null,loading:!0,error:null});function wq({children:e}){const[t,r]=p.useState([]),[n,i]=p.useState(!0),[a,o]=p.useState(null);p.useEffect(()=>{let u=!1;return fetch(`${ae}/portfolios`).then(c=>c.ok?c.json():Promise.reject(new Error(c.statusText))).then(c=>{!u&&Array.isArray(c)&&r(c)}).catch(c=>{u||o(c.message)}).finally(()=>{u||i(!1)}),()=>{u=!0}},[]);const l=p.useMemo(()=>{const u=t.filter(f=>(f.STATUS||f.status||"").toUpperCase()==="ACTIVE"),c=u.length?u[0]:t[0],d=c!=null?c.PORTFOLIO_ID??c.portfolio_id??c.id:null;return{portfolios:t,defaultPortfolioId:d!=null?Number(d):null,loading:n,error:a}},[t,n,a]);return s.jsx(cA.Provider,{value:l,children:e})}function Fy(){const e=p.useContext(cA);if(!e)throw new Error("usePortfolios must be used within PortfolioProvider");return e}function By(){const{defaultPortfolioId:e}=Fy();return e??1}Hh.createRoot(document.getElementById("root")).render(s.jsx(xd.StrictMode,{children:s.jsx(BI,{children:s.jsx(m9,{children:s.jsx(qI,{defaultOn:!0,children:s.jsx(GI,{children:s.jsx(wq,{children:s.jsx(xq,{})})})})})})}));
