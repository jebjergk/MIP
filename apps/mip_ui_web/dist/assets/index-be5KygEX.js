var hA=Object.defineProperty;var pA=(e,t,r)=>t in e?hA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wf=(e,t,r)=>pA(e,typeof t!="symbol"?t+"":t,r);function mA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Zn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uj={exports:{}},yd={},cj={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),vA=Symbol.for("react.portal"),gA=Symbol.for("react.fragment"),yA=Symbol.for("react.strict_mode"),xA=Symbol.for("react.profiler"),wA=Symbol.for("react.provider"),bA=Symbol.for("react.context"),_A=Symbol.for("react.forward_ref"),jA=Symbol.for("react.suspense"),SA=Symbol.for("react.memo"),PA=Symbol.for("react.lazy"),rx=Symbol.iterator;function kA(e){return e===null||typeof e!="object"?null:(e=rx&&e[rx]||e["@@iterator"],typeof e=="function"?e:null)}var dj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fj=Object.assign,hj={};function Ao(e,t,r){this.props=e,this.context=t,this.refs=hj,this.updater=r||dj}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pj(){}pj.prototype=Ao.prototype;function Vm(e,t,r){this.props=e,this.context=t,this.refs=hj,this.updater=r||dj}var Gm=Vm.prototype=new pj;Gm.constructor=Vm;fj(Gm,Ao.prototype);Gm.isPureReactComponent=!0;var nx=Array.isArray,mj=Object.prototype.hasOwnProperty,qm={current:null},vj={key:!0,ref:!0,__self:!0,__source:!0};function gj(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)mj.call(t,n)&&!vj.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:fl,type:e,key:a,ref:o,props:i,_owner:qm.current}}function EA(e,t){return{$$typeof:fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ym(e){return typeof e=="object"&&e!==null&&e.$$typeof===fl}function NA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ix=/\/+/g;function Kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NA(""+e.key):t.toString(36)}function Eu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fl:case vA:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Kf(o,0):n,nx(i)?(r="",e!=null&&(r=e.replace(ix,"$&/")+"/"),Eu(i,t,r,"",function(c){return c})):i!=null&&(Ym(i)&&(i=EA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ix,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",nx(e))for(var l=0;l<e.length;l++){a=e[l];var u=n+Kf(a,l);o+=Eu(a,t,r,u,i)}else if(u=kA(e),typeof u=="function")for(e=u.call(e),l=0;!(a=e.next()).done;)a=a.value,u=n+Kf(a,l++),o+=Eu(a,t,r,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(e,t,r){if(e==null)return e;var n=[],i=0;return Eu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function OA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Nu={transition:null},AA={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:qm};function yj(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Bl,forEach:function(e,t,r){Bl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bl(e,function(){t++}),t},toArray:function(e){return Bl(e,function(t){return t})||[]},only:function(e){if(!Ym(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Ao;ue.Fragment=gA;ue.Profiler=xA;ue.PureComponent=Vm;ue.StrictMode=yA;ue.Suspense=jA;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AA;ue.act=yj;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fj({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=qm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)mj.call(t,u)&&!vj.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:fl,type:e.type,key:i,ref:a,props:n,_owner:o}};ue.createContext=function(e){return e={$$typeof:bA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wA,_context:e},e.Consumer=e};ue.createElement=gj;ue.createFactory=function(e){var t=gj.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:_A,render:e}};ue.isValidElement=Ym;ue.lazy=function(e){return{$$typeof:PA,_payload:{_status:-1,_result:e},_init:OA}};ue.memo=function(e,t){return{$$typeof:SA,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Nu.transition;Nu.transition={};try{e()}finally{Nu.transition=t}};ue.unstable_act=yj;ue.useCallback=function(e,t){return Xt.current.useCallback(e,t)};ue.useContext=function(e){return Xt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Xt.current.useEffect(e,t)};ue.useId=function(){return Xt.current.useId()};ue.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Xt.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};ue.useRef=function(e){return Xt.current.useRef(e)};ue.useState=function(e){return Xt.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return Xt.current.useTransition()};ue.version="18.3.1";cj.exports=ue;var p=cj.exports;const xd=Zn(p),xj=mA({__proto__:null,default:xd},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA=p,CA=Symbol.for("react.element"),IA=Symbol.for("react.fragment"),MA=Object.prototype.hasOwnProperty,DA=TA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RA={key:!0,ref:!0,__self:!0,__source:!0};function wj(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)MA.call(t,n)&&!RA.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:CA,type:e,key:a,ref:o,props:i,_owner:DA.current}}yd.Fragment=IA;yd.jsx=wj;yd.jsxs=wj;uj.exports=yd;var s=uj.exports,Gh={},bj={exports:{}},jr={},_j={exports:{}},jj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var F=A.length;A.push(L);e:for(;0<F;){var Q=F-1>>>1,J=A[Q];if(0<i(J,L))A[Q]=L,A[F]=J,F=Q;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var L=A[0],F=A.pop();if(F!==L){A[0]=F;e:for(var Q=0,J=A.length,ne=J>>>1;Q<ne;){var pe=2*(Q+1)-1,je=A[pe],be=pe+1,me=A[be];if(0>i(je,F))be<J&&0>i(me,je)?(A[Q]=me,A[be]=F,Q=be):(A[Q]=je,A[pe]=F,Q=pe);else if(be<J&&0>i(me,F))A[Q]=me,A[be]=F,Q=be;else break e}}return L}function i(A,L){var F=A.sortIndex-L.sortIndex;return F!==0?F:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,h=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=A)n(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=r(c)}}function _(A){if(y=!1,b(A),!v)if(r(u)!==null)v=!0,H(P);else{var L=r(c);L!==null&&X(_,L.startTime-A)}}function P(A,L){v=!1,y&&(y=!1,g(S),S=-1),m=!0;var F=h;try{for(b(L),f=r(u);f!==null&&(!(f.expirationTime>L)||A&&!C());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var J=Q(f.expirationTime<=L);L=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(u)&&n(u),b(L)}else n(u);f=r(u)}if(f!==null)var ne=!0;else{var pe=r(c);pe!==null&&X(_,pe.startTime-L),ne=!1}return ne}finally{f=null,h=F,m=!1}}var j=!1,k=null,S=-1,N=5,E=-1;function C(){return!(e.unstable_now()-E<N)}function O(){if(k!==null){var A=e.unstable_now();E=A;var L=!0;try{L=k(!0,A)}finally{L?W():(j=!1,k=null)}}else j=!1}var W;if(typeof w=="function")W=function(){w(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=O,W=function(){K.postMessage(null)}}else W=function(){x(O,0)};function H(A){k=A,j||(j=!0,W())}function X(A,L){S=x(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,H(P))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var F=h;h=L;try{return A()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=h;h=A;try{return L()}finally{h=F}},e.unstable_scheduleCallback=function(A,L,F){var Q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,A={id:d++,callback:L,priorityLevel:A,startTime:F,expirationTime:J,sortIndex:-1},F>Q?(A.sortIndex=F,t(c,A),r(u)===null&&A===r(c)&&(y?(g(S),S=-1):y=!0,X(_,F-Q))):(A.sortIndex=J,t(u,A),v||m||(v=!0,H(P))),A},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(A){var L=h;return function(){var F=h;h=L;try{return A.apply(this,arguments)}finally{h=F}}}})(jj);_j.exports=jj;var LA=_j.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=p,xr=LA;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sj=new Set,Ts={};function Sa(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(Ts[e]=t,e=0;e<t.length;e++)Sj.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qh=Object.prototype.hasOwnProperty,zA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ax={},ox={};function FA(e){return qh.call(ox,e)?!0:qh.call(ax,e)?!1:zA.test(e)?ox[e]=!0:(ax[e]=!0,!1)}function UA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BA(e,t,r,n){if(t===null||typeof t>"u"||UA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Qm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xm,Qm);Rt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xm,Qm);Rt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xm,Qm);Rt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zm(e,t,r,n){var i=Rt.hasOwnProperty(t)?Rt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BA(t,r,i,n)&&(r=null),n||i===null?FA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jn=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),Jm=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),Pj=Symbol.for("react.provider"),kj=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Qh=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),Ej=Symbol.for("react.offscreen"),sx=Symbol.iterator;function qo(e){return e===null||typeof e!="object"?null:(e=sx&&e[sx]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Hf;function fs(e){if(Hf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hf=t&&t[1]||""}return`
`+Hf+e}var Vf=!1;function Gf(e,t){if(!e||Vf)return"";Vf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Vf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fs(e):""}function WA(e){switch(e.tag){case 5:return fs(e.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return e=Gf(e.type,!1),e;case 11:return e=Gf(e.type.render,!1),e;case 1:return e=Gf(e.type,!0),e;default:return""}}function Zh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ka:return"Fragment";case Wa:return"Portal";case Yh:return"Profiler";case Jm:return"StrictMode";case Xh:return"Suspense";case Qh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kj:return(e.displayName||"Context")+".Consumer";case Pj:return(e._context.displayName||"Context")+".Provider";case ev:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tv:return t=e.displayName||null,t!==null?t:Zh(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return Zh(e(t))}catch{}}return null}function KA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zh(t);case 8:return t===Jm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HA(e){var t=Nj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=HA(e))}function Oj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Nj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jh(e,t){var r=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Di(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Aj(e,t){t=t.checked,t!=null&&Zm(e,"checked",t,!1)}function ep(e,t){Aj(e,t);var r=Di(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tp(e,t.type,r):t.hasOwnProperty("defaultValue")&&tp(e,t.type,Di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ux(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function tp(e,t,r){(t!=="number"||Gu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hs=Array.isArray;function io(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Di(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(hs(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Di(r)}}function Tj(e,t){var r=Di(t.value),n=Di(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function np(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,Ij=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VA=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){VA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function Mj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function Dj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Mj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var GA=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ip(e,t){if(t){if(GA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function ap(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=null;function rv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sp=null,ao=null,oo=null;function fx(e){if(e=ml(e)){if(typeof sp!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Sd(t),sp(e.stateNode,e.type,t))}}function Rj(e){ao?oo?oo.push(e):oo=[e]:ao=e}function Lj(){if(ao){var e=ao,t=oo;if(oo=ao=null,fx(e),t)for(e=0;e<t.length;e++)fx(t[e])}}function $j(e,t){return e(t)}function zj(){}var qf=!1;function Fj(e,t,r){if(qf)return e(t,r);qf=!0;try{return $j(e,t,r)}finally{qf=!1,(ao!==null||oo!==null)&&(zj(),Lj())}}function Is(e,t){var r=e.stateNode;if(r===null)return null;var n=Sd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var lp=!1;if(Fn)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{lp=!1}function qA(e,t,r,n,i,a,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var bs=!1,qu=null,Yu=!1,up=null,YA={onError:function(e){bs=!0,qu=e}};function XA(e,t,r,n,i,a,o,l,u){bs=!1,qu=null,qA.apply(YA,arguments)}function QA(e,t,r,n,i,a,o,l,u){if(XA.apply(this,arguments),bs){if(bs){var c=qu;bs=!1,qu=null}else throw Error(U(198));Yu||(Yu=!0,up=c)}}function Pa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Uj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hx(e){if(Pa(e)!==e)throw Error(U(188))}function ZA(e){var t=e.alternate;if(!t){if(t=Pa(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return hx(i),e;if(a===n)return hx(i),t;a=a.sibling}throw Error(U(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function Bj(e){return e=ZA(e),e!==null?Wj(e):null}function Wj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wj(e);if(t!==null)return t;e=e.sibling}return null}var Kj=xr.unstable_scheduleCallback,px=xr.unstable_cancelCallback,JA=xr.unstable_shouldYield,eT=xr.unstable_requestPaint,nt=xr.unstable_now,tT=xr.unstable_getCurrentPriorityLevel,nv=xr.unstable_ImmediatePriority,Hj=xr.unstable_UserBlockingPriority,Xu=xr.unstable_NormalPriority,rT=xr.unstable_LowPriority,Vj=xr.unstable_IdlePriority,wd=null,gn=null;function nT(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(wd,e,void 0,(e.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:oT,iT=Math.log,aT=Math.LN2;function oT(e){return e>>>=0,e===0?32:31-(iT(e)/aT|0)|0}var Vl=64,Gl=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=ps(l):(a&=o,a!==0&&(n=ps(a)))}else o=r&~i,o!==0?n=ps(o):a!==0&&(n=ps(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qr(t),i=1<<r,n|=e[r],t&=~i;return n}function sT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Qr(a),l=1<<o,u=i[o];u===-1?(!(l&r)||l&n)&&(i[o]=sT(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}function cp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gj(){var e=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),e}function Yf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qr(t),e[t]=r}function uT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Qr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function iv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ke=0;function qj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yj,av,Xj,Qj,Zj,dp=!1,ql=[],ji=null,Si=null,Pi=null,Ms=new Map,Ds=new Map,vi=[],cT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mx(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function Xo(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ml(t),t!==null&&av(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dT(e,t,r,n,i){switch(t){case"focusin":return ji=Xo(ji,e,t,r,n,i),!0;case"dragenter":return Si=Xo(Si,e,t,r,n,i),!0;case"mouseover":return Pi=Xo(Pi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ms.set(a,Xo(Ms.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ds.set(a,Xo(Ds.get(a)||null,e,t,r,n,i)),!0}return!1}function Jj(e){var t=Xi(e.target);if(t!==null){var r=Pa(t);if(r!==null){if(t=r.tag,t===13){if(t=Uj(r),t!==null){e.blockedOn=t,Zj(e.priority,function(){Xj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);op=n,r.target.dispatchEvent(n),op=null}else return t=ml(r),t!==null&&av(t),e.blockedOn=r,!1;t.shift()}return!0}function vx(e,t,r){Ou(e)&&r.delete(t)}function fT(){dp=!1,ji!==null&&Ou(ji)&&(ji=null),Si!==null&&Ou(Si)&&(Si=null),Pi!==null&&Ou(Pi)&&(Pi=null),Ms.forEach(vx),Ds.forEach(vx)}function Qo(e,t){e.blockedOn===t&&(e.blockedOn=null,dp||(dp=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,fT)))}function Rs(e){function t(i){return Qo(i,e)}if(0<ql.length){Qo(ql[0],e);for(var r=1;r<ql.length;r++){var n=ql[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ji!==null&&Qo(ji,e),Si!==null&&Qo(Si,e),Pi!==null&&Qo(Pi,e),Ms.forEach(t),Ds.forEach(t),r=0;r<vi.length;r++)n=vi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vi.length&&(r=vi[0],r.blockedOn===null);)Jj(r),r.blockedOn===null&&vi.shift()}var so=Jn.ReactCurrentBatchConfig,Zu=!0;function hT(e,t,r,n){var i=ke,a=so.transition;so.transition=null;try{ke=1,ov(e,t,r,n)}finally{ke=i,so.transition=a}}function pT(e,t,r,n){var i=ke,a=so.transition;so.transition=null;try{ke=4,ov(e,t,r,n)}finally{ke=i,so.transition=a}}function ov(e,t,r,n){if(Zu){var i=fp(e,t,r,n);if(i===null)ah(e,t,n,Ju,r),mx(e,n);else if(dT(i,e,t,r,n))n.stopPropagation();else if(mx(e,n),t&4&&-1<cT.indexOf(e)){for(;i!==null;){var a=ml(i);if(a!==null&&Yj(a),a=fp(e,t,r,n),a===null&&ah(e,t,n,Ju,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ah(e,t,n,null,r)}}var Ju=null;function fp(e,t,r,n){if(Ju=null,e=rv(n),e=Xi(e),e!==null)if(t=Pa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Uj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ju=e,null}function eS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tT()){case nv:return 1;case Hj:return 4;case Xu:case rT:return 16;case Vj:return 536870912;default:return 16}default:return 16}}var xi=null,sv=null,Au=null;function tS(){if(Au)return Au;var e,t=sv,r=t.length,n,i="value"in xi?xi.value:xi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Au=i.slice(e,1<n?1-n:void 0)}function Tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function gx(){return!1}function Sr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yl:gx,this.isPropagationStopped=gx,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=Sr(To),pl=Xe({},To,{view:0,detail:0}),mT=Sr(pl),Xf,Qf,Zo,bd=Xe({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zo&&(Zo&&e.type==="mousemove"?(Xf=e.screenX-Zo.screenX,Qf=e.screenY-Zo.screenY):Qf=Xf=0,Zo=e),Xf)},movementY:function(e){return"movementY"in e?e.movementY:Qf}}),yx=Sr(bd),vT=Xe({},bd,{dataTransfer:0}),gT=Sr(vT),yT=Xe({},pl,{relatedTarget:0}),Zf=Sr(yT),xT=Xe({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),wT=Sr(xT),bT=Xe({},To,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_T=Sr(bT),jT=Xe({},To,{data:0}),xx=Sr(jT),ST={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ET(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kT[e])?!!t[e]:!1}function uv(){return ET}var NT=Xe({},pl,{key:function(e){if(e.key){var t=ST[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(e){return e.type==="keypress"?Tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OT=Sr(NT),AT=Xe({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wx=Sr(AT),TT=Xe({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),CT=Sr(TT),IT=Xe({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),MT=Sr(IT),DT=Xe({},bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=Sr(DT),LT=[9,13,27,32],cv=Fn&&"CompositionEvent"in window,_s=null;Fn&&"documentMode"in document&&(_s=document.documentMode);var $T=Fn&&"TextEvent"in window&&!_s,rS=Fn&&(!cv||_s&&8<_s&&11>=_s),bx=" ",_x=!1;function nS(e,t){switch(e){case"keyup":return LT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function zT(e,t){switch(e){case"compositionend":return iS(t);case"keypress":return t.which!==32?null:(_x=!0,bx);case"textInput":return e=t.data,e===bx&&_x?null:e;default:return null}}function FT(e,t){if(Ha)return e==="compositionend"||!cv&&nS(e,t)?(e=tS(),Au=sv=xi=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rS&&t.locale!=="ko"?null:t.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UT[e.type]:t==="textarea"}function aS(e,t,r,n){Rj(n),t=ec(t,"onChange"),0<t.length&&(r=new lv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var js=null,Ls=null;function BT(e){vS(e,0)}function _d(e){var t=qa(e);if(Oj(t))return e}function WT(e,t){if(e==="change")return t}var oS=!1;if(Fn){var Jf;if(Fn){var eh="oninput"in document;if(!eh){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),eh=typeof Sx.oninput=="function"}Jf=eh}else Jf=!1;oS=Jf&&(!document.documentMode||9<document.documentMode)}function Px(){js&&(js.detachEvent("onpropertychange",sS),Ls=js=null)}function sS(e){if(e.propertyName==="value"&&_d(Ls)){var t=[];aS(t,Ls,e,rv(e)),Fj(BT,t)}}function KT(e,t,r){e==="focusin"?(Px(),js=t,Ls=r,js.attachEvent("onpropertychange",sS)):e==="focusout"&&Px()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(Ls)}function VT(e,t){if(e==="click")return _d(t)}function GT(e,t){if(e==="input"||e==="change")return _d(t)}function qT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:qT;function $s(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!qh.call(t,i)||!en(e[i],t[i]))return!1}return!0}function kx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ex(e,t){var r=kx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kx(r)}}function lS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uS(){for(var e=window,t=Gu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gu(e.document)}return t}function dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YT(e){var t=uS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&lS(r.ownerDocument.documentElement,r)){if(n!==null&&dv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Ex(r,a);var o=Ex(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XT=Fn&&"documentMode"in document&&11>=document.documentMode,Va=null,hp=null,Ss=null,pp=!1;function Nx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pp||Va==null||Va!==Gu(n)||(n=Va,"selectionStart"in n&&dv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ss&&$s(Ss,n)||(Ss=n,n=ec(hp,"onSelect"),0<n.length&&(t=new lv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Va)))}function Xl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ga={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},th={},cS={};Fn&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function jd(e){if(th[e])return th[e];if(!Ga[e])return e;var t=Ga[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cS)return th[e]=t[r];return e}var dS=jd("animationend"),fS=jd("animationiteration"),hS=jd("animationstart"),pS=jd("transitionend"),mS=new Map,Ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(e,t){mS.set(e,t),Sa(t,[e])}for(var rh=0;rh<Ox.length;rh++){var nh=Ox[rh],QT=nh.toLowerCase(),ZT=nh[0].toUpperCase()+nh.slice(1);zi(QT,"on"+ZT)}zi(dS,"onAnimationEnd");zi(fS,"onAnimationIteration");zi(hS,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(pS,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function Ax(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,QA(n,t,void 0,e),e.currentTarget=null}function vS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&i.isPropagationStopped())break e;Ax(i,l,c),a=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&i.isPropagationStopped())break e;Ax(i,l,c),a=u}}}if(Yu)throw e=up,Yu=!1,up=null,e}function Le(e,t){var r=t[xp];r===void 0&&(r=t[xp]=new Set);var n=e+"__bubble";r.has(n)||(gS(t,e,2,!1),r.add(n))}function ih(e,t,r){var n=0;t&&(n|=4),gS(r,e,n,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[Ql]){e[Ql]=!0,Sj.forEach(function(r){r!=="selectionchange"&&(JT.has(r)||ih(r,!1,e),ih(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,ih("selectionchange",!1,t))}}function gS(e,t,r,n){switch(eS(t)){case 1:var i=hT;break;case 4:i=pT;break;default:i=ov}r=i.bind(null,t,r,e),i=void 0,!lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ah(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Xi(l),o===null)return;if(u=o.tag,u===5||u===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Fj(function(){var c=a,d=rv(r),f=[];e:{var h=mS.get(e);if(h!==void 0){var m=lv,v=e;switch(e){case"keypress":if(Tu(r)===0)break e;case"keydown":case"keyup":m=OT;break;case"focusin":v="focus",m=Zf;break;case"focusout":v="blur",m=Zf;break;case"beforeblur":case"afterblur":m=Zf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CT;break;case dS:case fS:case hS:m=wT;break;case pS:m=MT;break;case"scroll":m=mT;break;case"wheel":m=RT;break;case"copy":case"cut":case"paste":m=_T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wx}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=Is(w,g),_!=null&&y.push(Fs(w,_,b)))),x)break;w=w.return}0<y.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==op&&(v=r.relatedTarget||r.fromElement)&&(Xi(v)||v[Un]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=c,v=v?Xi(v):null,v!==null&&(x=Pa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=yx,_="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=wx,_="onPointerLeave",g="onPointerEnter",w="pointer"),x=m==null?h:qa(m),b=v==null?h:qa(v),h=new y(_,w+"leave",m,r,d),h.target=x,h.relatedTarget=b,_=null,Xi(d)===c&&(y=new y(g,w+"enter",v,r,d),y.target=b,y.relatedTarget=x,_=y),x=_,m&&v)t:{for(y=m,g=v,w=0,b=y;b;b=Da(b))w++;for(b=0,_=g;_;_=Da(_))b++;for(;0<w-b;)y=Da(y),w--;for(;0<b-w;)g=Da(g),b--;for(;w--;){if(y===g||g!==null&&y===g.alternate)break t;y=Da(y),g=Da(g)}y=null}else y=null;m!==null&&Tx(f,h,m,y,!1),v!==null&&x!==null&&Tx(f,x,v,y,!0)}}e:{if(h=c?qa(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var P=WT;else if(jx(h))if(oS)P=GT;else{P=HT;var j=KT}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=VT);if(P&&(P=P(e,c))){aS(f,P,r,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&tp(h,"number",h.value)}switch(j=c?qa(c):window,e){case"focusin":(jx(j)||j.contentEditable==="true")&&(Va=j,hp=c,Ss=null);break;case"focusout":Ss=hp=Va=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,Nx(f,r,d);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Nx(f,r,d)}var k;if(cv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ha?nS(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(rS&&r.locale!=="ko"&&(Ha||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ha&&(k=tS()):(xi=d,sv="value"in xi?xi.value:xi.textContent,Ha=!0)),j=ec(c,S),0<j.length&&(S=new xx(S,e,null,r,d),f.push({event:S,listeners:j}),k?S.data=k:(k=iS(r),k!==null&&(S.data=k)))),(k=$T?zT(e,r):FT(e,r))&&(c=ec(c,"onBeforeInput"),0<c.length&&(d=new xx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=k))}vS(f,t)})}function Fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ec(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Is(e,r),a!=null&&n.unshift(Fs(e,a,i)),a=Is(e,t),a!=null&&n.push(Fs(e,a,i))),e=e.return}return n}function Da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tx(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,i?(u=Is(r,a),u!=null&&o.unshift(Fs(r,u,l))):i||(u=Is(r,a),u!=null&&o.push(Fs(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var eC=/\r\n?/g,tC=/\u0000|\uFFFD/g;function Cx(e){return(typeof e=="string"?e:""+e).replace(eC,`
`).replace(tC,"")}function Zl(e,t,r){if(t=Cx(t),Cx(e)!==t&&r)throw Error(U(425))}function tc(){}var mp=null,vp=null;function gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,rC=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,nC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(e){return Ix.resolve(null).then(e).catch(iC)}:yp;function iC(e){setTimeout(function(){throw e})}function oh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rs(t)}function ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Co=Math.random().toString(36).slice(2),pn="__reactFiber$"+Co,Us="__reactProps$"+Co,Un="__reactContainer$"+Co,xp="__reactEvents$"+Co,aC="__reactListeners$"+Co,oC="__reactHandles$"+Co;function Xi(e){var t=e[pn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Un]||r[pn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mx(e);e!==null;){if(r=e[pn])return r;e=Mx(e)}return t}e=r,r=e.parentNode}return null}function ml(e){return e=e[pn]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Sd(e){return e[Us]||null}var wp=[],Ya=-1;function Fi(e){return{current:e}}function ze(e){0>Ya||(e.current=wp[Ya],wp[Ya]=null,Ya--)}function Re(e,t){Ya++,wp[Ya]=e.current,e.current=t}var Ri={},Bt=Fi(Ri),or=Fi(!1),da=Ri;function po(e,t){var r=e.type.contextTypes;if(!r)return Ri;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sr(e){return e=e.childContextTypes,e!=null}function rc(){ze(or),ze(Bt)}function Dx(e,t,r){if(Bt.current!==Ri)throw Error(U(168));Re(Bt,t),Re(or,r)}function yS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(U(108,KA(e)||"Unknown",i));return Xe({},r,n)}function nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,da=Bt.current,Re(Bt,e),Re(or,or.current),!0}function Rx(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=yS(e,t,da),n.__reactInternalMemoizedMergedChildContext=e,ze(or),ze(Bt),Re(Bt,e)):ze(or),Re(or,r)}var An=null,Pd=!1,sh=!1;function xS(e){An===null?An=[e]:An.push(e)}function sC(e){Pd=!0,xS(e)}function Ui(){if(!sh&&An!==null){sh=!0;var e=0,t=ke;try{var r=An;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}An=null,Pd=!1}catch(i){throw An!==null&&(An=An.slice(e+1)),Kj(nv,Ui),i}finally{ke=t,sh=!1}}return null}var Xa=[],Qa=0,ic=null,ac=0,Or=[],Ar=0,fa=null,In=1,Mn="";function Hi(e,t){Xa[Qa++]=ac,Xa[Qa++]=ic,ic=e,ac=t}function wS(e,t,r){Or[Ar++]=In,Or[Ar++]=Mn,Or[Ar++]=fa,fa=e;var n=In;e=Mn;var i=32-Qr(n)-1;n&=~(1<<i),r+=1;var a=32-Qr(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,In=1<<32-Qr(t)+i|r<<i|n,Mn=a+e}else In=1<<a|r<<i|n,Mn=e}function fv(e){e.return!==null&&(Hi(e,1),wS(e,1,0))}function hv(e){for(;e===ic;)ic=Xa[--Qa],Xa[Qa]=null,ac=Xa[--Qa],Xa[Qa]=null;for(;e===fa;)fa=Or[--Ar],Or[Ar]=null,Mn=Or[--Ar],Or[Ar]=null,In=Or[--Ar],Or[Ar]=null}var gr=null,pr=null,We=!1,Hr=null;function bS(e,t){var r=Tr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,pr=ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fa!==null?{id:In,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gr=e,pr=null,!0):!1;default:return!1}}function bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _p(e){if(We){var t=pr;if(t){var r=t;if(!Lx(e,t)){if(bp(e))throw Error(U(418));t=ki(r.nextSibling);var n=gr;t&&Lx(e,t)?bS(n,r):(e.flags=e.flags&-4097|2,We=!1,gr=e)}}else{if(bp(e))throw Error(U(418));e.flags=e.flags&-4097|2,We=!1,gr=e}}}function $x(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function Jl(e){if(e!==gr)return!1;if(!We)return $x(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gp(e.type,e.memoizedProps)),t&&(t=pr)){if(bp(e))throw _S(),Error(U(418));for(;t;)bS(e,t),t=ki(t.nextSibling)}if($x(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pr=ki(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=gr?ki(e.stateNode.nextSibling):null;return!0}function _S(){for(var e=pr;e;)e=ki(e.nextSibling)}function mo(){pr=gr=null,We=!1}function pv(e){Hr===null?Hr=[e]:Hr.push(e)}var lC=Jn.ReactCurrentBatchConfig;function Jo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function eu(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zx(e){var t=e._init;return t(e._payload)}function jS(e){function t(g,w){if(e){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function r(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Ai(g,w),g.index=0,g.sibling=null,g}function a(g,w,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,w,b,_){return w===null||w.tag!==6?(w=ph(b,g.mode,_),w.return=g,w):(w=i(w,b),w.return=g,w)}function u(g,w,b,_){var P=b.type;return P===Ka?d(g,w,b.props.children,_,b.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fi&&zx(P)===w.type)?(_=i(w,b.props),_.ref=Jo(g,w,b),_.return=g,_):(_=$u(b.type,b.key,b.props,null,g.mode,_),_.ref=Jo(g,w,b),_.return=g,_)}function c(g,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=mh(b,g.mode,_),w.return=g,w):(w=i(w,b.children||[]),w.return=g,w)}function d(g,w,b,_,P){return w===null||w.tag!==7?(w=aa(b,g.mode,_,P),w.return=g,w):(w=i(w,b),w.return=g,w)}function f(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ph(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wl:return b=$u(w.type,w.key,w.props,null,g.mode,b),b.ref=Jo(g,null,w),b.return=g,b;case Wa:return w=mh(w,g.mode,b),w.return=g,w;case fi:var _=w._init;return f(g,_(w._payload),b)}if(hs(w)||qo(w))return w=aa(w,g.mode,b,null),w.return=g,w;eu(g,w)}return null}function h(g,w,b,_){var P=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:l(g,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wl:return b.key===P?u(g,w,b,_):null;case Wa:return b.key===P?c(g,w,b,_):null;case fi:return P=b._init,h(g,w,P(b._payload),_)}if(hs(b)||qo(b))return P!==null?null:d(g,w,b,_,null);eu(g,b)}return null}function m(g,w,b,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,l(w,g,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wl:return g=g.get(_.key===null?b:_.key)||null,u(w,g,_,P);case Wa:return g=g.get(_.key===null?b:_.key)||null,c(w,g,_,P);case fi:var j=_._init;return m(g,w,b,j(_._payload),P)}if(hs(_)||qo(_))return g=g.get(b)||null,d(w,g,_,P,null);eu(w,_)}return null}function v(g,w,b,_){for(var P=null,j=null,k=w,S=w=0,N=null;k!==null&&S<b.length;S++){k.index>S?(N=k,k=null):N=k.sibling;var E=h(g,k,b[S],_);if(E===null){k===null&&(k=N);break}e&&k&&E.alternate===null&&t(g,k),w=a(E,w,S),j===null?P=E:j.sibling=E,j=E,k=N}if(S===b.length)return r(g,k),We&&Hi(g,S),P;if(k===null){for(;S<b.length;S++)k=f(g,b[S],_),k!==null&&(w=a(k,w,S),j===null?P=k:j.sibling=k,j=k);return We&&Hi(g,S),P}for(k=n(g,k);S<b.length;S++)N=m(k,g,S,b[S],_),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?S:N.key),w=a(N,w,S),j===null?P=N:j.sibling=N,j=N);return e&&k.forEach(function(C){return t(g,C)}),We&&Hi(g,S),P}function y(g,w,b,_){var P=qo(b);if(typeof P!="function")throw Error(U(150));if(b=P.call(b),b==null)throw Error(U(151));for(var j=P=null,k=w,S=w=0,N=null,E=b.next();k!==null&&!E.done;S++,E=b.next()){k.index>S?(N=k,k=null):N=k.sibling;var C=h(g,k,E.value,_);if(C===null){k===null&&(k=N);break}e&&k&&C.alternate===null&&t(g,k),w=a(C,w,S),j===null?P=C:j.sibling=C,j=C,k=N}if(E.done)return r(g,k),We&&Hi(g,S),P;if(k===null){for(;!E.done;S++,E=b.next())E=f(g,E.value,_),E!==null&&(w=a(E,w,S),j===null?P=E:j.sibling=E,j=E);return We&&Hi(g,S),P}for(k=n(g,k);!E.done;S++,E=b.next())E=m(k,g,S,E.value,_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?S:E.key),w=a(E,w,S),j===null?P=E:j.sibling=E,j=E);return e&&k.forEach(function(O){return t(g,O)}),We&&Hi(g,S),P}function x(g,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Ka&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wl:e:{for(var P=b.key,j=w;j!==null;){if(j.key===P){if(P=b.type,P===Ka){if(j.tag===7){r(g,j.sibling),w=i(j,b.props.children),w.return=g,g=w;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fi&&zx(P)===j.type){r(g,j.sibling),w=i(j,b.props),w.ref=Jo(g,j,b),w.return=g,g=w;break e}r(g,j);break}else t(g,j);j=j.sibling}b.type===Ka?(w=aa(b.props.children,g.mode,_,b.key),w.return=g,g=w):(_=$u(b.type,b.key,b.props,null,g.mode,_),_.ref=Jo(g,w,b),_.return=g,g=_)}return o(g);case Wa:e:{for(j=b.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(g,w.sibling),w=i(w,b.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else t(g,w);w=w.sibling}w=mh(b,g.mode,_),w.return=g,g=w}return o(g);case fi:return j=b._init,x(g,w,j(b._payload),_)}if(hs(b))return v(g,w,b,_);if(qo(b))return y(g,w,b,_);eu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(g,w.sibling),w=i(w,b),w.return=g,g=w):(r(g,w),w=ph(b,g.mode,_),w.return=g,g=w),o(g)):r(g,w)}return x}var vo=jS(!0),SS=jS(!1),oc=Fi(null),sc=null,Za=null,mv=null;function vv(){mv=Za=sc=null}function gv(e){var t=oc.current;ze(oc),e._currentValue=t}function jp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function lo(e,t){sc=e,mv=Za=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(mv!==e)if(e={context:e,memoizedValue:t,next:null},Za===null){if(sc===null)throw Error(U(308));Za=e,sc.dependencies={lanes:0,firstContext:e}}else Za=Za.next=e;return t}var Qi=null;function yv(e){Qi===null?Qi=[e]:Qi.push(e)}function PS(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,yv(t)):(r.next=i.next,i.next=r),t.interleaved=r,Bn(e,n)}function Bn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hi=!1;function xv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Bn(e,r)}return i=n.interleaved,i===null?(t.next=t,yv(n)):(t.next=i.next,i.next=t),n.interleaved=t,Bn(e,r)}function Cu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iv(e,r)}}function Fx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lc(e,t,r,n){var i=e.updateQueue;hi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?a=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;o=0,d=c=u=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(h=t,m=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Xe({},f,h);break e;case 2:hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);pa|=o,e.lanes=o,e.memoizedState=f}}function Ux(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(U(191,i));i.call(n)}}}var vl={},yn=Fi(vl),Bs=Fi(vl),Ws=Fi(vl);function Zi(e){if(e===vl)throw Error(U(174));return e}function wv(e,t){switch(Re(Ws,t),Re(Bs,e),Re(yn,vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:np(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=np(t,e)}ze(yn),Re(yn,t)}function go(){ze(yn),ze(Bs),ze(Ws)}function ES(e){Zi(Ws.current);var t=Zi(yn.current),r=np(t,e.type);t!==r&&(Re(Bs,e),Re(yn,r))}function bv(e){Bs.current===e&&(ze(yn),ze(Bs))}var Ge=Fi(0);function uc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lh=[];function _v(){for(var e=0;e<lh.length;e++)lh[e]._workInProgressVersionPrimary=null;lh.length=0}var Iu=Jn.ReactCurrentDispatcher,uh=Jn.ReactCurrentBatchConfig,ha=0,qe=null,lt=null,_t=null,cc=!1,Ps=!1,Ks=0,uC=0;function Lt(){throw Error(U(321))}function jv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!en(e[r],t[r]))return!1;return!0}function Sv(e,t,r,n,i,a){if(ha=a,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iu.current=e===null||e.memoizedState===null?hC:pC,e=r(n,i),Ps){a=0;do{if(Ps=!1,Ks=0,25<=a)throw Error(U(301));a+=1,_t=lt=null,t.updateQueue=null,Iu.current=mC,e=r(n,i)}while(Ps)}if(Iu.current=dc,t=lt!==null&&lt.next!==null,ha=0,_t=lt=qe=null,cc=!1,t)throw Error(U(300));return e}function Pv(){var e=Ks!==0;return Ks=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?qe.memoizedState=_t=e:_t=_t.next=e,_t}function Rr(){if(lt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=_t===null?qe.memoizedState:_t.next;if(t!==null)_t=t,lt=e;else{if(e===null)throw Error(U(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},_t===null?qe.memoizedState=_t=e:_t=_t.next=e}return _t}function Hs(e,t){return typeof t=="function"?t(e):t}function ch(e){var t=Rr(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=lt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,u=null,c=a;do{var d=c.lane;if((ha&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=n):u=u.next=f,qe.lanes|=d,pa|=d}c=c.next}while(c!==null&&c!==a);u===null?o=n:u.next=l,en(n,t.memoizedState)||(tr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,qe.lanes|=a,pa|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dh(e){var t=Rr(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);en(a,t.memoizedState)||(tr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function NS(){}function OS(e,t){var r=qe,n=Rr(),i=t(),a=!en(n.memoizedState,i);if(a&&(n.memoizedState=i,tr=!0),n=n.queue,kv(CS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,Vs(9,TS.bind(null,r,n,i,t),void 0,null),jt===null)throw Error(U(349));ha&30||AS(r,t,i)}return i}function AS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TS(e,t,r,n){t.value=r,t.getSnapshot=n,IS(t)&&MS(e)}function CS(e,t,r){return r(function(){IS(t)&&MS(e)})}function IS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!en(e,r)}catch{return!0}}function MS(e){var t=Bn(e,1);t!==null&&Zr(t,e,1,-1)}function Bx(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t.queue=e,e=e.dispatch=fC.bind(null,qe,e),[t.memoizedState,e]}function Vs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function DS(){return Rr().memoizedState}function Mu(e,t,r,n){var i=fn();qe.flags|=e,i.memoizedState=Vs(1|t,r,void 0,n===void 0?null:n)}function kd(e,t,r,n){var i=Rr();n=n===void 0?null:n;var a=void 0;if(lt!==null){var o=lt.memoizedState;if(a=o.destroy,n!==null&&jv(n,o.deps)){i.memoizedState=Vs(t,r,a,n);return}}qe.flags|=e,i.memoizedState=Vs(1|t,r,a,n)}function Wx(e,t){return Mu(8390656,8,e,t)}function kv(e,t){return kd(2048,8,e,t)}function RS(e,t){return kd(4,2,e,t)}function LS(e,t){return kd(4,4,e,t)}function $S(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zS(e,t,r){return r=r!=null?r.concat([e]):null,kd(4,4,$S.bind(null,t,e),r)}function Ev(){}function FS(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function US(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function BS(e,t,r){return ha&21?(en(r,t)||(r=Gj(),qe.lanes|=r,pa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=r)}function cC(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=uh.transition;uh.transition={};try{e(!1),t()}finally{ke=r,uh.transition=n}}function WS(){return Rr().memoizedState}function dC(e,t,r){var n=Oi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KS(e))HS(t,r);else if(r=PS(e,t,r,n),r!==null){var i=qt();Zr(r,e,n,i),VS(r,t,n)}}function fC(e,t,r){var n=Oi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KS(e))HS(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,en(l,o)){var u=t.interleaved;u===null?(i.next=i,yv(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=PS(e,t,i,n),r!==null&&(i=qt(),Zr(r,e,n,i),VS(r,t,n))}}function KS(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function HS(e,t){Ps=cc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function VS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iv(e,r)}}var dc={readContext:Dr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},hC={readContext:Dr,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:Wx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Mu(4194308,4,$S.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mu(4,2,e,t)},useMemo:function(e,t){var r=fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dC.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Bx,useDebugValue:Ev,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Bx(!1),t=e[0];return e=cC.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,i=fn();if(We){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),jt===null)throw Error(U(349));ha&30||AS(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Wx(CS.bind(null,n,a,e),[e]),n.flags|=2048,Vs(9,TS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=fn(),t=jt.identifierPrefix;if(We){var r=Mn,n=In;r=(n&~(1<<32-Qr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ks++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pC={readContext:Dr,useCallback:FS,useContext:Dr,useEffect:kv,useImperativeHandle:zS,useInsertionEffect:RS,useLayoutEffect:LS,useMemo:US,useReducer:ch,useRef:DS,useState:function(){return ch(Hs)},useDebugValue:Ev,useDeferredValue:function(e){var t=Rr();return BS(t,lt.memoizedState,e)},useTransition:function(){var e=ch(Hs)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:NS,useSyncExternalStore:OS,useId:WS,unstable_isNewReconciler:!1},mC={readContext:Dr,useCallback:FS,useContext:Dr,useEffect:kv,useImperativeHandle:zS,useInsertionEffect:RS,useLayoutEffect:LS,useMemo:US,useReducer:dh,useRef:DS,useState:function(){return dh(Hs)},useDebugValue:Ev,useDeferredValue:function(e){var t=Rr();return lt===null?t.memoizedState=e:BS(t,lt.memoizedState,e)},useTransition:function(){var e=dh(Hs)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:NS,useSyncExternalStore:OS,useId:WS,unstable_isNewReconciler:!1};function Wr(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ed={isMounted:function(e){return(e=e._reactInternals)?Pa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qt(),i=Oi(e),a=Ln(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ei(e,a,i),t!==null&&(Zr(t,e,i,n),Cu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qt(),i=Oi(e),a=Ln(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ei(e,a,i),t!==null&&(Zr(t,e,i,n),Cu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qt(),n=Oi(e),i=Ln(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ei(e,i,n),t!==null&&(Zr(t,e,n,r),Cu(t,e,n))}};function Kx(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!$s(r,n)||!$s(i,a):!0}function GS(e,t,r){var n=!1,i=Ri,a=t.contextType;return typeof a=="object"&&a!==null?a=Dr(a):(i=sr(t)?da:Bt.current,n=t.contextTypes,a=(n=n!=null)?po(e,i):Ri),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ed,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Hx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ed.enqueueReplaceState(t,t.state,null)}function Pp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},xv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Dr(a):(a=sr(t)?da:Bt.current,i.context=po(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Sp(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ed.enqueueReplaceState(i,i.state,null),lc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var r="",n=t;do r+=WA(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function fh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function kp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vC=typeof WeakMap=="function"?WeakMap:Map;function qS(e,t,r){r=Ln(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hc||(hc=!0,Rp=n),kp(e,t)},r}function YS(e,t,r){r=Ln(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){kp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){kp(e,t),typeof n!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Vx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vC;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=AC.bind(null,e,t,r),t.then(e,e))}function Gx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qx(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ln(-1,1),t.tag=2,Ei(r,t,1))),r.lanes|=1),e)}var gC=Jn.ReactCurrentOwner,tr=!1;function Ht(e,t,r,n){t.child=e===null?SS(t,null,r,n):vo(t,e.child,r,n)}function Yx(e,t,r,n,i){r=r.render;var a=t.ref;return lo(t,i),n=Sv(e,t,r,n,a,i),r=Pv(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(We&&r&&fv(t),t.flags|=1,Ht(e,t,n,i),t.child)}function Xx(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Dv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,XS(e,t,a,n,i)):(e=$u(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(o,n)&&e.ref===t.ref)return Wn(e,t,i)}return t.flags|=1,e=Ai(a,n),e.ref=t.ref,e.return=t,t.child=e}function XS(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if($s(a,n)&&e.ref===t.ref)if(tr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,Wn(e,t,i)}return Ep(e,t,r,n,i)}function QS(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(eo,fr),fr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(eo,fr),fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Re(eo,fr),fr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Re(eo,fr),fr|=n;return Ht(e,t,i,r),t.child}function ZS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ep(e,t,r,n,i){var a=sr(r)?da:Bt.current;return a=po(t,a),lo(t,i),r=Sv(e,t,r,n,a,i),n=Pv(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(We&&n&&fv(t),t.flags|=1,Ht(e,t,r,i),t.child)}function Qx(e,t,r,n,i){if(sr(r)){var a=!0;nc(t)}else a=!1;if(lo(t,i),t.stateNode===null)Du(e,t),GS(t,r,n),Pp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Dr(c):(c=sr(r)?da:Bt.current,c=po(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Hx(t,o,n,c),hi=!1;var h=t.memoizedState;o.state=h,lc(t,n,o,i),u=t.memoizedState,l!==n||h!==u||or.current||hi?(typeof d=="function"&&(Sp(t,r,d,n),u=t.memoizedState),(l=hi||Kx(t,r,l,n,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,kS(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Wr(t.type,l),o.props=c,f=t.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Dr(u):(u=sr(r)?da:Bt.current,u=po(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Hx(t,o,n,u),hi=!1,h=t.memoizedState,o.state=h,lc(t,n,o,i);var v=t.memoizedState;l!==f||h!==v||or.current||hi?(typeof m=="function"&&(Sp(t,r,m,n),v=t.memoizedState),(c=hi||Kx(t,r,c,n,h,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Np(e,t,r,n,a,i)}function Np(e,t,r,n,i,a){ZS(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Rx(t,r,!1),Wn(e,t,a);n=t.stateNode,gC.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vo(t,e.child,null,a),t.child=vo(t,null,l,a)):Ht(e,t,l,a),t.memoizedState=n.state,i&&Rx(t,r,!0),t.child}function JS(e){var t=e.stateNode;t.pendingContext?Dx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dx(e,t.context,!1),wv(e,t.containerInfo)}function Zx(e,t,r,n,i){return mo(),pv(i),t.flags|=256,Ht(e,t,r,n),t.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function e1(e,t,r){var n=t.pendingProps,i=Ge.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Re(Ge,i&1),e===null)return _p(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ad(o,n,0,null),e=aa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ap(r),t.memoizedState=Op,e):Nv(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return yC(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Ai(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ai(l,a):(a=aa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ap(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Op,n}return a=e.child,e=a.sibling,n=Ai(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nv(e,t){return t=Ad({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tu(e,t,r,n){return n!==null&&pv(n),vo(t,e.child,null,r),e=Nv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yC(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=fh(Error(U(422))),tu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ad({mode:"visible",children:n.children},i,0,null),a=aa(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&vo(t,e.child,null,o),t.child.memoizedState=Ap(o),t.memoizedState=Op,a);if(!(t.mode&1))return tu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(U(419)),n=fh(a,n,void 0),tu(e,t,o,n)}if(l=(o&e.childLanes)!==0,tr||l){if(n=jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Bn(e,i),Zr(n,e,i,-1))}return Mv(),n=fh(Error(U(421))),tu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=TC.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pr=ki(i.nextSibling),gr=t,We=!0,Hr=null,e!==null&&(Or[Ar++]=In,Or[Ar++]=Mn,Or[Ar++]=fa,In=e.id,Mn=e.overflow,fa=t),t=Nv(t,n.children),t.flags|=4096,t)}function Jx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jp(e.return,t,r)}function hh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function t1(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ht(e,t,n.children,r),n=Ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jx(e,r,t);else if(e.tag===19)Jx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(Ge,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&uc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),hh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}hh(t,!0,r,null,a);break;case"together":hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Du(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Ai(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ai(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xC(e,t,r){switch(t.tag){case 3:JS(t),mo();break;case 5:ES(t);break;case 1:sr(t.type)&&nc(t);break;case 4:wv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Re(oc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?e1(e,t,r):(Re(Ge,Ge.current&1),e=Wn(e,t,r),e!==null?e.sibling:null);Re(Ge,Ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return t1(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Ge,Ge.current),n)break;return null;case 22:case 23:return t.lanes=0,QS(e,t,r)}return Wn(e,t,r)}var r1,Tp,n1,i1;r1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tp=function(){};n1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Zi(yn.current);var a=null;switch(r){case"input":i=Jh(e,i),n=Jh(e,n),a=[];break;case"select":i=Xe({},i,{value:void 0}),n=Xe({},n,{value:void 0}),a=[];break;case"textarea":i=rp(e,i),n=rp(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=tc)}ip(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ts.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var u=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Le("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};i1=function(e,t,r,n){r!==n&&(t.flags|=4)};function es(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wC(e,t,r){var n=t.pendingProps;switch(hv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return sr(t.type)&&rc(),$t(t),null;case 3:return n=t.stateNode,go(),ze(or),ze(Bt),_v(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hr!==null&&(zp(Hr),Hr=null))),Tp(e,t),$t(t),null;case 5:bv(t);var i=Zi(Ws.current);if(r=t.type,e!==null&&t.stateNode!=null)n1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return $t(t),null}if(e=Zi(yn.current),Jl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[pn]=t,n[Us]=a,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(i=0;i<ms.length;i++)Le(ms[i],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":lx(n,a),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Le("invalid",n);break;case"textarea":cx(n,a),Le("invalid",n)}ip(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),i=["children",""+l]):Ts.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Le("scroll",n)}switch(r){case"input":Kl(n),ux(n,a,!0);break;case"textarea":Kl(n),dx(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=tc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[pn]=t,e[Us]=n,r1(e,t,!1,!1),t.stateNode=e;e:{switch(o=ap(r,n),r){case"dialog":Le("cancel",e),Le("close",e),i=n;break;case"iframe":case"object":case"embed":Le("load",e),i=n;break;case"video":case"audio":for(i=0;i<ms.length;i++)Le(ms[i],e);i=n;break;case"source":Le("error",e),i=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=n;break;case"details":Le("toggle",e),i=n;break;case"input":lx(e,n),i=Jh(e,n),Le("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Xe({},n,{value:void 0}),Le("invalid",e);break;case"textarea":cx(e,n),i=rp(e,n),Le("invalid",e);break;default:i=n}ip(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?Dj(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ij(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Cs(e,u):typeof u=="number"&&Cs(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ts.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Le("scroll",e):u!=null&&Zm(e,a,u,o))}switch(r){case"input":Kl(e),ux(e,n,!1);break;case"textarea":Kl(e),dx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Di(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?io(e,!!n.multiple,a,!1):n.defaultValue!=null&&io(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=tc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)i1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=Zi(Ws.current),Zi(yn.current),Jl(t)){if(n=t.stateNode,r=t.memoizedProps,n[pn]=t,(a=n.nodeValue!==r)&&(e=gr,e!==null))switch(e.tag){case 3:Zl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pn]=t,t.stateNode=n}return $t(t),null;case 13:if(ze(Ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&pr!==null&&t.mode&1&&!(t.flags&128))_S(),mo(),t.flags|=98560,a=!1;else if(a=Jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(U(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[pn]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),a=!1}else Hr!==null&&(zp(Hr),Hr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?ct===0&&(ct=3):Mv())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return go(),Tp(e,t),e===null&&zs(t.stateNode.containerInfo),$t(t),null;case 10:return gv(t.type._context),$t(t),null;case 17:return sr(t.type)&&rc(),$t(t),null;case 19:if(ze(Ge),a=t.memoizedState,a===null)return $t(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)es(a,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uc(e),o!==null){for(t.flags|=128,es(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Ge,Ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&nt()>xo&&(t.flags|=128,n=!0,es(a,!1),t.lanes=4194304)}else{if(!n)if(e=uc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),es(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!We)return $t(t),null}else 2*nt()-a.renderingStartTime>xo&&r!==1073741824&&(t.flags|=128,n=!0,es(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nt(),t.sibling=null,r=Ge.current,Re(Ge,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return Iv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fr&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function bC(e,t){switch(hv(t),t.tag){case 1:return sr(t.type)&&rc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),ze(or),ze(Bt),_v(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bv(t),null;case 13:if(ze(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ge),null;case 4:return go(),null;case 10:return gv(t.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var ru=!1,Ft=!1,_C=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ja(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Je(e,t,n)}else r.current=null}function Cp(e,t,r){try{r()}catch(n){Je(e,t,n)}}var e0=!1;function jC(e,t){if(mp=Zu,e=uS(),dv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==a||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===i&&(l=o),h===a&&++d===n&&(u=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(vp={focusedElem:e,selectionRange:r},Zu=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Wr(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){Je(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return v=e0,e0=!1,v}function ks(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Cp(t,r,a)}i=i.next}while(i!==n)}}function Nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ip(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function a1(e){var t=e.alternate;t!==null&&(e.alternate=null,a1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[Us],delete t[xp],delete t[aC],delete t[oC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o1(e){return e.tag===5||e.tag===3||e.tag===4}function t0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=tc));else if(n!==4&&(e=e.child,e!==null))for(Mp(e,t,r),e=e.sibling;e!==null;)Mp(e,t,r),e=e.sibling}function Dp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dp(e,t,r),e=e.sibling;e!==null;)Dp(e,t,r),e=e.sibling}var Ct=null,Kr=!1;function si(e,t,r){for(r=r.child;r!==null;)s1(e,t,r),r=r.sibling}function s1(e,t,r){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(wd,r)}catch{}switch(r.tag){case 5:Ft||Ja(r,t);case 6:var n=Ct,i=Kr;Ct=null,si(e,t,r),Ct=n,Kr=i,Ct!==null&&(Kr?(e=Ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Kr?(e=Ct,r=r.stateNode,e.nodeType===8?oh(e.parentNode,r):e.nodeType===1&&oh(e,r),Rs(e)):oh(Ct,r.stateNode));break;case 4:n=Ct,i=Kr,Ct=r.stateNode.containerInfo,Kr=!0,si(e,t,r),Ct=n,Kr=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Cp(r,t,o),i=i.next}while(i!==n)}si(e,t,r);break;case 1:if(!Ft&&(Ja(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Je(r,t,l)}si(e,t,r);break;case 21:si(e,t,r);break;case 22:r.mode&1?(Ft=(n=Ft)||r.memoizedState!==null,si(e,t,r),Ft=n):si(e,t,r);break;default:si(e,t,r)}}function r0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _C),t.forEach(function(n){var i=CC.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Br(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Kr=!1;break e;case 3:Ct=l.stateNode.containerInfo,Kr=!0;break e;case 4:Ct=l.stateNode.containerInfo,Kr=!0;break e}l=l.return}if(Ct===null)throw Error(U(160));s1(a,o,i),Ct=null,Kr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Je(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l1(t,e),t=t.sibling}function l1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Br(t,e),sn(e),n&4){try{ks(3,e,e.return),Nd(3,e)}catch(y){Je(e,e.return,y)}try{ks(5,e,e.return)}catch(y){Je(e,e.return,y)}}break;case 1:Br(t,e),sn(e),n&512&&r!==null&&Ja(r,r.return);break;case 5:if(Br(t,e),sn(e),n&512&&r!==null&&Ja(r,r.return),e.flags&32){var i=e.stateNode;try{Cs(i,"")}catch(y){Je(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Aj(i,a),ap(l,o);var c=ap(l,a);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?Dj(i,f):d==="dangerouslySetInnerHTML"?Ij(i,f):d==="children"?Cs(i,f):Zm(i,d,f,c)}switch(l){case"input":ep(i,a);break;case"textarea":Tj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?io(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?io(i,!!a.multiple,a.defaultValue,!0):io(i,!!a.multiple,a.multiple?[]:"",!1))}i[Us]=a}catch(y){Je(e,e.return,y)}}break;case 6:if(Br(t,e),sn(e),n&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Je(e,e.return,y)}}break;case 3:if(Br(t,e),sn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rs(t.containerInfo)}catch(y){Je(e,e.return,y)}break;case 4:Br(t,e),sn(e);break;case 13:Br(t,e),sn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=nt())),n&4&&r0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ft=(c=Ft)||d,Br(t,e),Ft=c):Br(t,e),sn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(f=V=d;V!==null;){switch(h=V,m=h.child,h.tag){case 0:case 11:case 14:case 15:ks(4,h,h.return);break;case 1:Ja(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Je(n,r,y)}}break;case 5:Ja(h,h.return);break;case 22:if(h.memoizedState!==null){i0(f);continue}}m!==null?(m.return=h,V=m):i0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Mj("display",o))}catch(y){Je(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Je(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Br(t,e),sn(e),n&4&&r0(e);break;case 21:break;default:Br(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(o1(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cs(i,""),n.flags&=-33);var a=t0(e);Dp(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=t0(e);Mp(e,l,o);break;default:throw Error(U(161))}}catch(u){Je(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SC(e,t,r){V=e,u1(e)}function u1(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var i=V,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ru;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ft;l=ru;var c=Ft;if(ru=o,(Ft=u)&&!c)for(V=i;V!==null;)o=V,u=o.child,o.tag===22&&o.memoizedState!==null?a0(i):u!==null?(u.return=o,V=u):a0(i);for(;a!==null;)V=a,u1(a),a=a.sibling;V=i,ru=l,Ft=c}n0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,V=a):n0(e)}}function n0(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||Nd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ft)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Wr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ux(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ux(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ft||t.flags&512&&Ip(t)}catch(h){Je(t,t.return,h)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function i0(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function a0(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nd(4,t)}catch(u){Je(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Je(t,i,u)}}var a=t.return;try{Ip(t)}catch(u){Je(t,a,u)}break;case 5:var o=t.return;try{Ip(t)}catch(u){Je(t,o,u)}}}catch(u){Je(t,t.return,u)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var PC=Math.ceil,fc=Jn.ReactCurrentDispatcher,Ov=Jn.ReactCurrentOwner,Mr=Jn.ReactCurrentBatchConfig,he=0,jt=null,at=null,Dt=0,fr=0,eo=Fi(0),ct=0,Gs=null,pa=0,Od=0,Av=0,Es=null,er=null,Tv=0,xo=1/0,On=null,hc=!1,Rp=null,Ni=null,nu=!1,wi=null,pc=0,Ns=0,Lp=null,Ru=-1,Lu=0;function qt(){return he&6?nt():Ru!==-1?Ru:Ru=nt()}function Oi(e){return e.mode&1?he&2&&Dt!==0?Dt&-Dt:lC.transition!==null?(Lu===0&&(Lu=Gj()),Lu):(e=ke,e!==0||(e=window.event,e=e===void 0?16:eS(e.type)),e):1}function Zr(e,t,r,n){if(50<Ns)throw Ns=0,Lp=null,Error(U(185));hl(e,r,n),(!(he&2)||e!==jt)&&(e===jt&&(!(he&2)&&(Od|=r),ct===4&&gi(e,Dt)),lr(e,n),r===1&&he===0&&!(t.mode&1)&&(xo=nt()+500,Pd&&Ui()))}function lr(e,t){var r=e.callbackNode;lT(e,t);var n=Qu(e,e===jt?Dt:0);if(n===0)r!==null&&px(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&px(r),t===1)e.tag===0?sC(o0.bind(null,e)):xS(o0.bind(null,e)),nC(function(){!(he&6)&&Ui()}),r=null;else{switch(qj(n)){case 1:r=nv;break;case 4:r=Hj;break;case 16:r=Xu;break;case 536870912:r=Vj;break;default:r=Xu}r=g1(r,c1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function c1(e,t){if(Ru=-1,Lu=0,he&6)throw Error(U(327));var r=e.callbackNode;if(uo()&&e.callbackNode!==r)return null;var n=Qu(e,e===jt?Dt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mc(e,n);else{t=n;var i=he;he|=2;var a=f1();(jt!==e||Dt!==t)&&(On=null,xo=nt()+500,ia(e,t));do try{NC();break}catch(l){d1(e,l)}while(!0);vv(),fc.current=a,he=i,at!==null?t=0:(jt=null,Dt=0,t=ct)}if(t!==0){if(t===2&&(i=cp(e),i!==0&&(n=i,t=$p(e,i))),t===1)throw r=Gs,ia(e,0),gi(e,n),lr(e,nt()),r;if(t===6)gi(e,n);else{if(i=e.current.alternate,!(n&30)&&!kC(i)&&(t=mc(e,n),t===2&&(a=cp(e),a!==0&&(n=a,t=$p(e,a))),t===1))throw r=Gs,ia(e,0),gi(e,n),lr(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:Vi(e,er,On);break;case 3:if(gi(e,n),(n&130023424)===n&&(t=Tv+500-nt(),10<t)){if(Qu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yp(Vi.bind(null,e,er,On),t);break}Vi(e,er,On);break;case 4:if(gi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Qr(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PC(n/1960))-n,10<n){e.timeoutHandle=yp(Vi.bind(null,e,er,On),n);break}Vi(e,er,On);break;case 5:Vi(e,er,On);break;default:throw Error(U(329))}}}return lr(e,nt()),e.callbackNode===r?c1.bind(null,e):null}function $p(e,t){var r=Es;return e.current.memoizedState.isDehydrated&&(ia(e,t).flags|=256),e=mc(e,t),e!==2&&(t=er,er=r,t!==null&&zp(t)),e}function zp(e){er===null?er=e:er.push.apply(er,e)}function kC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!en(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gi(e,t){for(t&=~Av,t&=~Od,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qr(t),n=1<<r;e[r]=-1,t&=~n}}function o0(e){if(he&6)throw Error(U(327));uo();var t=Qu(e,0);if(!(t&1))return lr(e,nt()),null;var r=mc(e,t);if(e.tag!==0&&r===2){var n=cp(e);n!==0&&(t=n,r=$p(e,n))}if(r===1)throw r=Gs,ia(e,0),gi(e,t),lr(e,nt()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vi(e,er,On),lr(e,nt()),null}function Cv(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(xo=nt()+500,Pd&&Ui())}}function ma(e){wi!==null&&wi.tag===0&&!(he&6)&&uo();var t=he;he|=1;var r=Mr.transition,n=ke;try{if(Mr.transition=null,ke=1,e)return e()}finally{ke=n,Mr.transition=r,he=t,!(he&6)&&Ui()}}function Iv(){fr=eo.current,ze(eo)}function ia(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rC(r)),at!==null)for(r=at.return;r!==null;){var n=r;switch(hv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rc();break;case 3:go(),ze(or),ze(Bt),_v();break;case 5:bv(n);break;case 4:go();break;case 13:ze(Ge);break;case 19:ze(Ge);break;case 10:gv(n.type._context);break;case 22:case 23:Iv()}r=r.return}if(jt=e,at=e=Ai(e.current,null),Dt=fr=t,ct=0,Gs=null,Av=Od=pa=0,er=Es=null,Qi!==null){for(t=0;t<Qi.length;t++)if(r=Qi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Qi=null}return e}function d1(e,t){do{var r=at;try{if(vv(),Iu.current=dc,cc){for(var n=qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cc=!1}if(ha=0,_t=lt=qe=null,Ps=!1,Ks=0,Ov.current=null,r===null||r.return===null){ct=1,Gs=t,at=null;break}e:{var a=e,o=r.return,l=r,u=t;if(t=Dt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Gx(o);if(m!==null){m.flags&=-257,qx(m,o,l,a,t),m.mode&1&&Vx(a,c,t),t=m,u=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(u),t.updateQueue=y}else v.add(u);break e}else{if(!(t&1)){Vx(a,c,t),Mv();break e}u=Error(U(426))}}else if(We&&l.mode&1){var x=Gx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),qx(x,o,l,a,t),pv(yo(u,l));break e}}a=u=yo(u,l),ct!==4&&(ct=2),Es===null?Es=[a]:Es.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=qS(a,u,t);Fx(a,g);break e;case 1:l=u;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ni===null||!Ni.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=YS(a,l,t);Fx(a,_);break e}}a=a.return}while(a!==null)}p1(r)}catch(P){t=P,at===r&&r!==null&&(at=r=r.return);continue}break}while(!0)}function f1(){var e=fc.current;return fc.current=dc,e===null?dc:e}function Mv(){(ct===0||ct===3||ct===2)&&(ct=4),jt===null||!(pa&268435455)&&!(Od&268435455)||gi(jt,Dt)}function mc(e,t){var r=he;he|=2;var n=f1();(jt!==e||Dt!==t)&&(On=null,ia(e,t));do try{EC();break}catch(i){d1(e,i)}while(!0);if(vv(),he=r,fc.current=n,at!==null)throw Error(U(261));return jt=null,Dt=0,ct}function EC(){for(;at!==null;)h1(at)}function NC(){for(;at!==null&&!JA();)h1(at)}function h1(e){var t=v1(e.alternate,e,fr);e.memoizedProps=e.pendingProps,t===null?p1(e):at=t,Ov.current=null}function p1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bC(r,t),r!==null){r.flags&=32767,at=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,at=null;return}}else if(r=wC(r,t,fr),r!==null){at=r;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ct===0&&(ct=5)}function Vi(e,t,r){var n=ke,i=Mr.transition;try{Mr.transition=null,ke=1,OC(e,t,r,n)}finally{Mr.transition=i,ke=n}return null}function OC(e,t,r,n){do uo();while(wi!==null);if(he&6)throw Error(U(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(uT(e,a),e===jt&&(at=jt=null,Dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nu||(nu=!0,g1(Xu,function(){return uo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mr.transition,Mr.transition=null;var o=ke;ke=1;var l=he;he|=4,Ov.current=null,jC(e,r),l1(r,e),YT(vp),Zu=!!mp,vp=mp=null,e.current=r,SC(r),eT(),he=l,ke=o,Mr.transition=a}else e.current=r;if(nu&&(nu=!1,wi=e,pc=i),a=e.pendingLanes,a===0&&(Ni=null),nT(r.stateNode),lr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(hc)throw hc=!1,e=Rp,Rp=null,e;return pc&1&&e.tag!==0&&uo(),a=e.pendingLanes,a&1?e===Lp?Ns++:(Ns=0,Lp=e):Ns=0,Ui(),null}function uo(){if(wi!==null){var e=qj(pc),t=Mr.transition,r=ke;try{if(Mr.transition=null,ke=16>e?16:e,wi===null)var n=!1;else{if(e=wi,wi=null,pc=0,he&6)throw Error(U(331));var i=he;for(he|=4,V=e.current;V!==null;){var a=V,o=a.child;if(V.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(V=c;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:ks(8,d,a)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var h=d.sibling,m=d.return;if(a1(d),d===c){V=null;break}if(h!==null){h.return=m,V=h;break}V=m}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}V=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,V=o;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ks(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,V=g;break e}V=a.return}}var w=e.current;for(V=w;V!==null;){o=V;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,V=b;else e:for(o=w;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nd(9,l)}}catch(P){Je(l,l.return,P)}if(l===o){V=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,V=_;break e}V=l.return}}if(he=i,Ui(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(wd,e)}catch{}n=!0}return n}finally{ke=r,Mr.transition=t}}return!1}function s0(e,t,r){t=yo(r,t),t=qS(e,t,1),e=Ei(e,t,1),t=qt(),e!==null&&(hl(e,1,t),lr(e,t))}function Je(e,t,r){if(e.tag===3)s0(e,e,r);else for(;t!==null;){if(t.tag===3){s0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ni===null||!Ni.has(n))){e=yo(r,e),e=YS(t,e,1),t=Ei(t,e,1),e=qt(),t!==null&&(hl(t,1,e),lr(t,e));break}}t=t.return}}function AC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(Dt&r)===r&&(ct===4||ct===3&&(Dt&130023424)===Dt&&500>nt()-Tv?ia(e,0):Av|=r),lr(e,t)}function m1(e,t){t===0&&(e.mode&1?(t=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):t=1);var r=qt();e=Bn(e,t),e!==null&&(hl(e,t,r),lr(e,r))}function TC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),m1(e,r)}function CC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),m1(e,r)}var v1;v1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tr=!1,xC(e,t,r);tr=!!(e.flags&131072)}else tr=!1,We&&t.flags&1048576&&wS(t,ac,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Du(e,t),e=t.pendingProps;var i=po(t,Bt.current);lo(t,r),i=Sv(null,t,n,e,i,r);var a=Pv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(a=!0,nc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xv(t),i.updater=Ed,t.stateNode=i,i._reactInternals=t,Pp(t,n,e,r),t=Np(null,t,n,!0,a,r)):(t.tag=0,We&&a&&fv(t),Ht(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Du(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=MC(n),e=Wr(n,e),i){case 0:t=Ep(null,t,n,e,r);break e;case 1:t=Qx(null,t,n,e,r);break e;case 11:t=Yx(null,t,n,e,r);break e;case 14:t=Xx(null,t,n,Wr(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wr(n,i),Ep(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wr(n,i),Qx(e,t,n,i,r);case 3:e:{if(JS(t),e===null)throw Error(U(387));n=t.pendingProps,a=t.memoizedState,i=a.element,kS(e,t),lc(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=yo(Error(U(423)),t),t=Zx(e,t,n,r,i);break e}else if(n!==i){i=yo(Error(U(424)),t),t=Zx(e,t,n,r,i);break e}else for(pr=ki(t.stateNode.containerInfo.firstChild),gr=t,We=!0,Hr=null,r=SS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mo(),n===i){t=Wn(e,t,r);break e}Ht(e,t,n,r)}t=t.child}return t;case 5:return ES(t),e===null&&_p(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,gp(n,i)?o=null:a!==null&&gp(n,a)&&(t.flags|=32),ZS(e,t),Ht(e,t,o,r),t.child;case 6:return e===null&&_p(t),null;case 13:return e1(e,t,r);case 4:return wv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vo(t,null,n,r):Ht(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wr(n,i),Yx(e,t,n,i,r);case 7:return Ht(e,t,t.pendingProps,r),t.child;case 8:return Ht(e,t,t.pendingProps.children,r),t.child;case 12:return Ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Re(oc,n._currentValue),n._currentValue=o,a!==null)if(en(a.value,o)){if(a.children===i.children&&!or.current){t=Wn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=Ln(-1,r&-r),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),jp(a.return,r,t),l.lanes|=r;break}u=u.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(U(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),jp(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ht(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,lo(t,r),i=Dr(i),n=n(i),t.flags|=1,Ht(e,t,n,r),t.child;case 14:return n=t.type,i=Wr(n,t.pendingProps),i=Wr(n.type,i),Xx(e,t,n,i,r);case 15:return XS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wr(n,i),Du(e,t),t.tag=1,sr(n)?(e=!0,nc(t)):e=!1,lo(t,r),GS(t,n,i),Pp(t,n,i,r),Np(null,t,n,!0,e,r);case 19:return t1(e,t,r);case 22:return QS(e,t,r)}throw Error(U(156,t.tag))};function g1(e,t){return Kj(e,t)}function IC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(e,t,r,n){return new IC(e,t,r,n)}function Dv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MC(e){if(typeof e=="function")return Dv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ev)return 11;if(e===tv)return 14}return 2}function Ai(e,t){var r=e.alternate;return r===null?(r=Tr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $u(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Dv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ka:return aa(r.children,i,a,t);case Jm:o=8,i|=8;break;case Yh:return e=Tr(12,r,t,i|2),e.elementType=Yh,e.lanes=a,e;case Xh:return e=Tr(13,r,t,i),e.elementType=Xh,e.lanes=a,e;case Qh:return e=Tr(19,r,t,i),e.elementType=Qh,e.lanes=a,e;case Ej:return Ad(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pj:o=10;break e;case kj:o=9;break e;case ev:o=11;break e;case tv:o=14;break e;case fi:o=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Tr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function aa(e,t,r,n){return e=Tr(7,e,n,t),e.lanes=r,e}function Ad(e,t,r,n){return e=Tr(22,e,n,t),e.elementType=Ej,e.lanes=r,e.stateNode={isHidden:!1},e}function ph(e,t,r){return e=Tr(6,e,null,t),e.lanes=r,e}function mh(e,t,r){return t=Tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DC(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rv(e,t,r,n,i,a,o,l,u){return e=new DC(e,t,r,l,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Tr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xv(a),e}function RC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function y1(e){if(!e)return Ri;e=e._reactInternals;e:{if(Pa(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(sr(r))return yS(e,r,t)}return t}function x1(e,t,r,n,i,a,o,l,u){return e=Rv(r,n,!0,e,i,a,o,l,u),e.context=y1(null),r=e.current,n=qt(),i=Oi(r),a=Ln(n,i),a.callback=t??null,Ei(r,a,i),e.current.lanes=i,hl(e,i,n),lr(e,n),e}function Td(e,t,r,n){var i=t.current,a=qt(),o=Oi(i);return r=y1(r),t.context===null?t.context=r:t.pendingContext=r,t=Ln(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ei(i,t,o),e!==null&&(Zr(e,i,o,a),Cu(e,i,o)),o}function vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function l0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Lv(e,t){l0(e,t),(e=e.alternate)&&l0(e,t)}function LC(){return null}var w1=typeof reportError=="function"?reportError:function(e){console.error(e)};function $v(e){this._internalRoot=e}Cd.prototype.render=$v.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Td(e,t,null,null)};Cd.prototype.unmount=$v.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ma(function(){Td(null,e,null,null)}),t[Un]=null}};function Cd(e){this._internalRoot=e}Cd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vi.length&&t!==0&&t<vi[r].priority;r++);vi.splice(r,0,e),r===0&&Jj(e)}};function zv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function u0(){}function $C(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=vc(o);a.call(c)}}var o=x1(t,n,e,0,null,!1,!1,"",u0);return e._reactRootContainer=o,e[Un]=o.current,zs(e.nodeType===8?e.parentNode:e),ma(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=vc(u);l.call(c)}}var u=Rv(e,0,!1,null,null,!1,!1,"",u0);return e._reactRootContainer=u,e[Un]=u.current,zs(e.nodeType===8?e.parentNode:e),ma(function(){Td(t,u,r,n)}),u}function Md(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var u=vc(o);l.call(u)}}Td(t,o,e,i)}else o=$C(r,t,e,i,n);return vc(o)}Yj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ps(t.pendingLanes);r!==0&&(iv(t,r|1),lr(t,nt()),!(he&6)&&(xo=nt()+500,Ui()))}break;case 13:ma(function(){var n=Bn(e,1);if(n!==null){var i=qt();Zr(n,e,1,i)}}),Lv(e,1)}};av=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var r=qt();Zr(t,e,134217728,r)}Lv(e,134217728)}};Xj=function(e){if(e.tag===13){var t=Oi(e),r=Bn(e,t);if(r!==null){var n=qt();Zr(r,e,t,n)}Lv(e,t)}};Qj=function(){return ke};Zj=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};sp=function(e,t,r){switch(t){case"input":if(ep(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Sd(n);if(!i)throw Error(U(90));Oj(n),ep(n,i)}}}break;case"textarea":Tj(e,r);break;case"select":t=r.value,t!=null&&io(e,!!r.multiple,t,!1)}};$j=Cv;zj=ma;var zC={usingClientEntryPoint:!1,Events:[ml,qa,Sd,Rj,Lj,Cv]},ts={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FC={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bj(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||LC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{wd=iu.inject(FC),gn=iu}catch{}}jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zC;jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zv(t))throw Error(U(200));return RC(e,t,null,r)};jr.createRoot=function(e,t){if(!zv(e))throw Error(U(299));var r=!1,n="",i=w1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rv(e,1,!1,null,null,r,!1,n,i),e[Un]=t.current,zs(e.nodeType===8?e.parentNode:e),new $v(t)};jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Bj(t),e=e===null?null:e.stateNode,e};jr.flushSync=function(e){return ma(e)};jr.hydrate=function(e,t,r){if(!Id(t))throw Error(U(200));return Md(null,e,t,!0,r)};jr.hydrateRoot=function(e,t,r){if(!zv(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=w1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=x1(t,null,e,1,r??null,i,!1,a,o),e[Un]=t.current,zs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Cd(t)};jr.render=function(e,t,r){if(!Id(t))throw Error(U(200));return Md(null,e,t,!1,r)};jr.unmountComponentAtNode=function(e){if(!Id(e))throw Error(U(40));return e._reactRootContainer?(ma(function(){Md(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1};jr.unstable_batchedUpdates=Cv;jr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Id(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Md(e,t,r,!1,n)};jr.version="18.3.1-next-f1338f8080-20240426";function b1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b1)}catch(e){console.error(e)}}b1(),bj.exports=jr;var Fv=bj.exports,c0=Fv;Gh.createRoot=c0.createRoot,Gh.hydrateRoot=c0.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}var bi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bi||(bi={}));const d0="popstate";function UC(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Fp("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gc(i)}return WC(t,r,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BC(){return Math.random().toString(36).substr(2,8)}function f0(e,t){return{usr:e.state,key:e.key,idx:t}}function Fp(e,t,r,n){return r===void 0&&(r=null),qs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Io(t):t,{state:r,key:t&&t.key||n||BC()})}function gc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Io(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function WC(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=bi.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(qs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=bi.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:l,location:y.location,delta:g})}function h(x,g){l=bi.Push;let w=Fp(y.location,x,g);c=d()+1;let b=f0(w,c),_=y.createHref(w);try{o.pushState(b,"",_)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(_)}a&&u&&u({action:l,location:y.location,delta:1})}function m(x,g){l=bi.Replace;let w=Fp(y.location,x,g);c=d();let b=f0(w,c),_=y.createHref(w);o.replaceState(b,"",_),a&&u&&u({action:l,location:y.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:gc(x);return w=w.replace(/ $/,"%20"),Ye(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let y={get action(){return l},get location(){return e(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(d0,f),u=x,()=>{i.removeEventListener(d0,f),u=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(x){return o.go(x)}};return y}var h0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(h0||(h0={}));function KC(e,t,r){return r===void 0&&(r="/"),HC(e,t,r)}function HC(e,t,r,n){let i=typeof t=="string"?Io(t):t,a=wo(i.pathname||"/",r);if(a==null)return null;let o=_1(e);VC(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=nI(a);l=tI(o[u],c)}return l}function _1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Ye(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Ti([n,u.relativePath]),d=r.concat(u);a.children&&a.children.length>0&&(Ye(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_1(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:JC(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of j1(a.path))i(a,o,u)}),t}function j1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=j1(n.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function VC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:eI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GC=/^:[\w-]+$/,qC=3,YC=2,XC=1,QC=10,ZC=-2,p0=e=>e==="*";function JC(e,t){let r=e.split("/"),n=r.length;return r.some(p0)&&(n+=ZC),t&&(n+=YC),r.filter(i=>!p0(i)).reduce((i,a)=>i+(GC.test(a)?qC:a===""?XC:QC),n)}function eI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function tI(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Up({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ti([a,f.pathname]),pathnameBase:lI(Ti([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ti([a,f.pathnameBase]))}return o}function Up(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=rI(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=l[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function rI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Uv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function nI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const iI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aI=e=>iI.test(e);function oI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Io(e):e,a;if(r)if(aI(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Uv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=m0(r.substring(1),"/"):a=m0(r,t)}else a=t;return{pathname:a,search:uI(n),hash:cI(i)}}function m0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bv(e,t){let r=sI(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Wv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Io(e):(i=qs({},e),Ye(!i.pathname||!i.pathname.includes("?"),vh("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),vh("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),vh("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let u=oI(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),lI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const S1=["post","put","patch","delete"];new Set(S1);const fI=["get",...S1];new Set(fI);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(this,arguments)}const Dd=p.createContext(null),P1=p.createContext(null),ei=p.createContext(null),Rd=p.createContext(null),kn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),k1=p.createContext(null);function hI(e,t){let{relative:r}=t===void 0?{}:t;Mo()||Ye(!1);let{basename:n,navigator:i}=p.useContext(ei),{hash:a,pathname:o,search:l}=Ld(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Ti([n,o])),i.createHref({pathname:u,search:l,hash:a})}function Mo(){return p.useContext(Rd)!=null}function ka(){return Mo()||Ye(!1),p.useContext(Rd).location}function E1(e){p.useContext(ei).static||p.useLayoutEffect(e)}function Do(){let{isDataRoute:e}=p.useContext(kn);return e?NI():pI()}function pI(){Mo()||Ye(!1);let e=p.useContext(Dd),{basename:t,future:r,navigator:n}=p.useContext(ei),{matches:i}=p.useContext(kn),{pathname:a}=ka(),o=JSON.stringify(Bv(i,r.v7_relativeSplatPath)),l=p.useRef(!1);return E1(()=>{l.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=Wv(c,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ti([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}const mI=p.createContext(null);function vI(e){let t=p.useContext(kn).outlet;return t&&p.createElement(mI.Provider,{value:e},t)}function N1(){let{matches:e}=p.useContext(kn),t=e[e.length-1];return t?t.params:{}}function Ld(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(ei),{matches:i}=p.useContext(kn),{pathname:a}=ka(),o=JSON.stringify(Bv(i,n.v7_relativeSplatPath));return p.useMemo(()=>Wv(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function gI(e,t){return yI(e,t)}function yI(e,t,r,n){Mo()||Ye(!1);let{navigator:i}=p.useContext(ei),{matches:a}=p.useContext(kn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ka(),d;if(t){var f;let x=typeof t=="string"?Io(t):t;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||Ye(!1),d=x}else d=c;let h=d.pathname||"/",m=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=KC(e,{pathname:m}),y=jI(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ti([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ti([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&y?p.createElement(Rd.Provider,{value:{location:Ys({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bi.Pop}},y):y}function xI(){let e=EI(),t=dI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:i},r):null,null)}const wI=p.createElement(xI,null);class bI extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(kn.Provider,{value:this.props.routeContext},p.createElement(k1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _I(e){let{routeContext:t,match:r,children:n}=e,i=p.useContext(Dd);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(kn.Provider,{value:t},n)}function jI(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,y=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||wI,u&&(c<0&&h===0?(OI("route-fallback"),v=!0,x=null):c===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),w=()=>{let b;return m?b=y:v?b=x:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(_I,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(bI,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var O1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O1||{}),A1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A1||{});function SI(e){let t=p.useContext(Dd);return t||Ye(!1),t}function PI(e){let t=p.useContext(P1);return t||Ye(!1),t}function kI(e){let t=p.useContext(kn);return t||Ye(!1),t}function T1(e){let t=kI(),r=t.matches[t.matches.length-1];return r.route.id||Ye(!1),r.route.id}function EI(){var e;let t=p.useContext(k1),r=PI(),n=T1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function NI(){let{router:e}=SI(O1.UseNavigateStable),t=T1(A1.UseNavigateStable),r=p.useRef(!1);return E1(()=>{r.current=!0}),p.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ys({fromRouteId:t},a)))},[e,t])}const v0={};function OI(e,t,r){v0[e]||(v0[e]=!0)}function AI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function TI(e){let{to:t,replace:r,state:n,relative:i}=e;Mo()||Ye(!1);let{future:a,static:o}=p.useContext(ei),{matches:l}=p.useContext(kn),{pathname:u}=ka(),c=Do(),d=Wv(t,Bv(l,a.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return p.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function CI(e){return vI(e.context)}function Kt(e){Ye(!1)}function II(e){let{basename:t="/",children:r=null,location:n,navigationType:i=bi.Pop,navigator:a,static:o=!1,future:l}=e;Mo()&&Ye(!1);let u=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:u,navigator:a,static:o,future:Ys({v7_relativeSplatPath:!1},l)}),[u,l,a,o]);typeof n=="string"&&(n=Io(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,y=p.useMemo(()=>{let x=wo(d,u);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:v},navigationType:i}},[u,d,f,h,m,v,i]);return y==null?null:p.createElement(ei.Provider,{value:c},p.createElement(Rd.Provider,{children:r,value:y}))}function MI(e){let{children:t,location:r}=e;return gI(Bp(t),r)}new Promise(()=>{});function Bp(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,i)=>{if(!p.isValidElement(n))return;let a=[...t,i];if(n.type===p.Fragment){r.push.apply(r,Bp(n.props.children,a));return}n.type!==Kt&&Ye(!1),!n.props.index||!n.props.children||Ye(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bp(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function C1(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function DI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RI(e,t){return e.button===0&&(!t||t==="_self")&&!DI(e)}function Wp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function LI(e,t){let r=Wp(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const $I=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],FI="6";try{window.__reactRouterVersion=FI}catch{}const UI=p.createContext({isTransitioning:!1}),BI="startTransition",g0=xj[BI];function WI(e){let{basename:t,children:r,future:n,window:i}=e,a=p.useRef();a.current==null&&(a.current=UC({window:i,v5Compat:!0}));let o=a.current,[l,u]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=p.useCallback(f=>{c&&g0?g0(()=>u(f)):u(f)},[u,c]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>AI(n),[n]),p.createElement(II,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const KI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=p.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=C1(t,$I),{basename:m}=p.useContext(ei),v,y=!1;if(typeof c=="string"&&HI.test(c)&&(v=c,KI))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=wo(_.pathname,m);_.origin===b.origin&&P!=null?c=P+_.search+_.hash:y=!0}catch{}let x=hI(c,{relative:i}),g=GI(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||g(b)}return p.createElement("a",yc({},h,{href:v||x,onClick:y||a?n:w,ref:r,target:u}))}),y0=p.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:c,children:d}=t,f=C1(t,zI),h=Ld(u,{relative:f.relative}),m=ka(),v=p.useContext(P1),{navigator:y,basename:x}=p.useContext(ei),g=v!=null&&qI(h)&&c===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,b=m.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(b=b.toLowerCase(),_=_?_.toLowerCase():null,w=w.toLowerCase()),_&&x&&(_=wo(_,x)||_);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=b===w||!o&&b.startsWith(w)&&b.charAt(P)==="/",k=_!=null&&(_===w||!o&&_.startsWith(w)&&_.charAt(w.length)==="/"),S={isActive:j,isPending:k,isTransitioning:g},N=j?n:void 0,E;typeof a=="function"?E=a(S):E=[a,j?"active":null,k?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(S):l;return p.createElement(ge,yc({},f,{"aria-current":N,className:E,ref:r,style:C,to:u,viewTransition:c}),typeof d=="function"?d(S):d)});var Kp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kp||(Kp={}));var x0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(x0||(x0={}));function VI(e){let t=p.useContext(Dd);return t||Ye(!1),t}function GI(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,u=Do(),c=ka(),d=Ld(e,{relative:o});return p.useCallback(f=>{if(RI(f,r)){f.preventDefault();let h=n!==void 0?n:gc(c)===gc(d);u(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[c,u,d,n,i,r,e,a,o,l])}function gl(e){let t=p.useRef(Wp(e)),r=p.useRef(!1),n=ka(),i=p.useMemo(()=>LI(n.search,r.current?null:t.current),[n.search]),a=Do(),o=p.useCallback((l,u)=>{const c=Wp(typeof l=="function"?l(i):l);r.current=!0,a("?"+c,u)},[a,i]);return[i,o]}function qI(e,t){t===void 0&&(t={});let r=p.useContext(UI);r==null&&Ye(!1);let{basename:n}=VI(Kp.useViewTransitionState),i=Ld(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=wo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=wo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Up(i.pathname,o)!=null||Up(i.pathname,a)!=null}const I1=p.createContext({explainMode:!0,setExplainMode:()=>{}});function Pt(){const e=p.useContext(I1);if(!e)throw new Error("useExplainMode must be used within ExplainModeProvider");return e}function YI({children:e,defaultOn:t=!0}){const[r,n]=p.useState(t),i=p.useCallback(a=>{n(o=>typeof a=="function"?a(o):a)},[]);return s.jsx(I1.Provider,{value:{explainMode:!!r,setExplainMode:i},children:e})}const Hp={id:"default",title:"Explain",what:"",why:"",how:"",sources:[],fields:[],links:[],lastUpdated:void 0},M1=p.createContext({isOpen:!1,open:()=>{},close:()=>{},context:Hp,setContext:()=>{}});function Pr(){const e=p.useContext(M1);if(!e)throw new Error("useExplainCenter must be used within ExplainCenterProvider");return e}function xc(e){const{setContext:t,open:r}=Pr();return p.useCallback(()=>{e&&(t(e),r())},[e,t,r])}function XI({children:e}){const[t,r]=p.useState(!1),[n,i]=p.useState(Hp),a=p.useCallback(()=>r(!0),[]),o=p.useCallback(()=>r(!1),[]),l=p.useCallback(u=>{i(c=>{const d=typeof u=="function"?u(c):u;return{...Hp,...c,...d}})},[]);return s.jsx(M1.Provider,{value:{isOpen:t,open:a,close:o,context:n,setContext:l},children:e})}function dt({title:e,explanation:t,reasons:r=[],action:n,className:i=""}){const{explainMode:a}=Pt();return s.jsxs("div",{className:`empty-state ${i}`.trim(),children:[s.jsx("p",{className:"empty-state-title",children:e}),n&&s.jsx("p",{className:"empty-state-action",children:n}),a&&s.jsxs(s.Fragment,{children:[t&&s.jsx("p",{className:"empty-state-explanation",children:t}),r.length>0&&s.jsxs("p",{className:"empty-state-reasons",children:[s.jsx("strong",{children:"Common reasons:"})," ",r.join(" ")]})]})]})}function tn({message:e}){return s.jsxs("div",{className:"error-state",children:[s.jsx("p",{className:"error-state-message",children:e}),s.jsxs("p",{className:"error-state-action",children:[s.jsx(ge,{to:"/debug",className:"error-state-link",children:"Open Debug"})," ","to see which endpoints are failing and get diagnostics."]})]})}const QI={run_status:{short:"Whether this pipeline run finished successfully, failed, or was skipped.",long:"Run status tells you the outcome of one automated pipeline run. SUCCESS means all steps completed; FAILED means something broke; SKIPPED means the run did not execute (e.g. no new data). Use it to quickly see if you need to investigate.",what:"Run status is the outcome of one pipeline run: SUCCESS, FAIL, RUNNING, or a skip reason (e.g. no new bars).",why:"So you can see at a glance whether the pipeline ran and whether you need to look at logs or data.",how:"Read from MIP.APP.MIP_AUDIT_LOG; the completion row for each RUN_ID carries the final status.",next:"Open the run detail to see the timeline and interpreted summary."},has_new_bars:{short:"Whether new market data was available for this run.",long:"Has new bars indicates if the system had fresh price/candle data for the run. If false, the run may have skipped trading steps because there was nothing new to act on. Check this when a run seems to do nothing."},rate_limit:{short:"A cap on how often the system can run to avoid overloading.",long:"Rate limit is a safety setting that prevents the pipeline from running too frequently. If you see rate limit in skip reasons, the run was postponed until the next allowed time. This protects systems and data feeds."},latest_ts:{short:"The most recent timestamp recorded for this run or step.",long:"Latest timestamp (latest_ts) is when the last relevant event or data point occurred. It helps you see how fresh the run's inputs were and align events in time order."},skip_reasons:{short:"Why a run or step did not execute (e.g. no new data, rate limit).",long:"Skip reasons explain why a run or step was not executed. Common reasons include no new bars (no new data), rate limit (too soon since last run), or other business rules. Use these to debug why nothing ran."},error_message:{short:"The error message captured when a step failed (SQLERRM).",long:"Error message contains the actual error text from Snowflake when a pipeline step fails. This is the SQLERRM value captured in the exception handler. Use it to understand what went wrong without querying the database.",what:"The SQLERRM text from a failed SQL statement.",why:"So you can see the actual error without running SQL queries.",how:"Captured in exception handlers and stored in MIP_AUDIT_LOG.ERROR_MESSAGE."},error_sqlstate:{short:"SQL error state code from Snowflake (e.g., 02000, P0001).",long:"SQLSTATE is a 5-character code that categorizes the type of error. For example, 02000 means 'no data', P0001 means 'raise_exception'. Use it to programmatically handle error types or to search for similar errors.",what:"A 5-character SQL standard error code.",why:"Helps categorize errors and search for similar issues.",how:"Captured from :sqlstate in exception handlers and stored in MIP_AUDIT_LOG.ERROR_SQLSTATE."},error_query_id:{short:"Snowflake query ID of the failed statement.",long:"Query ID is the unique identifier Snowflake assigns to every query. When a step fails, we capture the query ID so you can look up the exact statement in QUERY_HISTORY. Use it to see the full SQL, execution plan, and detailed error info.",what:"The Snowflake QUERY_ID for the failed statement.",why:"Lets you look up the exact query in Snowflake's QUERY_HISTORY.",how:"Captured from last_query_id() in exception handlers and stored in MIP_AUDIT_LOG.ERROR_QUERY_ID.",next:"Copy the query ID and use it in: SELECT * FROM TABLE(INFORMATION_SCHEMA.QUERY_HISTORY()) WHERE QUERY_ID = '<query_id>';"},duration_ms:{short:"Time taken to execute this step in milliseconds.",long:"Duration in milliseconds shows how long a pipeline step took to execute. Use it to identify slow steps or to track performance over time. Calculated as the difference between started_at and completed_at.",what:"Execution time in milliseconds.",why:"Helps identify slow steps and track performance."},step_timeline:{short:"Ordered list of pipeline steps showing status and duration.",long:"The step timeline shows all pipeline steps in execution order. Each step shows its name, status (success/fail/skip), and duration. Failed steps are highlighted in red. Click a step to see its full details including error information.",what:"Visual timeline of all steps in a pipeline run.",why:"Quickly see which steps ran, which failed, and how long each took."},debug_sql:{short:"Pre-generated SQL queries to investigate this run in Snowflake.",long:"Debug SQL provides ready-to-use queries for investigating a run directly in Snowflake. Includes queries for all events, failed steps, and query history lookup. Copy and paste into Snowflake to get more details.",what:"Generated SQL for debugging in Snowflake.",why:"Saves time when you need to dig deeper than the UI shows.",next:"Click 'Show Debug SQL', select a query type, and copy the SQL to Snowflake."},error_details:{short:"Full error information including message, SQLSTATE, and query ID.",long:"Error details combines all captured error information for failed steps: the error message, SQLSTATE code, and query ID. Use these to diagnose issues without manually querying the audit log.",what:"Combined error message, SQLSTATE, and query ID for failed steps.",why:"One place to see everything you need to debug a failure."},run_explorer:{short:"Interactive two-pane view for exploring pipeline runs.",long:"The Run Explorer provides a left pane with filterable run list and a right pane with detailed run information. Select a run to see its summary, step timeline, error panel, and debug SQL. Failed steps are automatically highlighted."}},ZI={starting_cash:{short:"Cash balance at the start of the simulation or period.",long:"Starting cash is the amount of money the portfolio had at the beginning of the run or period. It's the baseline for measuring gains and losses. Compare with final equity to see total return."},final_equity:{short:"Total portfolio value (cash + positions) at the end of the period.",long:"Final equity is the total value of the portfolio at the end of the runcash plus the value of any open positions. It's the number that matters for seeing how much the strategy made or lost."},total_return:{short:"Overall gain or loss as a percentage from start to end.",long:"Total return is the percentage change from starting value to final value. Positive means the portfolio grew; negative means it shrank. It's the main headline number for performance."},max_drawdown:{short:"Largest peak-to-trough drop in value during the period.",long:"Max drawdown is the biggest drop from a previous high to a low during the period. It shows the worst loss an investor would have seen. Lower is better; it's a key risk measure."},win_days:{short:"Number of days where the portfolio made money.",long:"Win days counts how many trading days ended with a profit. It doesn't tell you how much was made, but it gives a sense of how often the strategy is right."},loss_days:{short:"Number of days where the portfolio lost money.",long:"Loss days counts how many trading days ended with a loss. Used together with win days, it helps you see the balance of good vs bad days."},status:{short:"Current state of the portfolio (e.g. active, closed, bust).",long:"Portfolio status describes whether the portfolio is active (running), closed (manually stopped), or bust (hit a loss limit and stopped). Use it to see if the portfolio is still trading."}},JI={risk_gate:{short:"The rule that controls whether you can open new positions or only close them.",long:"The risk gate is a safety layer that limits what the portfolio can do. It has three modesNormal, Caution, and Defensiveand tells you clearly what is allowed and what to do next.",what:"The risk gate is the rule set that decides whether opening new positions is allowed or only closing/reducing positions is allowed. It reflects current risk state and drawdown limits.",why:"So you know at a glance what the system will and won't dowhether you can add risk or should only reduce itwithout reading raw codes or logs.",how:"The API normalizes risk state and risk gate views (e.g. V_PORTFOLIO_RISK_STATE, V_PORTFOLIO_RISK_GATE) into a single plain-language object: mode, entries_allowed, exits_allowed, reason_text, and what_to_do_now.",next:"Use the permission matrix and What to do now on the Portfolio Risk Gate panel to decide your next action."},mode:{short:"Current risk gate mode: Normal (full trading), Caution (warn), or Defensive (exits only).",long:"Risk gate mode tells you what the system allows right now. Normal means full trading; Caution means new positions allowed but be careful; Defensive means only closing or reducing positions, no new entries. The mode is derived from risk state and drawdown rules."},risk_status:{short:"Raw risk status from the system (e.g. OK, WARN) before it is turned into a mode.",long:"Risk status is the underlying signalOK, WARN, or similarthat the system uses to decide the gate mode. OK usually means Normal; WARN can mean Caution; combined with entries blocked it becomes Defensive.",what:"Risk status is the internal state (e.g. OK, WARN) that indicates whether the portfolio is within safe limits or approaching them.",why:"So the UI can show a human-friendly mode (Normal / Caution / Defensive) while the system still uses a simple status for logic.",how:"Read from risk state or risk gate views; the normalized object maps risk_status and entries_blocked into risk_label and mode.",next:"Look at the headline Risk Gate: Normal / Caution / Defensive to see how your status is presented."},entries_blocked:{short:"Whether new positions are currently allowed or blocked.",long:"Entries blocked means the system is not allowed to open new positions right now. It's a safety switchoften turned on after a big drawdown or when risk limits are hit. Existing positions may still be closed."},entries_allowed:{short:"Whether opening new positions is allowed.",long:"Entries allowed means the risk gate permits opening new positions. When false (Defensive mode), only closing or reducing positions is allowed. Use this with the permission matrix to see what you can do.",what:"Entries allowed is a yes/no: you are either allowed to open new positions (buy, add) or you are not. When not allowed, only closing or reducing positions is permitted.",why:"So you know immediately whether you can add exposure or must limit yourself to reducing it. No guessing from raw codes.",how:"Derived from risk state or risk gate (e.g. NOT entries_blocked, or allowed_actions = ALLOW_ENTRIES). The Portfolio panel shows it as Open new positions: Allowed or Blocked.",next:"If Allowed, you can use Suggestions to open new positions. If Blocked, follow What to do now and only close or reduce."},exits_allowed:{short:"Closing or reducing positions is always allowed when the gate is active.",long:"Exits allowed means you can always close or reduce existing positions, even when new entries are blocked. The gate never prevents unwinding riskonly adding new exposure.",what:"Exits allowed means you can close or reduce existing positions at any time. The risk gate never blocks unwindingonly adding new risk.",why:"So you know you can always reduce exposure when the gate is on. The system will not trap you in positions when you need to cut risk.",how:"The normalized risk gate sets exits_allowed to true whenever the gate is in use. The UI shows Close/reduce positions: Allowed.",next:"Use View Positions and your broker or simulator to close or reduce positions when the gate is Defensive or Caution."},drawdown_stop:{short:"A limit that pauses new entries when the portfolio has lost too much from a peak.",long:"Drawdown stop is a safety rule: when the portfolio's value has fallen too far from its high (e.g. past a set percentage), the system stops allowing new positions and may switch to Defensive mode. You can still close or reduce.",what:"Drawdown stop is the rule that says 'no new entries when loss from peak exceeds X.' It protects the portfolio from adding risk after a big drop.",why:"So losses don't snowball. Once the portfolio has hit the limit, the system stops adding exposure until conditions improve or you restart.",how:"Computed from portfolio equity vs peak; when the drop exceeds the configured threshold, entries are blocked and reason may reference drawdown (e.g. DRAWDOWN_STOP_ACTIVE).",next:"If the reason mentions drawdown, check max drawdown and equity. You can close positions or restart the episode (see Runbook) when appropriate."},allow_exits_only:{short:"Only closing positions is allowed; no new buys.",long:"Allow exits only means the portfolio can only close or reduce positions, not open new ones. It's a middle ground between full trading and a complete stop, used to reduce risk while letting the system unwind."},reason_text:{short:"Plain-language reason for the current gate state.",long:"Reason text explains in one sentence why the risk gate is in its current modee.g. within limits, drawdown hit, or safety pause. Use it to understand what triggered the state."},what_to_do_now:{short:"Actionable steps recommended for the current gate.",long:"What to do now lists concrete steps the system recommends for the current risk gate modee.g. use Suggestions, avoid opening many positions, or wait and close only. Follow these to stay aligned with risk policy.",what:"What to do now is a short list of recommended actions for the current risk gate modee.g. you can open positions normally, or only close them, or be cautious with new ones.",why:"So you have clear next steps instead of guessing. Each mode has different guidance to keep you aligned with risk policy.",how:"Built by the API from the normalized risk gate: one set of bullets for Normal, another for Caution, another for Defensive (and drawdown-specific lines when applicable).",next:"Follow the bullets on the Risk Gate panel; use Open Suggestions or View Positions as needed, and see the Runbook to restart an episode if required."},defensive_mode:{short:"Gate mode where only closing or reducing positions is allowed; no new entries.",long:"Defensive mode means the risk gate has turned on: you cannot open new positions, only close or reduce existing ones. It is used after a drawdown stop or when risk limits say no new exposure.",what:"Defensive mode is the risk gate state where entries are blocked and only exits (close or reduce) are allowed. The headline shows Defensive with a stop icon.",why:"So you know the system has paused new risk and you must limit yourself to unwinding. It protects the portfolio from adding exposure when conditions are bad.",how:"Set when entries_blocked is true or allowed_actions is ALLOW_EXITS_ONLY; the UI displays Risk Gate: Defensive and Exits only, with What to do now bullets.",next:"Do not open new positions. Use View Positions to close or reduce. See How to restart episode in the Risk Gate panel if you need to start a new episode."},stop_reason:{short:"Why trading was limited or stopped (e.g. drawdown, flat rule).",long:"Stop reason explains why the risk gate is onfor example drawdown limit hit, or a rule that says no new entries until the portfolio is flat. Use it to understand what triggered the restriction."}},eM={eligible_signals:{short:"Number of signals that passed filters and could be acted on.",long:"Eligible signals are recommendations that passed all checks (time, score, pattern) and could be used for trading. Not all become trades; this is the pool of candidates."},filtered_by_threshold:{short:"Signals removed because they didn't meet a score or quality bar.",long:"Filtered by threshold means some signals were excluded because their score or strength was below a set bar. It's a quality filter so only stronger signals are considered."},trusted_signals:{short:"Signals that passed trust and safety checks.",long:"Trusted signals are those that passed both quality and policy checks (e.g. risk, consistency). The system only trades on trusted signals to reduce bad or risky trades."}},tM={proposed_count:{short:"Number of orders the system suggested.",long:"Proposed count is how many order suggestions were generated in this run. Not all get approved or executed; this is the first step in the pipeline."},approved_count:{short:"Number of proposed orders that were approved.",long:"Approved count is how many of the proposed orders passed validation and were okayed. Approval can be automatic or manual depending on configuration."},executed_count:{short:"Number of orders that were actually filled in the market.",long:"Executed count is how many orders were actually filled. It can be lower than approved if the market moved or orders were cancelled. This is the real trading outcome."}},rM={symbol:{short:"The ticker or identifier for the holding (e.g. stock or asset).",long:"Symbol is the market identifier for the asset you holdlike a stock ticker. It tells you which asset this position is for."},side:{short:"Long = you own the asset; Short = you owe it (sold borrowed); Flat = no position.",long:"Side describes the direction of the position. Long means you own the asset (bought it). Short means you sold it (borrowed) and owe ityou profit if the price falls. Flat means no exposure."},quantity:{short:"How many units of the asset you hold.",long:"Quantity is the number of shares or units you own in this position. It's used with price to see current value."},cost_basis:{short:"Total amount you paid for this position (used to figure gain/loss).",long:"Cost basis is the total amount originally paid for this position. When you sell, it's compared to the sale amount to calculate your gain or loss."}},nM={symbol:{short:"The ticker or identifier for the asset that was traded.",long:"Symbol is the market identifier for the asset that was bought or sold in this trade."},side:{short:"Whether the trade was a buy or a sell.",long:"Side tells you the direction: BUY means you added to the position; SELL means you reduced or closed it. It's the basic action of the trade."},quantity:{short:"How many units were bought or sold in this trade.",long:"Quantity is the number of shares or units traded. Together with price it determines the size of the trade."},price:{short:"Price per unit at which the trade was filled.",long:"Price is the per-unit execution pricewhat you actually paid or received for each share or unit. It's used with quantity to get the total value."},notional:{short:"Total value of the trade (quantity  price).",long:"Notional is the total dollar value of the tradequantity times price. It's how much money actually moved in this trade."},realized_pnl:{short:"Profit or loss locked in when the trade closed part of a position.",long:"Realized P&L is the profit or loss that was locked in when this trade closed or reduced a position. Positive means a gain; negative means a loss."}},iM={status_badge:{short:"A label showing the current state of a run, portfolio, or step.",long:"Status badges show at a glance whether something succeeded, failed, is pending, or was skipped. Hover for more detail on what that status means in this context."},system_status:{short:"API and Snowflake data backend health.",long:"Green means the API and Snowflake data backend are both reachable. Yellow means the API is up but Snowflake (where portfolios, briefs, and training data live) is not reachablecheck credentials and network. Red means the API itself is not reachablethe server may be down or unreachable."}},aM={market_type:{short:"Asset class or market (e.g. STOCK, ETF, FX).",long:"Market type is the category of assets this row applies tostocks, ETFs, or forex. It lets you filter and compare training quality by market."},symbol:{short:"Ticker or identifier for the asset (e.g. AAPL, SPY).",long:"Symbol is the ticker or code for the assetlike a stock symbol. Use it to find a specific asset's training status."},pattern_id:{short:"Identifier for the signal pattern used.",long:"Pattern ID is the internal ID of the recommendation pattern. Different patterns can have different maturity and performance."},interval_minutes:{short:"Bar interval in minutes (e.g. 1440 = daily).",long:"Interval minutes is the timeframe of the barse.g. 1440 means daily bars. Training status here is for daily (1440) only."},as_of_ts:{short:"Timestamp of the latest data used for this row.",long:"As-of timestamp is when the most recent recommendation or outcome data was recorded. It tells you how fresh this status is."},recs_total:{short:"Number of recommendations (sample size) for this group.",long:"Sample size (recs_total) is how many recommendations were generated for this market/symbol/pattern. More recommendations usually mean a more reliable maturity score."},outcomes_total:{short:"Number of evaluated outcomes across horizons.",long:"Outcomes total is how many recommendation outcomes were evaluated (e.g. did the trade hit or miss). It feeds into coverage and horizon metrics."},horizons_covered:{short:"How many time windows (1, 3, 5, 10, 20 bars) have outcome data.",long:"Horizons covered is the number of evaluation windows (1, 3, 5, 10, 20 bars) that have outcome data. All five means full horizon completeness."},coverage_ratio:{short:"Share of possible outcomes that were evaluated (01).",long:"Coverage ratio is the fraction of possible outcomes that were actually evaluated. 1.0 means every recommendation has outcomes for all horizons; lower means some are still pending."},avg_outcome_h1:{short:"Average realized return over 1-bar horizon (null if missing).",long:"Avg outcome H1 is the average return realized when holding for 1 bar after the signal. It's one of five horizon windows used to judge pattern quality."},avg_outcome_h3:{short:"Average realized return over 3-bar horizon (null if missing).",long:"Avg outcome H3 is the average return over a 3-bar holding period. Used with other horizons to see how the pattern performs at different time windows."},avg_outcome_h5:{short:"Average realized return over 5-bar horizon (null if missing).",long:"Avg outcome H5 is the average return over a 5-bar horizon. Part of the five horizon metrics that feed into maturity."},avg_outcome_h10:{short:"Average realized return over 10-bar horizon (null if missing).",long:"Avg outcome H10 is the average return over a 10-bar holding period. Longer horizons can show different behavior than short ones."},avg_outcome_h20:{short:"Average realized return over 20-bar horizon (null if missing).",long:"Avg outcome H20 is the average return over a 20-bar horizon. The longest window in the standard set; null if not yet evaluated."},maturity_score:{short:"Overall data-quality score 0100 (sample + coverage + horizons).",long:"Maturity score is a 0100 number combining how much data you have (sample size), how complete outcomes are (coverage), and how many time windows have data (horizons). Higher means more reliable."},maturity_stage:{short:"Label for maturity band (INSUFFICIENT / WARMING_UP / LEARNING / CONFIDENT).",long:"Maturity stage is a simple label: INSUFFICIENT (score &lt;25), WARMING_UP (2549), LEARNING (5074), CONFIDENT (75+). It tells you at a glance if the data is enough to trust."},reasons:{short:"Plain-language explanations for the score (what happened and why).",long:"Reasons are short explanations for why the maturity score is what it ise.g. not enough recommendations yet, or all horizons have data. Use them to understand and act."},stage_insufficient:{short:"Score &lt;25  not enough data to be reliable.",long:"INSUFFICIENT means the maturity score is under 25. There isn't enough recommendation or outcome data yet to trust this row. Run more pipelines or wait for more data."},stage_warming_up:{short:"Score 2549  data is building; confidence is growing.",long:"WARMING_UP means the score is between 25 and 49. Data is accumulating and the score is becoming more meaningful, but it's not yet strong enough to rely on fully."},stage_learning:{short:"Score 5074  enough data to learn from; score is meaningful.",long:"LEARNING means the score is between 50 and 74. There's enough data to draw conclusions and the maturity score is a useful signal. Good for monitoring and tuning."},stage_confident:{short:"Score 75+  strong data coverage and outcome completeness.",long:"CONFIDENT means the score is 75 or higher. Data coverage and outcome completeness are strong. This row's metrics are reliable for decision-making."},filter_market_type:{short:"Filter rows by market (STOCK, ETF, FX).",long:"Market type filter limits the table to one asset class. Use it to focus on stocks, ETFs, or forex."},filter_symbol:{short:"Search by symbol (ticker)  partial match.",long:"Symbol search filters rows by ticker. Type part of a symbol to narrow the list; matching is case-insensitive."}},oM={horizon_bars:{short:"Holding period in bars (e.g. 1, 3, 5, 10, 20) after the signal; for daily data, 1 bar = 1 day.",long:"Horizon bars is how many bars (e.g. days for daily data) the outcome was measured over. 1 = one bar hold; 5 = five bars. For daily data, horizon is in days. Different horizons can show different performance."},horizon_days:{short:"Horizon in days (for daily data, same as horizon_bars).",long:"For daily bars, horizon in days is the same as horizon_bars: 1 bar = 1 day, 5 bars = 5 days. Used in plain-language explanations."},n:{short:"Number of evaluated outcomes for this horizon.",long:"N is the count of outcomes (successful evaluations) for this horizon. Higher N means the mean and pct positive are based on more data."},mean_outcome:{short:"Average realized return for that horizon.",long:"Mean outcome is the average return realized when holding for this many bars after the signal. Positive means the pattern tended to make money over that horizon."},mean_realized_return:{short:"Average realized return over this horizon (decimal, e.g. 0.02 = 2%).",long:"Mean realized return is the average return actually achieved when holding for this many bars after the signal. It uses REALIZED_RETURN from evaluated outcomes. Positive means the pattern tended to make money over this horizon; the value is in decimal form (e.g. 0.02 = 2%)."},realized_return:{short:"Return from entry price to exit price over the chosen horizon (decimal).",long:"Realized return is the actual return from the entry price to the exit price at the chosen horizon. It is computed from completed evaluations only. Shown in decimal form (e.g. 0.02 = 2%)."},pct_positive:{short:"Share of outcomes that had positive return (01 as decimal, shown as 0100%).",long:"Pct positive is the fraction of evaluated outcomes where the return was positive. Higher means the pattern wins more often over this horizon."},pct_hit:{short:"Share of outcomes where HIT_FLAG was true (target hit).",long:"Pct hit is the fraction of evaluated outcomes where the hit flag was truei.e. the outcome met the pattern's target or success criterion. It is stored as 01 and shown as 0100%."},hit_rate:{short:"Hit rate: how often the move exceeded the minimum threshold (same as pct_hit).",long:"Hit rate shows how often the realized move exceeded the pattern's minimum threshold (HIT_FLAG = true). It is the same as pct_hit: the fraction of outcomes that met the success criterion."},min_outcome:{short:"Smallest realized return in the sample.",long:"Min outcome is the worst single outcome over this horizon. It shows the downside risk in the sample."},max_outcome:{short:"Largest realized return in the sample.",long:"Max outcome is the best single outcome over this horizon. Together with min, it shows the range of results."},last_recommendation_ts:{short:"Timestamp of the most recent recommendation for this symbol/pattern.",long:"Last recommendation timestamp is when the latest signal was generated. It tells you how fresh the data is for this row."}},sM={rank_score:{short:"Deterministic rank score (maturity + sample); higher is better.",long:"Rank score is the maturity score (0100) used to order suggestions. Only rows that meet the minimum sample size are shown. Higher score means more data and more reliable metrics."},suggestion_score:{short:"Transparent score: 0.6maturity + 0.2(mean_return1000) + 0.2(pct_positive100). Uses horizon 5 if present; else best of {3,5,10}.",long:"Suggestion score is computed as: require recs_total  10 and horizons_covered  3; then score = 0.6  maturity_score (from Training Status or a proxy) + 0.2  (mean_realized_return  1000) + 0.2  (pct_positive  100). We use horizon 5 when present; otherwise we choose the best available horizon from {3, 5, 10} by pct_positive (then mean return). No magicformula is deterministic and shown in the tooltip."},suggestion_score_formula:{short:"Score = 0.6maturity + 0.2(mean_return1000) + 0.2(pct_positive100). Horizon: 5 if present, else best of {3,5,10}. Requires recs  10, horizons  3.",long:"The suggestion score uses: (1) maturity_score from Training Status if available, else a proxy from recs_total and horizons_covered; (2) performance at one horizonwe use horizon 5 when present, otherwise the best available of {3, 5, 10} by pct_positive (then mean return). Formula: 0.6maturity + 0.2(mean_return1000) + 0.2(pct_positive100). Minimum: recs_total  10 and at least 3 distinct horizons (e.g. 1, 3, 5, 10, 20) must have outcome data."},why_this_is_shown:{short:"Plain-English reason this candidate appears in the list (deterministic, no LLM).",long:"Why this is shown is a fixed template filled with this row's numbers: that it meets the minimums (recs_total  10, horizons_covered  3), its maturity score and stage, and its 5-bar mean return and pct positive. It explains why this symbol/pattern is ranked and shown."},min_sample:{short:"Minimum number of recommendations required to appear in suggestions.",long:"Minimum sample is the least number of recommendations a symbol/pattern must have to be listed. It filters out very new or thin data so rankings are meaningful."},min_recs_required:{short:"recs_total  10 required for a symbol/pattern to appear in the ranked list.",long:"Minimum recs required means at least 10 recommendations must exist for this market_type/symbol/pattern_id (daily bars) before the row is shown. This avoids ranking on too little data."},min_horizons_required:{short:"At least 3 distinct horizons (e.g. 1, 3, 5, 10, 20 bars) must have outcome data.",long:"Minimum horizons required means at least 3 of the standard evaluation windows (1, 3, 5, 10, 20 bars) must have evaluated outcomes. This ensures the score uses meaningful horizon coverage."},what_history_suggests:{short:"Two-line plain-English summary from evaluated history (template-based, no LLM).",long:"What history suggests is a fixed template: line 1 = sample size and pct positive at the strongest horizon; line 2 = mean return at that horizon. It summarizes what the data showsdeterministic, not AI-generated."},how_to_interpret:{short:"How to read the horizon table and use this for research (no trading advice).",long:"How to interpret: each row is one holding period (1, 3, 5, 10, 20 bars). N = outcome count; mean = average return; pct positive = share of wins. Use this to see which horizon performed best. Research guidance onlynot execution advice."},horizon_strip:{short:"Mini strip showing pct_positive or mean_outcome for horizons 1, 3, 5, 10, 20.",long:"The horizon strip shows a compact view of performance across the five standard horizons. Each cell is either pct_positive (share of positive returns) or mean_outcome (average return). Green shades = better; red = worse. Helps compare at a glance."},explanation_summary:{short:"Plain-English summary of why this row is ranked here (no LLM).",long:"The explanation is a fixed template filled with this row's numbersrecommendations, coverage, maturity stage, and how many horizons have positive average outcomes. It is deterministic, not AI-generated."},no_trades_notice:{short:"This page does not execute or propose trades.",long:"Suggestions are informational only. No trades are placed or proposed from this page. Use Training Status and Performance Summary for analysis; execution happens elsewhere."},detail_drawer:{short:"Click a candidate to open the detail drawer with full horizon table and how to interpret.",long:"The detail drawer shows the full per-horizon table (N, mean, pct positive, min, max) and short text on how to interpret the numbers. Close by clicking outside or the close control."},sample_size:{short:"Number of recommendations (recs_total) for this symbol/patternthe sample size.",long:"Sample size is recs_total: how many recommendations were generated for this market_type/symbol/pattern_id. Shown so you know how much history the suggestion is based on."}},lM={as_of_ts:{short:"What is as-of time?",long:"As-of time is the timestamp of the data this brief was built from. It tells you how fresh the brief ise.g. the latest bar or pipeline run that fed into signals, risk, and proposals."},pipeline_run_id:{short:"What is pipeline run id?",long:"Pipeline run id is the unique identifier of the daily pipeline run that produced this brief. Use it to trace back to audit logs, order proposals, and the exact run that wrote this brief."}},uM={hero_headline:{short:"Brand and product name for the platform.",long:"Market Intelligence Platform is the name of this system. It combines daily-bar research, outcomes-based learning, and explainable suggestions for symbol/pattern candidates."},hero_subtext:{short:"Three pillars: daily-bar research, outcomes-based learning, explainable suggestions.",long:"Daily-bar research means analysis on daily candles; outcomes-based learning means the system learns from realized returns and hit rates; explainable suggestions means ranked candidates with clear metrics and tooltips, not black-box signals."},quick_actions:{short:"Shortcuts to key views: Portfolio, Morning Brief, Training Status, Suggestions.",long:"Quick actions take you directly to the most used pages: view a portfolio (default portfolio 1), read the latest morning brief, open training status by symbol/pattern, or open the ranked suggestions list."},system_at_a_glance:{short:"Summary of last pipeline run, new evaluations since run, and latest brief timestamp.",long:"System at a glance shows live metrics: when the last pipeline run completed and its status, how many new outcome evaluations were added since that run, and when the latest morning brief was generated. Helps you see if data is fresh."}},cM={today_overview:{short:"Single view: system status, portfolio situation, and today's candidates from evaluated history.",long:"Today composes the most important information into one page: is the system alive, what is the portfolio risk state, what are the top things to look at today (ranked by maturity and outcome history). Research guidance onlyno auto-trading."},today_score:{short:"Deterministic score combining maturity and outcome performance for ranking today's candidates.",long:"Today score ranks candidates: a blend of data maturity (0100) and outcome history (mean return and pct positive at 5-bar horizon). Higher score means stronger data and better historical performance. Used only to order the list."},why_this_is_shown:{short:"Plain-English reason this candidate appears in today's list (deterministic, no LLM).",long:"Why it's shown is a fixed template: ranked by data maturity and outcome history, with 5-bar horizon mean return and pct positive. It explains why this symbol/pattern is in today's top candidates."},candidate:{short:"A symbol/pattern pair from today's eligible signals, ranked by maturity and outcome history.",long:"A candidate is a symbol and pattern that appeared in today's eligible signals (V_SIGNALS_ELIGIBLE_TODAY, daily bars). It is enriched with maturity metrics and outcome performance, then ranked. Shown only if maturity stage is not INSUFFICIENT and minimum sample is met."},recent_events:{short:"Run-level portfolio events (e.g. drawdown stop, first flat).",long:"Recent events come from V_PORTFOLIO_RUN_EVENTS: markers like drawdown stop and first time flat (no positions) after a stop. They help you see what happened in recent simulation runs."},latest_brief:{short:"Most recent morning brief for the selected portfolio.",long:"Latest brief is the most recent morning brief written for this portfolio (from MORNING_BRIEF). It includes as_of_ts and pipeline_run_id. Expand to see the full brief JSON."}},dM={audit:QI,portfolio:ZI,risk_gate:JI,signals:eM,proposals:tM,positions:rM,trades:nM,ui:iM,training_status:aM,performance:oM,suggestions:sM,brief:lM,home:uM,today:cM};function fe(e,t){if(!e||!t)return null;const r=dM[e];if(!r)return null;const n=r[t];if(!n||typeof n.short!="string")return null;const i={short:n.short,long:n.long??n.short};return typeof n.what=="string"&&(i.what=n.what),typeof n.why=="string"&&(i.why=n.why),typeof n.how=="string"&&(i.how=n.how),typeof n.next=="string"&&(i.next=n.next),typeof n.calc=="string"&&(i.calc=n.calc),i}function Kv(e){if(!e||typeof e!="string")return null;const t=e.indexOf(".");if(t<=0||t===e.length-1)return null;const r=e.slice(0,t),n=e.slice(t+1);return fe(r,n)}function D({scope:e,key:t,entryKey:r,variant:n="short"}){const i=t??r,{explainMode:a}=Pt(),[o,l]=p.useState(!1),u=p.useRef(null),c=p.useRef(null),d=i!=null&&i.includes(".")?Kv(i):fe(e,i);if(p.useEffect(()=>{if(!o||!u.current||!c.current)return;const y=u.current,x=c.current,g=y.getBoundingClientRect();x.style.left=`${g.left}px`,x.style.top=`${g.bottom+4}px`},[o]),!a||!d)return null;const f=d.what||d.why||d.how,h=n==="long"?d.long:d.short,m=n==="long"&&(d.long.length>120||f),v=m&&o&&(f?s.jsxs("span",{ref:c,className:"info-tooltip-popover info-tooltip-popover--structured",role:"tooltip",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[d.what&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"What:"})," ",d.what,s.jsx("br",{})]}),d.why&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Why:"})," ",d.why,s.jsx("br",{})]}),d.how&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"How:"})," ",d.how,s.jsx("br",{})]}),d.next&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Next:"})," ",d.next]})]}):s.jsx("span",{ref:c,className:"info-tooltip-popover",role:"tooltip",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:d.long}));return s.jsxs("span",{className:"info-tooltip-wrap",ref:u,children:[s.jsx("span",{className:"info-tooltip-icon",title:m?d.short:h,onMouseEnter:()=>m&&l(!0),onMouseLeave:()=>m&&l(!1),onFocus:()=>m&&l(!0),onBlur:()=>m&&l(!1),tabIndex:0,role:"img","aria-label":"More info",children:"?"}),m&&o&&v]})}function wr({message:e="Loading",className:t=""}){return s.jsx("div",{className:`loading-state ${t}`.trim(),role:"status","aria-live":"polite",children:s.jsx("p",{className:"loading-state-message",children:e})})}const gh={id:"home",title:"Home",what:`Your entry point to the system. This page gives you a quick health check and shortcuts to the most important areas.

**What you'll see:**
- **Last Pipeline Run**  When the system last processed market data. If this is old (e.g., more than a day), something may be wrong.
- **New Evaluations**  How many trading signals were measured for performance since the last run.
- **Latest Brief**  When the most recent morning brief was generated.
- **Quick Action Cards**  One-click shortcuts to Portfolios, Morning Brief, Training Status, and Suggestions.`,why:'Start here each day to confirm the system is running normally. If the "Last Pipeline Run" shows a recent timestamp with SUCCESS status, everything is healthy. The quick actions help you jump directly to what matters without hunting through menus.',how:`The page fetches live metrics from the API, which reads from:
- **MIP_AUDIT_LOG**  For pipeline run status and timing
- **MORNING_BRIEF**  For the latest brief timestamp
- **RECOMMENDATION_OUTCOMES**  For evaluation counts

The data refreshes each time you visit the page.`,sources:[{object:"MIP.APP.MIP_AUDIT_LOG",purpose:"Last pipeline run and status."},{object:"MIP.AGENT_OUT.MORNING_BRIEF",purpose:"Latest brief as-of timestamp per portfolio."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Total outcomes and count since last run."}],fields:[{key:"last_run",label:"Last pipeline run",meaning:'When the last daily pipeline run completed. Shows time ago (e.g., "2 hours ago") and status (SUCCESS, FAIL, etc.). A healthy system shows a recent successful run.',glossaryKey:"live.last_pipeline_run"},{key:"since_last_run",label:"New evaluations since last run",meaning:"Number of signal outcomes that were calculated after the last run. Higher numbers mean more historical signals have been measured for performance.",glossaryKey:"live.new_evaluations_since_last_run"},{key:"latest_brief",label:"Latest brief (as-of)",meaning:"The market date covered by the most recent morning brief. This tells you how current the trading recommendations are.",glossaryKey:"live.data_freshness"}]},fM={id:"portfolio",title:"Portfolio",what:`Your portfolio management center. View all portfolios or drill into one for detailed performance analysis.

**List View (all portfolios):**
- **Gate**  Risk status: SAFE (green), CAUTION (yellow), or STOPPED (red)
- **Health**  Overall portfolio health indicator
- **Equity**  Current total value (cash + positions)
- **Paid Out**  Money withdrawn or distributed
- **Active Episode**  Current trading period
- **Status**  ACTIVE, BUST, or STOPPED

**Detail View (single portfolio):**
- **Header Metrics**  Starting cash, final equity, total return, max drawdown, win/loss days
- **Charts**  Equity over time, drawdown chart, trades per day, risk regime strip
- **Snapshot Cards**  Cash & exposure, open positions, recent trades, risk gate status
- **Episode Timeline**  History of all trading episodes with expandable details`,why:`This is where you monitor portfolio health and performance. Check the header metrics to see how you're doing overall. The charts show trends over time  look for upward equity trends and shallow drawdowns. The snapshot cards give you the current state at a glance.

**Key things to watch:**
- **Drawdown approaching threshold**  If the drawdown chart nears the dotted warning line, entries may be blocked soon
- **Risk gate status**  When STOPPED, only exits are allowed
- **Episode changes**  A new episode means the portfolio was reset; historical data is preserved but metrics restart`,how:`Data comes from multiple sources:
- **PORTFOLIO** table  Basic info, status, starting cash
- **PORTFOLIO_DAILY**  Daily equity snapshots for charts
- **PORTFOLIO_POSITIONS**  Current holdings
- **PORTFOLIO_TRADES**  Trade history
- **V_PORTFOLIO_RUN_KPIS**  Aggregated metrics per run

All data is scoped to the current episode (trading period).`,sources:[{object:"MIP.APP.PORTFOLIO",purpose:"Portfolio metadata, status, and configuration."},{object:"MIP.APP.PORTFOLIO_POSITIONS",purpose:"Current open positions with entry prices."},{object:"MIP.APP.PORTFOLIO_TRADES",purpose:"Complete trade history (buys and sells)."},{object:"MIP.APP.PORTFOLIO_DAILY",purpose:"Daily equity, cash, and drawdown snapshots."},{object:"MIP.APP.PORTFOLIO_EPISODE",purpose:"Episode boundaries and lifecycle state."},{object:"MIP.MART.V_PORTFOLIO_RUN_KPIS",purpose:"Aggregated run-level KPIs (return, drawdown, win rate)."}],fields:[{key:"starting_cash",label:"Starting cash",meaning:"The amount of money the portfolio started with at the beginning of the current episode. This is your baseline for calculating returns.",glossaryKey:"portfolio.starting_cash"},{key:"final_equity",label:"Final equity",meaning:"Current total portfolio value = cash on hand + market value of all open positions. This is what you would have if you closed everything now.",glossaryKey:"portfolio.final_equity"},{key:"total_return",label:"Total return",meaning:"Percentage gain or loss since the episode started. Calculated as (final_equity - starting_cash) / starting_cash. Positive = profit, negative = loss.",glossaryKey:"portfolio.total_return"},{key:"max_drawdown",label:"Max drawdown",meaning:"The largest peak-to-trough decline during this episode. Shows the worst-case scenario you experienced. Example: -10% means the portfolio dropped 10% from its highest point before recovering.",glossaryKey:"portfolio.max_drawdown"},{key:"win_days",label:"Win days",meaning:"Number of days with positive returns (equity went up from previous day).",glossaryKey:"portfolio.win_days"},{key:"loss_days",label:"Loss days",meaning:"Number of days with negative returns (equity went down from previous day).",glossaryKey:"portfolio.loss_days"},{key:"status",label:"Status",meaning:"Current portfolio state: ACTIVE (normal trading), STOPPED (risk limits breached, exits only), or BUST (below minimum threshold, trading halted).",glossaryKey:"portfolio.status"},{key:"risk_gate",label:"Risk gate",meaning:"Safety mechanism that controls whether new positions can be opened. SAFE = normal trading. CAUTION = be careful. STOPPED = only exits allowed.",glossaryKey:"risk_gate.mode"}]},hM={id:"risk_gate",title:"Risk Gate",what:`The Risk Gate is the safety mechanism that controls whether new trades can be opened.

**Three Modes:**
- **SAFE (Normal)**  Full trading allowed. You can open new positions and close existing ones.
- **CAUTION**  Warning state. Entries still allowed, but be careful  you're approaching limits.
- **STOPPED (Defensive)**  Entries blocked. You can only close or reduce existing positions.

The gate exists to prevent losses from snowballing. Once you hit the drawdown threshold, the system stops adding risk until conditions improve or you reset the episode.`,why:`So you see at a glance what the system will and won't do: whether you can add risk or should only reduce it. No guessing from raw codes or logs.

**Key insight:** The gate never blocks exits  you can always reduce exposure. It only restricts opening new positions when risk is elevated.`,how:`The API reads V_PORTFOLIO_RISK_GATE and V_PORTFOLIO_RISK_STATE, then normalizes them into a single plain-language object: mode, entries_allowed, exits_allowed, reason_text, and what_to_do_now. The UI shows the permission matrix and recommended actions.

**What triggers STOPPED?**
- **Drawdown stop**  Portfolio dropped too much from peak (e.g., past 10% threshold)
- **Bust threshold**  Portfolio value fell below minimum (e.g., 60% of starting cash)`,sources:[{object:"MIP.MART.V_PORTFOLIO_RISK_GATE",purpose:"Risk gate state per portfolio (entries blocked, allowed actions)."},{object:"MIP.MART.V_PORTFOLIO_RISK_STATE",purpose:"Risk state and stop reason (ALLOWED_ACTIONS, STOP_REASON, RISK_STATUS)."}],fields:[{key:"entries_allowed",label:"Entries allowed",meaning:"Whether opening new positions (buy, add) is allowed. When false, only closing or reducing positions is permitted.",calc:"Derived from ENTRIES_BLOCKED: entries_allowed = NOT entries_blocked.",glossaryKey:"risk_gate.entries_allowed"},{key:"exits_only",label:"Exits only",meaning:"Mode where only closing or reducing positions is allowed; no new entries. The gate never blocks unwinding.",glossaryKey:"risk_gate.defensive_mode"},{key:"drawdown_stop",label:"Drawdown stop",meaning:"A safety rule that pauses new entries when the portfolio has lost too much from its peak. You can still close or reduce positions.",glossaryKey:"risk_gate.drawdown_stop"},{key:"mode",label:"Mode (Normal / Caution / Defensive)",meaning:"Human-friendly label: Normal = full trading, Caution = be careful with new positions, Defensive = exits only.",glossaryKey:"risk_gate.mode"},{key:"reason_text",label:"Reason text",meaning:"One-sentence plain-language reason for the current gate state (e.g., within limits, drawdown hit, safety pause).",glossaryKey:"risk_gate.reason_text"},{key:"what_to_do_now",label:"What to do now",meaning:"Recommended actions for the current mode  use Suggestions, avoid opening many positions, or only close/reduce.",glossaryKey:"risk_gate.what_to_do_now"}]},pM={id:"runs",title:"Audit Viewer (Run Explorer)",what:`Detailed history of all pipeline runs, including errors and step-by-step execution.

**Left Pane  Run List:**
- All pipeline runs with status, duration, and timestamp
- Filter by status (SUCCESS, FAIL) or date range
- Click any run to see details

**Right Pane  Run Details:**
- **Summary Cards**  Status, duration, as-of date, portfolio count, error count
- **Run Narrative**  Plain English: what happened, why, impact, next steps
- **Error Panel**  If failed: error message, SQL query ID, debug SQL to investigate
- **Step Timeline**  Visual flow of each step (Ingestion  Returns  Recommendations  etc.)`,why:`Use this to:
1. **Confirm the pipeline ran**  Check for SUCCESS status
2. **Diagnose failures**  See which step failed without digging through logs
3. **Understand skip reasons**  Why some steps were skipped (e.g., no new data)
4. **Debug issues**  Copy error details and debug SQL for investigation`,how:`Runs are read from MIP_AUDIT_LOG (EVENT_TYPE=PIPELINE). Steps come from PIPELINE_STEP events. Error details include SQLSTATE, query ID, and context. Debug SQL is auto-generated for the selected run.

**Pipeline steps in order:**
1. Ingestion  Fetch market data
2. Returns  Calculate price changes
3. Recommendations  Generate signals
4. Evaluation  Measure past signal performance
5. Simulation  Run portfolio paper trading
6. Proposals  Create trade suggestions
7. Execution  Execute approved trades
8. Morning Brief  Generate daily summary`,sources:[{object:"MIP.APP.MIP_AUDIT_LOG",purpose:"Pipeline runs and steps; RUN_ID, EVENT_TS, STATUS, ERROR_MESSAGE, DURATION_MS, DETAILS."},{object:"INFORMATION_SCHEMA.QUERY_HISTORY",purpose:"Query details for failed queries (via ERROR_QUERY_ID)."}],fields:[{key:"run_id",label:"Run ID",meaning:"Unique identifier for the pipeline run. UUID format. Click to copy."},{key:"started_at",label:"Started at",meaning:"When the run started."},{key:"completed_at",label:"Completed at",meaning:"When the run finished."},{key:"status",label:"Status",meaning:"Outcome: SUCCESS (all steps passed), FAIL (at least one step failed), SUCCESS_WITH_SKIPS (completed but some steps skipped).",glossaryKey:"audit.run_status"},{key:"duration_ms",label:"Duration",meaning:"Total time taken for the run in milliseconds."},{key:"error_message",label:"Error Message",meaning:"The error message captured when a step failed."},{key:"error_query_id",label:"Query ID",meaning:"Snowflake query ID of the failed statement. Use to look up in QUERY_HISTORY for full details."},{key:"step_timeline",label:"Step Timeline",meaning:"Visual flow showing each pipeline step. Green = success, red = failed, gray = skipped."},{key:"debug_sql",label:"Debug SQL",meaning:"Pre-generated SQL queries to investigate this run in Snowflake. Copy and run in your SQL editor."}]},mM={id:"brief",title:"Morning Brief",what:`Your daily trading summary. The Morning Brief compiles everything you need to know about today's opportunities, risks, and portfolio status.

**Key Sections:**

**Executive Summary**
- Are entries allowed? (risk gate status)
- How many suggestions today?
- Were any trades executed?

**Portfolio Actions**
- Current open positions
- Trades executed this run
- Last simulation timestamp

**Today's Proposals**
- Suggested trades based on trusted signals
- Each shows: symbol, side (BUY/SELL), market type, pattern, confidence
- These are proposals, not executed trades  they passed filters but await execution

**Risk & Guardrails**
- Current risk state and thresholds
- What actions are allowed
- Warning if approaching limits

**Changes Since Last Brief**
- Equity delta (up/down since yesterday)
- Return change
- Drawdown change
- Position changes`,why:`Read this every morning to understand:
1. **What's new**  Any proposals or executed trades
2. **Risk status**  Can you open new positions?
3. **Performance**  How did the portfolio change since yesterday?

**Important distinctions:**
- **Proposals** = Suggestions that passed initial filters, ready to execute
- **Executed** = Trades that were actually simulated in the portfolio

**Staleness indicator:**
- **CURRENT** (green)  Brief matches the latest pipeline run
- **STALE** (yellow)  A newer pipeline run exists; this brief may be outdated`,how:`The brief is generated at the end of each pipeline run:

1. **SP_AGENT_PROPOSE_TRADES**  Creates trade proposals from eligible signals
2. **SP_VALIDATE_AND_EXECUTE_PROPOSALS**  Validates against risk rules, executes approved trades
3. **SP_WRITE_MORNING_BRIEF**  Compiles everything into a JSON document

The brief includes attribution (which run produced it) so you can trace any data back to its source.`,sources:[{object:"MIP.AGENT_OUT.MORNING_BRIEF",purpose:"The stored brief document with AS_OF_TS, PIPELINE_RUN_ID, and BRIEF JSON."},{object:"MIP.AGENT_OUT.ORDER_PROPOSALS",purpose:"Trade proposals with status (PROPOSED, APPROVED, REJECTED, EXECUTED)."},{object:"MIP.APP.PORTFOLIO",purpose:"Portfolio status and current state."},{object:"MIP.MART.V_PORTFOLIO_RISK_GATE",purpose:"Risk gate status for entries allowed/blocked."}],fields:[{key:"as_of_ts",label:"As-of date",meaning:'The market date this brief covers (e.g., "Feb 4, 2026"). This is the date of the market data used, not when the brief was generated.',glossaryKey:"brief.as_of_ts"},{key:"generated_at",label:"Generated at",meaning:"When the brief was actually created. This may be later than the as-of date (e.g., brief generated at 7:00 AM for yesterday's market close).",glossaryKey:"brief.generated_at"},{key:"pipeline_run_id",label:"Pipeline run ID",meaning:"Unique identifier for the pipeline run that produced this brief. Use this to trace data or investigate in the Audit Viewer.",glossaryKey:"brief.pipeline_run_id"},{key:"entries_allowed",label:"Entries allowed",meaning:"Whether new positions can be opened. If false, only closing existing positions is allowed (risk gate triggered).",glossaryKey:"risk_gate.entries_allowed"},{key:"proposals",label:"Proposals",meaning:"Suggested trades that passed initial validation. Shows symbol, side (BUY/SELL), and confidence. Not yet executed.",glossaryKey:"brief.proposals"},{key:"executed_trades",label:"Executed trades",meaning:"Trades that were actually simulated during this run. These affect portfolio positions and equity.",glossaryKey:"brief.executed_trades"},{key:"staleness",label:"Staleness",meaning:"Whether this brief is current or outdated. STALE means a newer pipeline run completed but the brief hasn't been updated yet.",glossaryKey:"brief.staleness"}]},vM={id:"training",title:"Training Status",what:`How well the system has learned each pattern for each symbol.

**Table Columns:**
- **Market Type**  STOCK, ETF, or FX
- **Symbol**  The asset (e.g., AAPL, GOOGL)
- **Pattern**  Pattern ID (which detection algorithm)
- **Interval**  Time interval (1440 = daily bars)
- **Maturity**  Learning stage and confidence score
- **Sample Size**  How many times this pattern was observed
- **Coverage**  Percentage of observations that have been evaluated
- **Horizons**  Which forward periods have been measured (1, 3, 5, 10, 20 bars)
- **Avg Outcomes**  Average returns at each horizon (H1, H3, H5, H10, H20)

**Maturity Stages:**
- **INSUFFICIENT**  Not enough data to draw conclusions
- **WARMING_UP**  Starting to gather data
- **LEARNING**  Building confidence
- **CONFIDENT**  Enough data for reliable predictions`,why:`Use this to understand:
1. **Which patterns to trust**  CONFIDENT patterns have proven themselves
2. **Where data is thin**  INSUFFICIENT or WARMING_UP need more time
3. **Performance by horizon**  Some patterns work better for short-term, others for longer holds

**Key insight:** Only patterns that reach sufficient maturity are used for trade proposals. Early patterns are tracked but not acted upon.`,how:`Data comes from:
- **RECOMMENDATION_LOG**  All recommendations (signals) generated
- **RECOMMENDATION_OUTCOMES**  Evaluated results for each signal

Maturity score combines:
- Sample size (how many observations)
- Coverage ratio (what percentage evaluated)
- Horizon coverage (how many time windows measured)

Daily bars only. Realized return = (exit price - entry price) / entry price.`,sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Recommendations per symbol/pattern/interval."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Evaluated outcomes (REALIZED_RETURN, HIT_FLAG, EVAL_STATUS)."}],fields:[{key:"maturity_score",label:"Maturity score",meaning:"0-100 score based on sample size, coverage, and horizons. Higher = more reliable predictions.",glossaryKey:"training_status.maturity_score"},{key:"maturity_stage",label:"Maturity stage",meaning:"Human-readable label: INSUFFICIENT (need more data), WARMING_UP (early stage), LEARNING (building confidence), CONFIDENT (reliable).",glossaryKey:"training_status.maturity_stage"},{key:"recs_total",label:"Sample size",meaning:"Total number of recommendations (signals) for this symbol/pattern. More samples = more reliable statistics.",glossaryKey:"training_status.recs_total"},{key:"outcomes_total",label:"Outcomes total",meaning:"Number of evaluated outcomes. Each recommendation can have up to 5 outcomes (one per horizon).",glossaryKey:"training_status.outcomes_total"},{key:"horizons_covered",label:"Horizons covered",meaning:"How many time windows (1, 3, 5, 10, 20 bars) have evaluation data. More horizons = better understanding of pattern behavior.",glossaryKey:"training_status.horizons_covered"},{key:"coverage_ratio",label:"Coverage ratio",meaning:"Share of possible outcomes that were evaluated (0-1). 1.0 = all possible evaluations completed.",glossaryKey:"training_status.coverage_ratio"}]},yh={id:"suggestions",title:"Suggestions",what:`Ranked trading opportunities based on historical performance.

**Two Categories:**
- **Strong Candidates**  Patterns with 10+ recommendations (more reliable)
- **Early Signals**  Patterns with 3-9 recommendations (still learning, lower confidence)

**For Each Suggestion:**
- **Rank**  Overall ranking based on suggestion score
- **Symbol/Pattern**  Which stock and which detection pattern
- **Suggestion Score**  Combined score (higher = better opportunity)
- **Maturity Stage**  INSUFFICIENT -> WARMING_UP -> LEARNING -> CONFIDENT
- **Maturity Score**  0-100% confidence in this pattern
- **What History Suggests**  Summary of past performance
- **Horizon Strip**  Performance at 1, 3, 5, 10, 20 bars forward

**Evidence Drawer:** Click any suggestion to see detailed charts and statistics.`,why:`This is where you find trading ideas. The system ranks opportunities by combining:
1. **Data maturity**  How much we know about this pattern
2. **Historical performance**  How well it performed in the past

**Key insight:** Strong candidates are more reliable than early signals. Early signals are promising but need more data to confirm.`,how:`Score calculation:
- **Suggestion Score** = 0.6 x maturity + 0.2 x (mean_return x 1000) + 0.2 x (pct_positive x 100)
- **Effective Score** (for early signals) = score x min(1, recs/10)

Data from RECOMMENDATION_LOG + RECOMMENDATION_OUTCOMES. Daily bars only. Only EVAL_STATUS=COMPLETED outcomes are used.`,sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Recommendations (signals) for each symbol/pattern."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Realized return and hit flag per horizon."}],fields:[{key:"suggestion_score",label:"Suggestion score",meaning:"Blend of maturity and performance. Higher = better trading opportunity.",glossaryKey:"suggestions.suggestion_score"},{key:"effective_score",label:"Effective score",meaning:"Score adjusted for sample size. Early signals (fewer than 10 recs) are downweighted.",glossaryKey:"suggestions.effective_score"},{key:"recs_total",label:"Sample size",meaning:"Number of recommendations for this symbol/pattern. More = more reliable.",glossaryKey:"suggestions.sample_size"},{key:"strong_candidate",label:"Strong candidate",meaning:"Has 10+ recommendations and 3+ horizons evaluated. More reliable for trading.",glossaryKey:"suggestions.strong_candidate"},{key:"early_signal",label:"Early signal",meaning:"Has 3-9 recommendations. Promising but needs more data. Treat with caution.",glossaryKey:"suggestions.early_signal"},{key:"horizon_strip",label:"Horizon strip",meaning:"Shows performance at each holding period (1, 3, 5, 10, 20 bars). Green = positive return, red = negative.",glossaryKey:"suggestions.horizon_strip"}]},gM={id:"today",title:"Today",what:`Your daily dashboard. Everything about today's trading situation in one place.

**Sections:**

**System Status**  Database connection health (green = OK)

**Portfolio Selector**  Switch between different portfolios

**Risk Gate**  Current gate state: SAFE, CAUTION, or STOPPED

**Recent Run Events**  What happened in the last pipeline run

**Today's Insights**  Ranked list of trading candidates based on pattern detection and historical performance

**Latest Brief**  Collapsible view of the morning brief`,why:`Use this page for your daily check-in. In one glance you can:

1. **Verify the system is healthy**  Green status, recent pipeline run
2. **Check your risk state**  Can you open new positions?
3. **See today's opportunities**  Ranked candidates with clear reasoning
4. **Access the brief**  Full details without leaving the page

**Reading Today's Insights:**
- **Maturity Score**  How confident we are in this pattern (0-100%)
- **Today Score**  How strong the current signal is
- **Why Shown**  The specific reason this candidate appears`,how:`This page composes data from multiple sources:
- Status check from API health endpoint
- Portfolio data from PORTFOLIO table
- Risk state from V_PORTFOLIO_RISK_GATE
- Candidates from RECOMMENDATION_LOG filtered by training maturity
- Brief from MORNING_BRIEF

All data uses daily bars only.`,sources:[{object:"MIP.APP.MIP_AUDIT_LOG",purpose:"Last pipeline run status and timing."},{object:"MIP.APP.PORTFOLIO",purpose:"Portfolio list, status, and current equity."},{object:"MIP.MART.V_PORTFOLIO_RISK_GATE",purpose:"Risk gate state (entries allowed/blocked)."},{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Today's signals for ranking candidates."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Historical performance for maturity scoring."},{object:"MIP.AGENT_OUT.MORNING_BRIEF",purpose:"Latest brief content."}],fields:[{key:"system_status",label:"System status",meaning:"Overall health: Green = database connected, pipeline running. Red = connection issue or failure.",glossaryKey:"live.system_status"},{key:"risk_gate",label:"Risk gate",meaning:"Trading permission state: SAFE = normal, CAUTION = careful, STOPPED = exits only.",glossaryKey:"risk_gate.mode"},{key:"maturity_score",label:"Maturity score",meaning:"Confidence in a pattern (0-100%). Higher = more data, more reliable.",glossaryKey:"training_status.maturity_score"},{key:"today_score",label:"Today score",meaning:"Strength of the current signal. Higher = stronger pattern match today.",glossaryKey:"signals.score"},{key:"why_shown",label:"Why shown",meaning:'Specific reason this candidate appears (e.g., "TRUSTED pattern with strong signal").',glossaryKey:"today.why_shown"}]},yM={id:"signals",title:"Signals",what:`A searchable list of all trading signals generated by the system.

**Table Columns:**
- **Symbol**  The stock/asset (e.g., AAPL, GOOGL)
- **Market**  Type of asset: STOCK, ETF, or FX
- **Pattern**  Which detection pattern generated this signal
- **Score**  Signal strength (higher = stronger pattern match)
- **Trust**  Pattern reliability: TRUSTED, WATCH, or UNTRUSTED
- **Action**  BUY or SELL
- **Eligible**  Can this signal be traded today?
- **Signal Time**  When the signal was generated

**Filters:**
- Filter by symbol, market type, pattern, trust level, run ID, or date
- Use "From Brief" to jump here with filters pre-set from the Morning Brief`,why:`Use this page to:
1. **Browse all signals**  See everything the system detected
2. **Filter by criteria**  Find signals for specific symbols or patterns
3. **Understand trust levels**  See which patterns are reliable

**Trust Levels:**
- **TRUSTED**  30+ successes, 80%+ coverage, positive returns. Used for trade proposals.
- **WATCH**  Promising but needs more data. Monitored but not traded.
- **UNTRUSTED**  Negative returns or insufficient data. Ignored.`,how:`Signals are generated by the RECOMMENDATIONS step of the daily pipeline. Pattern detection algorithms scan price data and produce signals when patterns are detected.

Each signal includes:
- The symbol and pattern that triggered it
- A score indicating strength
- Trust level based on historical performance
- Eligibility for trading (based on filters and rules)`,sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"All generated signals with scores, patterns, and timestamps."},{object:"MIP.MART.V_TRUSTED_SIGNALS",purpose:"Trust classification for each pattern."},{object:"MIP.MART.V_SIGNALS_ELIGIBLE_TODAY",purpose:"Eligibility status for today's trading."}],fields:[{key:"symbol",label:"Symbol",meaning:"The stock or asset ticker (e.g., AAPL, MSFT, EUR/USD).",glossaryKey:"signals.symbol"},{key:"market_type",label:"Market type",meaning:"Asset class: STOCK (individual stocks), ETF (exchange-traded funds), or FX (foreign exchange).",glossaryKey:"signals.market_type"},{key:"pattern_id",label:"Pattern",meaning:"Which detection algorithm generated this signal. Different patterns look for different price behaviors.",glossaryKey:"signals.pattern_id"},{key:"score",label:"Score",meaning:"Signal strength. Higher values = stronger pattern match. Used for ranking.",glossaryKey:"signals.score"},{key:"trust_label",label:"Trust",meaning:"Reliability: TRUSTED (proven), WATCH (promising), UNTRUSTED (avoid). Only TRUSTED patterns generate proposals.",glossaryKey:"signals.trust_label"},{key:"action",label:"Action",meaning:"Suggested direction: BUY (price expected to rise) or SELL (price expected to fall).",glossaryKey:"signals.action"},{key:"eligible",label:"Eligible",meaning:"Whether this signal can be traded today. False if already holding, at position limit, or other restrictions.",glossaryKey:"signals.eligible"}]},xM={id:"market-timeline",title:"Market Timeline",what:`End-to-end view of what happened with each symbol  from signals to proposals to trades.

**Main Grid:**
Each card shows a symbol with:
- **Counts**  How many signals, proposals, and trades for that symbol
- **Trust badges**  Trust level for this symbol's patterns
- **ACTION badge**  Shows if there's a proposal for today

**Expanded Detail View (click a symbol):**
- **OHLC Chart**  Price candlesticks with event overlays (signals, proposals, trades marked on the chart)
- **Decision Narrative**  AI-generated explanation of what happened
- **Trust Summary**  Trust levels by pattern for this symbol
- **Recent Events**  Table of signals, proposals, trades with timestamps`,why:`Use this for deep investigation into a specific symbol:
1. **See the full journey**  Signal -> Proposal -> Trade timeline
2. **Visual context**  Events overlaid on the price chart
3. **Understand decisions**  Why proposals were made or rejected
4. **Pattern performance**  Trust summary shows which patterns work for this symbol

**Key insight:** The chart shows WHERE on the price timeline events occurred, helping you see if signals appeared at good entry/exit points.`,how:`Data is composed from multiple sources:
- **RECOMMENDATION_LOG**  Signals for this symbol
- **ORDER_PROPOSALS**  Proposals (suggested trades)
- **PORTFOLIO_TRADES**  Executed trades
- **MARKET_BARS**  OHLC price data for charts

The decision narrative is generated by analyzing the sequence of events and explaining the reasoning.`,sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Signals per symbol with timestamps."},{object:"MIP.AGENT_OUT.ORDER_PROPOSALS",purpose:"Trade proposals with status."},{object:"MIP.APP.PORTFOLIO_TRADES",purpose:"Executed trades."},{object:"MIP.MART.MARKET_BARS",purpose:"OHLC price data for charts."},{object:"MIP.MART.V_TRUSTED_SIGNALS",purpose:"Trust classification per pattern."}],fields:[{key:"signal_count",label:"Signals",meaning:"Number of signals generated for this symbol in the selected window.",glossaryKey:"market_timeline.signal_count"},{key:"proposal_count",label:"Proposals",meaning:"Number of trade proposals created (passed initial filters).",glossaryKey:"market_timeline.proposal_count"},{key:"trade_count",label:"Trades",meaning:"Number of actual trades executed for this symbol.",glossaryKey:"market_timeline.trade_count"},{key:"trust_badge",label:"Trust badge",meaning:"Trust level for this symbol's primary pattern. TRUSTED, WATCH, or UNTRUSTED.",glossaryKey:"market_timeline.trust_badge"},{key:"action_badge",label:"ACTION badge",meaning:"Shows if there's an active proposal for this symbol today.",glossaryKey:"market_timeline.action_badge"},{key:"ohlc_chart",label:"OHLC chart",meaning:"Candlestick price chart with events overlaid. Signals, proposals, and trades are marked at their occurrence points.",glossaryKey:"market_timeline.ohlc_chart"},{key:"decision_narrative",label:"Decision narrative",meaning:"Plain-English explanation of what happened with this symbol and why.",glossaryKey:"market_timeline.decision_narrative"}]},wM={id:"debug",title:"Debug",what:`Route smoke checks: tests that each API endpoint responds correctly.

**Table Shows:**
- **URL**  API endpoint being tested
- **Status**  Green = OK (responding), Red = Error (failed)
- **Preview**  Sample of the response data

Use "Copy diagnostics" to copy all results for troubleshooting.`,why:"Use this page to quickly verify all API endpoints are working. If you're experiencing issues in other parts of the app, check here first to identify which endpoints may be failing.",how:"Each row calls one API route and checks the response. This is a client-side smoke test  no Snowflake queries, just API health checks.",sources:[],fields:[]};function bM(e,t){return{id:"suggestions-evidence",title:`Evidence: ${t?`${t}-day horizon`:"Selected horizon"}`,what:`Detailed evidence for this symbol/pattern at the ${t||"?"}-bar horizon.

**What you'll see:**
- **What history suggests**  Summary of past performance
- **Horizon strip**  Returns at 1, 3, 5, 10, 20 bars
- **Distribution chart**  Histogram of realized returns
- **Confidence metrics**  Sample size, hit rate, coverage`,why:"Use this drawer to dig deeper into a suggestion before deciding to act. The distribution chart shows the spread of outcomes  a tight distribution means more predictable results.",how:`Daily bars only. Realized return = (exit price - entry price) / entry price over ${t||"N"} bars.

Data comes from RECOMMENDATION_OUTCOMES with EVAL_STATUS=COMPLETED.`,sources:[{object:"MIP.APP.RECOMMENDATION_LOG",purpose:"Recommendations for this symbol/pattern."},{object:"MIP.APP.RECOMMENDATION_OUTCOMES",purpose:"Realized return per outcome."}],fields:[{key:"horizon_bars",label:"Horizon (bars)",meaning:"Holding period in bars (e.g., 5 = 5 days for daily bars).",glossaryKey:"performance.horizon_bars"},{key:"realized_return",label:"Realized return",meaning:"Return from entry to exit over this horizon (as decimal, e.g., 0.05 = 5%).",glossaryKey:"performance.realized_return",calc:"(exit - entry) / entry"},{key:"pct_positive",label:"% positive",meaning:"Share of outcomes with positive return. Higher = more consistent wins.",glossaryKey:"performance.pct_positive"},{key:"mean_realized_return",label:"Mean return",meaning:"Average return over this horizon across all samples.",glossaryKey:"performance.mean_realized_return"},{key:"distribution",label:"Distribution chart",meaning:"Histogram showing the spread of returns. Tight = predictable, wide = variable.",glossaryKey:"performance.distribution"}]}}const li="today",w0="risk_gate",b0="training_status",_0="performance";function au(e,t){var r;return(e==null?void 0:e[t])??(e==null?void 0:e[(r=t==null?void 0:t.toUpperCase)==null?void 0:r.call(t)])??null}function _M(){var P;const[e,t]=gl(),r=e.get("portfolio_id"),n=r?parseInt(r,10):null,{portfolios:i,defaultPortfolioId:a,loading:o}=By(),{explainMode:l}=Pt(),[u,c]=p.useState(null),[d,f]=p.useState(!0),[h,m]=p.useState(null),{setContext:v}=Pr();if(p.useEffect(()=>{r!=null||o||a==null||t({portfolio_id:String(a)},{replace:!0})},[a,r,o,t]),p.useEffect(()=>{v(gM)},[v]),p.useEffect(()=>{let j=!1;f(!0),m(null);const k=n!=null?`${ae}/today?portfolio_id=${encodeURIComponent(n)}`:`${ae}/today`;return fetch(k).then(S=>S.ok?S.json():Promise.reject(new Error(S.statusText||"Failed to load"))).then(S=>{j||c(S)}).catch(S=>{j||m(S.message)}).finally(()=>{j||f(!1)}),()=>{j=!0}},[n]),d)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Today"}),s.jsx(wr,{message:"Loading system status and todays view"})]});if(h)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Today"}),s.jsx(tn,{message:h})]});const y=(u==null?void 0:u.status)??{},x=(u==null?void 0:u.portfolio)??null,g=(u==null?void 0:u.brief)??null,w=Array.isArray(u==null?void 0:u.insights)?u.insights:[],b=y.snowflake_ok===!0,_=y.message??(b?"OK":"Data backend not reachable");return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Today"}),l&&s.jsxs("p",{className:"today-intro",children:["One view: system status, portfolio situation, and todays candidates from evaluated history. Research guidance onlyno auto-trading.",s.jsx(D,{scope:li,entryKey:"today_overview",variant:"short"})]}),s.jsxs("section",{className:"today-status-line","aria-label":"System status",children:[s.jsx("span",{className:`today-status-dot ${b?"today-status-dot--ok":"today-status-dot--degraded"}`,"aria-hidden":"true"}),s.jsx("span",{className:"today-status-message",children:_}),s.jsx(D,{scope:"ui",entryKey:"system_status",variant:"short"}),i.length>0&&s.jsxs("label",{className:"today-portfolio-picker",children:[s.jsx("span",{className:"today-portfolio-picker-label",children:"Portfolio:"}),s.jsxs("select",{value:n!=null?String(n):"",onChange:j=>{const k=j.target.value;t(k?{portfolio_id:k}:{})},"aria-label":"Select portfolio",children:[s.jsx("option",{value:"",children:""}),i.map(j=>{const k=j.PORTFOLIO_ID??j.portfolio_id;return s.jsx("option",{value:String(k),children:j.NAME??j.name??k},k)})]})]})]}),!b&&s.jsx("div",{className:"today-degraded-notice",children:s.jsx("p",{children:"Snowflake is unreachable. Portfolio, brief, and insights are unavailable until the connection is restored."})}),s.jsxs("div",{className:"today-grid",children:[s.jsxs("section",{className:"today-portfolio","aria-label":"Portfolio situation",children:[s.jsx("h2",{children:"Portfolio situation"}),n==null&&!o?s.jsx(dt,{title:"No portfolio selected",explanation:"Select a portfolio from the dropdown below or add ?portfolio_id=<id> to the URL. When portfolios exist, the first active one is selected by default.",reasons:["Use the portfolio selector below or /today?portfolio_id=<id> to load a specific portfolio."]}):n!=null&&!x?s.jsx(dt,{title:"No portfolio data",explanation:"Risk state and events could not be loaded for this portfolio.",reasons:["Portfolio may not exist.","Snowflake may be unreachable."]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"today-card today-card-risk",children:[s.jsxs("h3",{children:["Risk gate status ",s.jsx(D,{scope:w0,entryKey:"entries_blocked",variant:"short"})]}),(()=>{const j=x.risk_gate&&x.risk_gate[0]||x.risk_state&&x.risk_state[0],k=(j==null?void 0:j.ENTRIES_BLOCKED)??(j==null?void 0:j.entries_blocked)??!1,S=(j==null?void 0:j.STOP_REASON)??(j==null?void 0:j.stop_reason)??(j==null?void 0:j.BLOCK_REASON)??(j==null?void 0:j.block_reason),N=k?"Entries blocked but exits allowed.":"Trading allowed.";return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"today-risk-summary",children:s.jsx("strong",{children:N})}),k&&s.jsx(D,{scope:w0,entryKey:"allow_exits_only",variant:"short"}),S!=null&&String(S)!==""&&s.jsxs("p",{className:"today-risk-reason",children:["Reason: ",String(S)]})]})})()]}),s.jsxs("div",{className:"today-card today-card-events",children:[s.jsxs("h3",{children:["Recent events ",s.jsx(D,{scope:li,entryKey:"recent_events",variant:"short"})]}),((P=x.run_events)==null?void 0:P.length)>0?s.jsx("ul",{className:"today-events-list",children:x.run_events.slice(0,10).map((j,k)=>s.jsxs("li",{children:["Run ",au(j,"RUN_ID")??au(j,"run_id"),"  ",au(j,"STOP_REASON")??au(j,"stop_reason")??""]},k))}):s.jsx("p",{className:"today-empty-inline",children:"No recent run events."})]})]})]}),s.jsxs("section",{className:"today-insights","aria-label":"Today's insights",children:[s.jsxs("h2",{children:["Todays insights ",s.jsx(D,{scope:li,entryKey:"candidate",variant:"short"})]}),w.length===0?s.jsx(dt,{title:"No candidates to show",explanation:"Candidates are symbol/pattern pairs from todays eligible signals, ranked by maturity and outcome history. None met the filter (e.g. maturity stage not INSUFFICIENT, minimum recs).",reasons:["No eligible signals for today (INTERVAL_MINUTES=1440).","All candidates filtered out (maturity or sample).","Pipeline has not run yet."]}):s.jsx("ul",{className:"today-insights-list",children:w.map((j,k)=>{var S,N,E,C;return s.jsxs("li",{className:"today-insight-card",children:[s.jsxs("div",{className:"today-insight-header",children:[s.jsxs("span",{className:"today-insight-rank",children:["#",k+1]}),s.jsx("span",{className:"today-insight-symbol",children:j.symbol??""}),s.jsxs("span",{className:"today-insight-pattern",children:["pattern ",j.pattern_id??""]}),s.jsx("span",{className:"today-insight-market",children:j.market_type??""}),s.jsx("span",{className:`today-insight-stage today-insight-stage--${(j.maturity_stage??"").toLowerCase().replace("_","-")}`,title:l?(S=fe(b0,j.maturity_stage==="INSUFFICIENT"?"stage_insufficient":j.maturity_stage==="CONFIDENT"?"stage_confident":"maturity_stage"))==null?void 0:S.short:void 0,children:j.maturity_stage??""}),s.jsx(D,{scope:b0,entryKey:"maturity_stage",variant:"short"}),s.jsxs("span",{className:"today-insight-score",title:l?(N=fe(li,"today_score"))==null?void 0:N.short:void 0,children:["Today score: ",j.today_score!=null?Number(j.today_score).toFixed(2):""]}),s.jsx(D,{scope:li,entryKey:"today_score",variant:"short"})]}),s.jsx("div",{className:"today-insight-maturity-bar",children:s.jsx("div",{className:"today-insight-maturity-fill",style:{width:`${Math.min(100,Math.max(0,j.maturity_score??0))}%`},role:"progressbar","aria-valuenow":j.maturity_score??0,"aria-valuemin":0,"aria-valuemax":100})}),s.jsxs("p",{className:"today-insight-what",title:l?(E=fe(_0,"mean_outcome"))==null?void 0:E.short:void 0,children:["What history suggests: maturity score ",j.maturity_score??"","; outcomes at 5-bar horizon in performance summary.",s.jsx(D,{scope:_0,entryKey:"mean_outcome",variant:"short"})]}),s.jsxs("p",{className:"today-insight-why",title:l?(C=fe(li,"why_this_is_shown"))==null?void 0:C.short:void 0,children:["Why its shown: ",j.why_this_is_here??"",s.jsx(D,{scope:li,entryKey:"why_this_is_shown",variant:"short"})]})]},k)})})]})]}),s.jsxs("section",{className:"today-brief","aria-label":"Latest brief",children:[s.jsxs("h2",{children:["Latest brief ",s.jsx(D,{scope:li,entryKey:"latest_brief",variant:"short"})]}),n==null?s.jsx("p",{className:"today-empty-inline",children:"Select a portfolio above to see the latest brief."}):g?s.jsxs("details",{className:"today-brief-details",children:[s.jsxs("summary",{children:["Brief as of ",g.as_of_ts??""," (run ",g.pipeline_run_id??"",")"]}),g.brief_json!=null?s.jsx("pre",{className:"today-brief-json",children:typeof g.brief_json=="string"?g.brief_json:JSON.stringify(g.brief_json,null,2)}):s.jsx("p",{className:"today-empty-inline",children:"No brief JSON."})]}):s.jsx(dt,{title:"No brief",explanation:"No morning brief found for this portfolio.",reasons:["Pipeline has not written a brief yet.","Agent run may not have completed."]})]})]})}const jM=6e4;function oa(e){if(e==null)return"";const t=typeof e=="string"?new Date(e):e;if(Number.isNaN(t.getTime()))return"";const r=Date.now(),n=Math.floor((r-t.getTime())/1e3);if(n<0)return"just now";if(n<60)return`${n} sec ago`;const i=Math.floor(n/60);if(i<60)return`${i} min ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const o=Math.floor(a/24);return`${o} day${o!==1?"s":""} ago`}function SM(){const{explainMode:e}=Pt(),t=Wy(),[r,n]=p.useState(null),[i,a]=p.useState(!0),[o,l]=p.useState(null),[u,c]=p.useState(null),[d,f]=p.useState(0),h=p.useCallback(()=>{fetch(`${ae}/live/metrics?portfolio_id=${t}`).then(b=>b.ok?b.json():Promise.reject(new Error(b.statusText))).then(b=>{n(b),c(Date.now()),l(null)}).catch(b=>{l(b.message),n(null)}).finally(()=>a(!1))},[t]);p.useEffect(()=>{h();const b=setInterval(h,jM);return()=>clearInterval(b)},[h]),p.useEffect(()=>{const b=setInterval(()=>f(_=>_+1),1e3);return()=>clearInterval(b)},[]);const m=u!=null?Math.max(0,Math.floor((Date.now()-u)/1e3)):null;if(i&&!r)return s.jsxs("div",{className:"live-header",role:"status","aria-label":"Live metrics loading",children:[s.jsx("span",{className:"live-header-label",children:"Live"}),s.jsx("span",{className:"live-header-value",children:"Loading"})]});const v=r==null?void 0:r.last_run,y=r==null?void 0:r.last_brief,x=(r==null?void 0:r.outcomes)??{},g=x.since_last_run??0,w=x.last_calculated_at??null;return s.jsxs("div",{className:"live-header",role:"region","aria-label":"Live metrics",children:[s.jsx("span",{className:"live-header-label",children:"Live"}),v&&s.jsxs("span",{className:"live-header-item",title:e?void 0:null,children:["Last pipeline run: ",oa(v.completed_at??v.started_at),s.jsx("span",{className:`live-header-badge live-header-badge--${(v.status||"").toLowerCase()}`,children:v.status??""}),s.jsx(D,{scope:"live",entryKey:"last_pipeline_run",variant:"short"})]}),(y==null?void 0:y.found)&&s.jsxs("span",{className:"live-header-item",title:e?void 0:null,children:["Latest brief: ",oa(y.as_of_ts),s.jsx(D,{scope:"live",entryKey:"latest_brief",variant:"short"})]}),g>0&&s.jsxs("span",{className:"live-header-item live-header-item--pulse",title:e?void 0:null,children:["New evaluations since last run: +",g,s.jsx(D,{scope:"live",entryKey:"new_evaluations_since_last_run",variant:"short"})]}),w&&s.jsxs("span",{className:"live-header-item",title:e?void 0:null,children:["Data freshness: outcomes updated ",oa(w)," ago",s.jsx(D,{scope:"live",entryKey:"data_freshness",variant:"short"})]}),m!=null&&s.jsxs("span",{className:"live-header-item live-header-meta",children:["Updated ",m," sec ago"]}),o&&s.jsx("span",{className:"live-header-error",role:"alert",children:"Live metrics unavailable"})]})}function PM(){const e=Wy(),[t,r]=p.useState(!0),[n,i]=p.useState(null),{setContext:a}=Pr(),o=xc(gh),l=xc({...gh,id:"home-glance",title:"System at a glance"});if(p.useEffect(()=>{a(gh)},[a]),p.useEffect(()=>{let h=!1;return fetch(`${ae}/live/metrics?portfolio_id=${e}`).then(m=>m.ok?m.json():Promise.reject(new Error(m.statusText))).then(m=>{h||i(m)}).catch(()=>{h||i(null)}).finally(()=>{h||r(!1)}),()=>{h=!0}},[e]),t)return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"home-hero home-hero--loading","aria-hidden":"true",children:[s.jsx("div",{className:"home-hero-overlay"}),s.jsxs("div",{className:"home-hero-content",children:[s.jsx("h1",{className:"home-hero-title",children:"Market Intelligence Platform"}),s.jsx("p",{className:"home-hero-subtext",children:"Daily-bar research  outcomes-based learning  explainable suggestions"})]})]}),s.jsx(wr,{message:"Loading"})]});const u=n==null?void 0:n.last_run,c=n==null?void 0:n.last_brief,f=((n==null?void 0:n.outcomes)??{}).since_last_run??0;return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"home-hero","aria-label":"Hero",children:[s.jsx("div",{className:"home-hero-bg",role:"img","aria-label":"Market intelligence visual"}),s.jsx("div",{className:"home-hero-overlay","aria-hidden":"true"}),s.jsxs("div",{className:"home-hero-content",children:[s.jsxs("h1",{className:"home-hero-title",children:["Market Intelligence Platform",s.jsx(D,{scope:"home",entryKey:"hero_headline",variant:"short"})]}),s.jsxs("p",{className:"home-hero-subtext",children:["Daily-bar research  outcomes-based learning  explainable suggestions",s.jsx(D,{scope:"home",entryKey:"hero_subtext",variant:"short"})]})]})]}),s.jsxs("section",{className:"home-quick-actions","aria-label":"Quick actions",children:[s.jsxs("h2",{className:"home-section-title",children:["Quick actions",s.jsx(D,{scope:"home",entryKey:"quick_actions",variant:"short"}),s.jsx("button",{type:"button",className:"home-explain-this",onClick:o,"aria-label":"Open Explain Center for this section",children:"Explain this"})]}),s.jsxs("div",{className:"home-quick-actions-grid",children:[s.jsxs(ge,{to:"/portfolios",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"View Portfolios"}),s.jsx("span",{className:"home-card-desc",children:"All portfolios  positions, trades, episodes"})]}),e!=null&&s.jsxs(ge,{to:`/portfolios/${e}`,className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"Default portfolio"}),s.jsxs("span",{className:"home-card-desc",children:["Portfolio ",e,"  quick link"]})]}),s.jsxs(ge,{to:"/brief",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"View Latest Morning Brief"}),s.jsx("span",{className:"home-card-desc",children:"Latest brief per portfolio"})]}),s.jsxs(ge,{to:"/training",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"Open Training Status"}),s.jsx("span",{className:"home-card-desc",children:"Maturity by symbol/pattern"})]}),s.jsxs(ge,{to:"/suggestions",className:"home-card home-card--link",children:[s.jsx("span",{className:"home-card-title",children:"Open Suggestions"}),s.jsx("span",{className:"home-card-desc",children:"Ranked symbol/pattern candidates"})]})]})]}),s.jsxs("section",{className:"home-glance","aria-label":"System at a glance",children:[s.jsxs("h2",{className:"home-section-title",children:["System at a glance",s.jsx(D,{scope:"home",entryKey:"system_at_a_glance",variant:"short"}),s.jsx("button",{type:"button",className:"home-explain-this",onClick:l,"aria-label":"Open Explain Center for this section",children:"Explain this"})]}),s.jsxs("div",{className:"home-glance-grid",children:[s.jsxs("div",{className:"home-card",children:[s.jsxs("span",{className:"home-card-label",children:["Last pipeline run",s.jsx(D,{scope:"live",entryKey:"last_pipeline_run",variant:"short"})]}),s.jsx("span",{className:"home-card-value",children:u?s.jsxs(s.Fragment,{children:[oa(u.completed_at??u.started_at),s.jsx("span",{className:`home-glance-badge home-glance-badge--${(u.status||"").toLowerCase()}`,children:u.status??""})]}):""})]}),s.jsxs("div",{className:"home-card",children:[s.jsxs("span",{className:"home-card-label",children:["New evaluations since last run",s.jsx(D,{scope:"live",entryKey:"new_evaluations_since_last_run",variant:"short"})]}),s.jsx("span",{className:"home-card-value",children:f>0?`+${f}`:f===0?"0":""})]}),s.jsxs("div",{className:"home-card",children:[s.jsxs("span",{className:"home-card-label",children:["Latest brief (as-of)",s.jsx(D,{scope:"live",entryKey:"data_freshness",variant:"short"})]}),s.jsx("span",{className:"home-card-value",children:c!=null&&c.found?oa(c.as_of_ts):"No brief yet"})]})]})]}),s.jsx(dt,{title:"Seeing empty pages?",action:s.jsxs(s.Fragment,{children:["Run the daily pipeline in Snowflake, then check ",s.jsx(ge,{to:"/runs",children:"Runs"}),"."]}),explanation:"MIP data is populated by the daily pipeline. If pages look empty, run SP_RUN_DAILY_PIPELINE in Snowflake.",reasons:["Pipeline has not run yet.","Snowflake credentials may be missing or invalid."]})]})}function D1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=D1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=D1(e))&&(n&&(n+=" "),n+=t);return n}var kM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Hv(e){if(typeof e!="string")return!1;var t=kM;return t.includes(e)}var EM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NM=new Set(EM);function R1(e){return typeof e!="string"?!1:NM.has(e)}function L1(e){return typeof e=="string"&&e.startsWith("data-")}function br(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(R1(r)||L1(r))&&(t[r]=e[r]);return t}function Ro(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return br(t)}return typeof e=="object"&&!Array.isArray(e)?br(e):null}function Wt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(R1(r)||L1(r)||Hv(r))&&(t[r]=e[r]);return t}function OM(e){return e==null?null:p.isValidElement(e)?Wt(e.props):typeof e=="object"&&!Array.isArray(e)?Wt(e):null}var AM=["children","width","height","viewBox","className","style","title","desc"];function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(null,arguments)}function TM(e,t){if(e==null)return{};var r,n,i=CM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $1=p.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:u,desc:c}=e,d=TM(e,AM),f=a||{width:n,height:i,x:0,y:0},h=_e("recharts-surface",o);return p.createElement("svg",Vp({},Wt(d),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,u),p.createElement("desc",null,c),r)}),IM=["children","className"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(null,arguments)}function MM(e,t){if(e==null)return{};var r,n,i=DM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var St=p.forwardRef((e,t)=>{var{children:r,className:n}=e,i=MM(e,IM),a=_e("recharts-layer",n);return p.createElement("g",Gp({className:a},Wt(i),{ref:t}),r)}),RM=p.createContext(null);function Me(e){return function(){return e}}const z1=Math.cos,wc=Math.sin,an=Math.sqrt,bc=Math.PI,$d=2*bc,qp=Math.PI,Yp=2*qp,Gi=1e-6,LM=Yp-Gi;function F1(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $M(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return F1;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class zM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?F1:$M(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=n-t,c=i-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Gi)if(!(Math.abs(f*u-c*d)>Gi)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=i-l,y=u*u+c*c,x=m*m+v*v,g=Math.sqrt(y),w=Math.sqrt(h),b=a*Math.tan((qp-Math.acos((y+h-x)/(2*g*w)))/2),_=b/w,P=b/g;Math.abs(_-1)>Gi&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=t+P*u},${this._y1=r+P*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),c=t+l,d=r+u,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Gi||Math.abs(this._y1-d)>Gi)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Yp+Yp),h>LM?this._append`A${n},${n},0,1,${f},${t-l},${r-u}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>Gi&&this._append`A${n},${n},0,${+(h>=qp)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Vv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zM(t)}function Gv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function U1(e){this._context=e}U1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zd(e){return new U1(e)}function B1(e){return e[0]}function W1(e){return e[1]}function K1(e,t){var r=Me(!0),n=null,i=zd,a=null,o=Vv(l);e=typeof e=="function"?e:e===void 0?B1:Me(e),t=typeof t=="function"?t:t===void 0?W1:Me(t);function l(u){var c,d=(u=Gv(u)).length,f,h=!1,m;for(n==null&&(a=i(m=o())),c=0;c<=d;++c)!(c<d&&r(f=u[c],c,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,u),+t(f,c,u));if(m)return a=null,m+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Me(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Me(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Me(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}function ou(e,t,r){var n=null,i=Me(!0),a=null,o=zd,l=null,u=Vv(c);e=typeof e=="function"?e:e===void 0?B1:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?W1:Me(+r);function c(f){var h,m,v,y=(f=Gv(f)).length,x,g=!1,w,b=new Array(y),_=new Array(y);for(a==null&&(l=o(w=u())),h=0;h<=y;++h){if(!(h<y&&i(x=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(b[v],_[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return K1().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Me(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Me(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Me(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),c):a},c}class H1{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function FM(e){return new H1(e,!0)}function UM(e){return new H1(e,!1)}const qv={draw(e,t){const r=an(t/bc);e.moveTo(r,0),e.arc(0,0,r,0,$d)}},BM={draw(e,t){const r=an(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},V1=an(1/3),WM=V1*2,KM={draw(e,t){const r=an(t/WM),n=r*V1;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},HM={draw(e,t){const r=an(t),n=-r/2;e.rect(n,n,r,r)}},VM=.8908130915292852,G1=wc(bc/10)/wc(7*bc/10),GM=wc($d/10)*G1,qM=-z1($d/10)*G1,YM={draw(e,t){const r=an(t*VM),n=GM*r,i=qM*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=$d*a/5,l=z1(o),u=wc(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*i,u*n+l*i)}e.closePath()}},xh=an(3),XM={draw(e,t){const r=-an(t/(xh*3));e.moveTo(0,r*2),e.lineTo(-xh*r,-r),e.lineTo(xh*r,-r),e.closePath()}},kr=-.5,Er=an(3)/2,Xp=1/an(12),QM=(Xp/2+1)*3,ZM={draw(e,t){const r=an(t/QM),n=r/2,i=r*Xp,a=n,o=r*Xp+r,l=-a,u=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,u),e.lineTo(kr*n-Er*i,Er*n+kr*i),e.lineTo(kr*a-Er*o,Er*a+kr*o),e.lineTo(kr*l-Er*u,Er*l+kr*u),e.lineTo(kr*n+Er*i,kr*i-Er*n),e.lineTo(kr*a+Er*o,kr*o-Er*a),e.lineTo(kr*l+Er*u,kr*u-Er*l),e.closePath()}};function JM(e,t){let r=null,n=Vv(i);e=typeof e=="function"?e:Me(e||qv),t=typeof t=="function"?t:Me(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Me(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function _c(){}function jc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function q1(e){this._context=e}q1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eD(e){return new q1(e)}function Y1(e){this._context=e}Y1.prototype={areaStart:_c,areaEnd:_c,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tD(e){return new Y1(e)}function X1(e){this._context=e}X1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rD(e){return new X1(e)}function Q1(e){this._context=e}Q1.prototype={areaStart:_c,areaEnd:_c,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nD(e){return new Q1(e)}function j0(e){return e<0?-1:1}function S0(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(j0(a)+j0(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function P0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wh(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function Sc(e){this._context=e}Sc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wh(this,this._t0,P0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wh(this,P0(this,r=S0(this,e,t)),r);break;default:wh(this,this._t0,r=S0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Z1(e){this._context=new J1(e)}(Z1.prototype=Object.create(Sc.prototype)).point=function(e,t){Sc.prototype.point.call(this,t,e)};function J1(e){this._context=e}J1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function iD(e){return new Sc(e)}function aD(e){return new Z1(e)}function eP(e){this._context=e}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=k0(e),i=k0(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function k0(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function oD(e){return new eP(e)}function Fd(e,t){this._context=e,this._t=t}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function sD(e){return new Fd(e,.5)}function lD(e){return new Fd(e,0)}function uD(e){return new Fd(e,1)}function va(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Qp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function cD(e,t){return e[t]}function dD(e){const t=[];return t.key=e,t}function fD(){var e=Me([]),t=Qp,r=va,n=cD;function i(a){var o=Array.from(e.apply(this,arguments),dD),l,u=o.length,c=-1,d;for(const f of a)for(l=0,++c;l<u;++l)(o[l][c]=[0,+n(f,o[l].key,c,a)]).data=f;for(l=0,d=Gv(t(o));l<u;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Me(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Qp:typeof a=="function"?a:Me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??va,i):r},i}function hD(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}va(e,t)}}function pD(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}va(e,t)}}function mD(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,u=0,c=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var y=e[t[v]],x=y[n][1]||0,g=y[n-1][1]||0;m+=x-g}u+=f,c+=m*f}i[n-1][1]+=i[n-1][0]=r,u&&(r-=c/u)}i[n-1][1]+=i[n-1][0]=r,va(e,t)}}var Ud={},tP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(tP);var Yv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Yv);var Bd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Bd);var Wd={},rP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(rP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rP,r=Bd;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const f=i[l];c?f==="\\"&&l+1<o?(l++,u+=i[l]):f===c?c="":u+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(u),u=""):u+=f:f==="["?(d=!0,u&&(a.push(u),u="")):f==="."?u&&(a.push(u),u=""):u+=f,l++}return u&&a.push(u),a}e.toPath=n})(Wd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tP,r=Yv,n=Bd,i=Wd;function a(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?r.isDeepKey(u)?a(l,i.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?c:d}default:{if(Array.isArray(u))return o(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?c:d}}}function o(l,u,c){if(u.length===0)return c;let d=l;for(let f=0;f<u.length;f++){if(d==null||t.isUnsafeProperty(u[f]))return c;d=d[u[f]]}return d===void 0?c:d}e.get=a})(Ud);var vD=Ud.get;const bo=Zn(vD);var gD=4;function _i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gD,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ze(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var l=r[o-1];return typeof l=="string"?i+l+a:l!==void 0?i+_i(l)+a:i+a},"")}var rr=e=>e===0?0:e>0?1:-1,bn=e=>typeof e=="number"&&e!=+e,ga=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,q=e=>(typeof e=="number"||e instanceof Number)&&!bn(e),Lr=e=>q(e)||typeof e=="string",yD=0,Xs=e=>{var t=++yD;return"".concat(e||"").concat(t)},rn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!q(t)&&typeof t!="string")return n;var a;if(ga(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return bn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},nP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function De(e,t,r){return q(e)&&q(t)?_i(e+r*(t-e)):t}function iP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):bo(n,t))===r)}var xD=e=>{for(var t=e.length,r=0,n=0,i=0,a=0,o=1/0,l=-1/0,u=0,c=0,d=0;d<t;d++){var f,h;u=((f=e[d])===null||f===void 0?void 0:f.cx)||0,c=((h=e[d])===null||h===void 0?void 0:h.cy)||0,r+=u,n+=c,i+=u*c,a+=u*u,o=Math.min(o,u),l=Math.max(l,u)}var m=t*a!==r*r?(t*i-r*n)/(t*a-r*r):0;return{xmin:o,xmax:l,a:m,b:(n-m*r)/t}},Oe=e=>e===null||typeof e>"u",yl=e=>Oe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function nr(e){return e!=null}function Ea(){}var wD=["type","size","sizeType"];function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(null,arguments)}function E0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function N0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E0(Object(r),!0).forEach(function(n){bD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bD(e,t,r){return(t=_D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _D(e){var t=jD(e,"string");return typeof t=="symbol"?t:t+""}function jD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SD(e,t){if(e==null)return{};var r,n,i=PD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aP={symbolCircle:qv,symbolCross:BM,symbolDiamond:KM,symbolSquare:HM,symbolStar:YM,symbolTriangle:XM,symbolWye:ZM},kD=Math.PI/180,ED=e=>{var t="symbol".concat(yl(e));return aP[t]||qv},ND=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*kD;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},OD=(e,t)=>{aP["symbol".concat(yl(e))]=t},Xv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=SD(e,wD),a=N0(N0({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=ED(o),m=JM().type(h).size(ND(r,n,o)),v=m();if(v!==null)return v},{className:u,cx:c,cy:d}=a,f=Wt(a);return q(c)&&q(d)&&q(r)?p.createElement("path",Zp({},f,{className:_e("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};Xv.registerSymbol=OD;var oP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Qv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Hv(i)&&(n[i]=a=>r[i](r,a))}),n},AD=(e,t,r)=>n=>(e(t,r,n),null),Kd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Hv(i)&&typeof a=="function"&&(n||(n={}),n[i]=AD(a,t,r))}),n},TD=e=>Array.isArray(e)&&e.length>0;function O0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O0(Object(r),!0).forEach(function(n){ID(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ID(e,t,r){return(t=MD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MD(e){var t=DD(e,"string");return typeof t=="symbol"?t:t+""}function DD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e,t){var r=CD({},e),n=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return a}var sP={},lP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],l=n(o,a,r);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(lP);var uP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(uP);var Zv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Zv);var cP={},Hd={},dP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Hd);var fP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hd,r=fP;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(cP);var hP={},pP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ud;function r(n){return function(i){return t.get(i,n)}}e.property=r})(pP);var mP={},Jv={},vP={},eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(eg);var tg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(tg);var rg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(rg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eg,r=tg,n=rg;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(v,y,x,g,w,b){const _=h(v,y,x,g,w,b);return _!==void 0?!!_:a(v,y,m,b)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return u(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<v.length;y++){const x=v[y];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,y]of f.entries()){const x=d.get(v);if(h(x,y,v,d,f,m)===!1)return!1}return!0}function u(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let y=0;y<f.length;y++){const x=f[y];let g=!1;for(let w=0;w<d.length;w++){if(v.has(w))continue;const b=d[w];let _=!1;if(h(b,x,y,d,f,m)&&(_=!0),_){v.add(w),g=!0;break}}if(!g)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?u([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Jv);var gP={},ng={},yP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(yP);var Vd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Vd);var ig={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",y="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",P="[object Int8Array]",j="[object Int16Array]",k="[object Int32Array]",S="[object BigInt64Array]",N="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=N,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=k,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(ig);var xP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(xP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP,r=Vd,n=ig,i=tg,a=xP;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,v=void 0){const y=v==null?void 0:v(d,f,h,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,v);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,w]of d)x.set(g,l(w,g,h,m,v));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(l(g,void 0,h,m,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,v);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),u(x,d,h,m,v),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),u(x,d,h,m,v),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),u(x,d,h,m,v),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,u(x,d,h,m,v),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),u(x,d,h,m,v),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),u(x,d,h,m,v),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),u(x,d,h,m,v),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),u(x,d,h,m,v),x}return d}function u(d,f,h=d,m,v){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const g=y[x],w=Object.getOwnPropertyDescriptor(d,g);(w==null||w.writable)&&(d[g]=l(f[g],g,h,m,v))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(ng);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ng;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(gP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jv,r=gP;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(mP);var wP={},bP={},_P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ng,r=Vd,n=ig;function i(a,o){return t.cloneDeepWith(a,(l,u,c,d)=>{const f=o==null?void 0:o(l,u,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case n.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(_P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(bP);var jP={},ag={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ag);var SP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vd;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(SP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv,r=ag,n=SP,i=Wd;function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let c=o;for(let d=0;d<u.length;d++){const f=u[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(jP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jv,r=Bd,n=bP,i=Ud,a=jP;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(c){const d=i.get(c,l);return d===void 0?a.has(c,l):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=o})(wP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zv,r=pP,n=mP,i=wP;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(hP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lP,r=uP,n=Zv,i=cP,a=hP;function o(l,u=n.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(a.iteratee(u),1)):[]}e.uniqBy=o})(sP);var RD=sP.uniqBy;const A0=Zn(RD);function LD(e,t,r){return t===!0?A0(e,r):typeof t=="function"?A0(e,t):e}var PP={exports:{}},kP={},EP={exports:{}},NP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=p;function $D(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zD=typeof Object.is=="function"?Object.is:$D,FD=_o.useState,UD=_o.useEffect,BD=_o.useLayoutEffect,WD=_o.useDebugValue;function KD(e,t){var r=t(),n=FD({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return BD(function(){i.value=r,i.getSnapshot=t,bh(i)&&a({inst:i})},[e,r,t]),UD(function(){return bh(i)&&a({inst:i}),e(function(){bh(i)&&a({inst:i})})},[e]),WD(r),r}function bh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zD(e,r)}catch{return!0}}function HD(e,t){return t()}var VD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HD:KD;NP.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:VD;EP.exports=NP;var GD=EP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=p,qD=GD;function YD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XD=typeof Object.is=="function"?Object.is:YD,QD=qD.useSyncExternalStore,ZD=Gd.useRef,JD=Gd.useEffect,eR=Gd.useMemo,tR=Gd.useDebugValue;kP.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=ZD(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=eR(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return f=v}return f=m}if(v=f,XD(d,m))return v;var y=n(m);return i!==void 0&&i(v,y)?(d=m,v):(d=m,f=y)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,i]);var l=QD(e,a[0],a[1]);return JD(function(){o.hasValue=!0,o.value=l},[l]),tR(l),l};PP.exports=kP;var rR=PP.exports,og=p.createContext(null),nR=e=>e,et=()=>{var e=p.useContext(og);return e?e.store.dispatch:nR},zu=()=>{},iR=()=>zu,aR=(e,t)=>e===t;function Y(e){var t=p.useContext(og),r=p.useMemo(()=>t?n=>{if(n!=null)return e(n)}:zu,[t,e]);return rR.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:iR,t?t.store.getState:zu,t?t.store.getState:zu,r,aR)}function oR(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function sR(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lR(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var T0=e=>Array.isArray(e)?e:[e];function uR(e){const t=Array.isArray(e[0])?e[0]:e;return lR(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cR(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var dR=class{constructor(e){this.value=e}deref(){return this.value}},fR=typeof WeakRef<"u"?WeakRef:dR,hR=0,C0=1;function su(){return{s:hR,v:void 0,o:null,p:null}}function OP(e,t={}){let r=su();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var f;let l=r;const{length:u}=arguments;for(let h=0,m=u;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(v);x===void 0?(l=su(),y.set(v,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(v);x===void 0?(l=su(),y.set(v,l)):l=x}}const c=l;let d;if(l.s===C0)d=l.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new fR(d):d}return c.s=C0,c.v=d,d}return o.clearCache=()=>{r=su(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function pR(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,l,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),oR(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...u},{memoize:f,memoizeOptions:h=[],argsMemoize:m=OP,argsMemoizeOptions:v=[]}=d,y=T0(h),x=T0(v),g=uR(i),w=f(function(){return a++,c.apply(null,arguments)},...y),b=m(function(){o++;const P=cR(g,arguments);return l=w.apply(null,P),l},...x);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var T=pR(OP),mR=Object.assign((e,t=T)=>{sR(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>mR}),AP={},TP={},CP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),l=t(i);if(o===l&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=r})(CP);var IP={},sg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(sg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(IP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CP,r=IP,n=Wd;function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const c=(m,v)=>{let y=m;for(let x=0;x<v.length&&y!=null;++x)y=y[v[x]];return y},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:c(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?c(v,m):typeof v=="object"?v[m]:v,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let y=0;y<f.length;y++){const x=t.compareValues(m.criteria[y],v.criteria[y],l[y]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=i})(TP);var MP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(l,u)=>{for(let c=0;c<l.length;c++){const d=l[c];Array.isArray(d)&&u<a?o(d,u+1):i.push(d)}};return o(r,0),i}e.flatten=t})(MP);var lg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ag,r=Hd,n=eg,i=rg;function a(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],o):!1}e.isIterateeCall=a})(lg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP,r=MP,n=lg;function i(a,...o){const l=o.length;return l>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(AP);var vR=AP.sortBy;const qd=Zn(vR);var DP=e=>e.legend.settings,gR=e=>e.legend.size,yR=e=>e.legend.payload;T([yR,DP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?qd(n,r):n});var lu=1;function xR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>lu||Math.abs(o.left-t.left)>lu||Math.abs(o.top-t.top)>lu||Math.abs(o.width-t.width)>lu)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wR=typeof Symbol=="function"&&Symbol.observable||"@@observable",I0=wR,_h=()=>Math.random().toString(36).substring(7).split("").join("."),bR={INIT:`@@redux/INIT${_h()}`,REPLACE:`@@redux/REPLACE${_h()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_h()}`},Pc=bR;function ug(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function RP(e,t,r){if(typeof e!="function")throw new Error(Tt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tt(1));return r(RP)(e,t)}let n=e,i=t,a=new Map,o=a,l=0,u=!1;function c(){o===a&&(o=new Map,a.forEach((x,g)=>{o.set(g,x)}))}function d(){if(u)throw new Error(Tt(3));return i}function f(x){if(typeof x!="function")throw new Error(Tt(4));if(u)throw new Error(Tt(5));let g=!0;c();const w=l++;return o.set(w,x),function(){if(g){if(u)throw new Error(Tt(6));g=!1,c(),o.delete(w),a=null}}}function h(x){if(!ug(x))throw new Error(Tt(7));if(typeof x.type>"u")throw new Error(Tt(8));if(typeof x.type!="string")throw new Error(Tt(17));if(u)throw new Error(Tt(9));try{u=!0,i=n(i,x)}finally{u=!1}return(a=o).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(Tt(10));n=x,h({type:Pc.REPLACE})}function v(){const x=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Tt(11));function w(){const _=g;_.next&&_.next(d())}return w(),{unsubscribe:x(w)}},[I0](){return this}}}return h({type:Pc.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[I0]:v}}function _R(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Pc.INIT})>"u")throw new Error(Tt(12));if(typeof r(void 0,{type:Pc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tt(13))})}function LP(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{_R(r)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],v=h(m,l);if(typeof v>"u")throw l&&l.type,new Error(Tt(14));c[f]=v,u=u||v!==m}return u=u||n.length!==Object.keys(o).length,u?c:o}}function kc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function jR(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Tt(15))};const o={getState:i.getState,dispatch:(u,...c)=>a(u,...c)},l=e.map(u=>u(o));return a=kc(...l)(i.dispatch),{...i,dispatch:a}}}function $P(e){return ug(e)&&"type"in e&&typeof e.type=="string"}var zP=Symbol.for("immer-nothing"),M0=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var mr=Object,jo=mr.getPrototypeOf,Ec="constructor",Yd="prototype",Jp="configurable",Nc="enumerable",Fu="writable",Qs="value",Kn=e=>!!e&&!!e[Yt];function nn(e){var t;return e?FP(e)||Qd(e)||!!e[M0]||!!((t=e[Ec])!=null&&t[M0])||Zd(e)||Jd(e):!1}var SR=mr[Yd][Ec].toString(),D0=new WeakMap;function FP(e){if(!e||!cg(e))return!1;const t=jo(e);if(t===null||t===mr[Yd])return!0;const r=mr.hasOwnProperty.call(t,Ec)&&t[Ec];if(r===Object)return!0;if(!Ba(r))return!1;let n=D0.get(r);return n===void 0&&(n=Function.toString.call(r),D0.set(r,n)),n===SR}function Xd(e,t,r=!0){xl(e)===0?(r?Reflect.ownKeys(e):mr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function xl(e){const t=e[Yt];return t?t.type_:Qd(e)?1:Zd(e)?2:Jd(e)?3:0}var R0=(e,t,r=xl(e))=>r===2?e.has(t):mr[Yd].hasOwnProperty.call(e,t),em=(e,t,r=xl(e))=>r===2?e.get(t):e[t],Oc=(e,t,r,n=xl(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function PR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qd=Array.isArray,Zd=e=>e instanceof Map,Jd=e=>e instanceof Set,cg=e=>typeof e=="object",Ba=e=>typeof e=="function",jh=e=>typeof e=="boolean";function kR(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Tn=e=>e.copy_||e.base_,dg=e=>e.modified_?e.copy_:e.base_;function tm(e,t){if(Zd(e))return new Map(e);if(Jd(e))return new Set(e);if(Qd(e))return Array[Yd].slice.call(e);const r=FP(e);if(t===!0||t==="class_only"&&!r){const n=mr.getOwnPropertyDescriptors(e);delete n[Yt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l[Fu]===!1&&(l[Fu]=!0,l[Jp]=!0),(l.get||l.set)&&(n[o]={[Jp]:!0,[Fu]:!0,[Nc]:l[Nc],[Qs]:e[o]})}return mr.create(jo(e),n)}else{const n=jo(e);if(n!==null&&r)return{...e};const i=mr.create(n);return mr.assign(i,e)}}function fg(e,t=!1){return ef(e)||Kn(e)||!nn(e)||(xl(e)>1&&mr.defineProperties(e,{set:uu,add:uu,clear:uu,delete:uu}),mr.freeze(e),t&&Xd(e,(r,n)=>{fg(n,!0)},!1)),e}function ER(){Vr(2)}var uu={[Qs]:ER};function ef(e){return e===null||!cg(e)?!0:mr.isFrozen(e)}var Ac="MapSet",rm="Patches",L0="ArrayMethods",UP={};function ya(e){const t=UP[e];return t||Vr(0,e),t}var $0=e=>!!UP[e],Zs,BP=()=>Zs,NR=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$0(Ac)?ya(Ac):void 0,arrayMethodsPlugin_:$0(L0)?ya(L0):void 0});function z0(e,t){t&&(e.patchPlugin_=ya(rm),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nm(e){im(e),e.drafts_.forEach(OR),e.drafts_=null}function im(e){e===Zs&&(Zs=e.parent_)}var F0=e=>Zs=NR(Zs,e);function OR(e){const t=e[Yt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function U0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Yt].modified_&&(nm(t),Vr(4)),nn(e)&&(e=B0(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Yt].base_,e,t)}else e=B0(t,r);return AR(t,e,!0),nm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zP?e:void 0}function B0(e,t){if(ef(t))return t;const r=t[Yt];if(!r)return Tc(t,e.handledSet_,e);if(!tf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);HP(r,e)}return r.copy_}function AR(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fg(t,r)}function WP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var tf=(e,t)=>e.scope_===t,TR=[];function KP(e,t,r,n){const i=Tn(e),a=e.type_;if(n!==void 0&&em(i,n,a)===t){Oc(i,n,r,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Xd(i,(u,c)=>{if(Kn(c)){const d=l.get(c)||[];d.push(u),l.set(c,d)}})}const o=e.draftLocations_.get(t)??TR;for(const l of o)Oc(i,l,r,a)}function CR(e,t,r){e.callbacks_.push(function(i){var l;const a=t;if(!a||!tf(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const o=dg(a);KP(e,a.draft_??a,o,r),HP(a,i)})}function HP(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}WP(e)}}function IR(e,t,r){const{scope_:n}=e;if(Kn(r)){const i=r[Yt];tf(i,n)&&i.callbacks_.push(function(){Uu(e);const o=dg(i);KP(e,r,o,t)})}else nn(r)&&e.callbacks_.push(function(){const a=Tn(e);e.type_===3?a.has(r)&&Tc(r,n.handledSet_,n):em(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Tc(em(e.copy_,t,e.type_),n.handledSet_,n)})}function Tc(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Kn(e)||t.has(e)||!nn(e)||ef(e)||(t.add(e),Xd(e,(n,i)=>{if(Kn(i)){const a=i[Yt];if(tf(a,r)){const o=dg(a);Oc(e,n,o,e.type_),WP(a)}}else nn(i)&&Tc(i,t,r)})),e}function MR(e,t){const r=Qd(e),n={type_:r?1:0,scope_:t?t.scope_:BP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Cc;r&&(i=[n],a=Js);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,[l,n]}var Cc={get(e,t){if(t===Yt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Tn(e);if(!R0(i,t,e.type_))return DR(e,i,t);const a=i[t];if(e.finalized_||!nn(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&kR(t))return a;if(a===Sh(e.base_,t)){Uu(e);const o=e.type_===1?+t:t,l=om(e.scope_,a,e,o);return e.copy_[o]=l}return a},has(e,t){return t in Tn(e)},ownKeys(e){return Reflect.ownKeys(Tn(e))},set(e,t,r){const n=VP(Tn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Sh(Tn(e),t),a=i==null?void 0:i[Yt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(PR(r,i)&&(r!==void 0||R0(e.base_,t,e.type_)))return!0;Uu(e),am(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),IR(e,t,r)),!0},deleteProperty(e,t){return Uu(e),Sh(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),am(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Tn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Fu]:!0,[Jp]:e.type_!==1||t!=="length",[Nc]:n[Nc],[Qs]:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return jo(e.base_)},setPrototypeOf(){Vr(12)}},Js={};for(let e in Cc){let t=Cc[e];Js[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Js.deleteProperty=function(e,t){return Js.set.call(this,e,t,void 0)};Js.set=function(e,t,r){return Cc.set.call(this,e[0],t,r,e[0])};function Sh(e,t){const r=e[Yt];return(r?Tn(r):e)[t]}function DR(e,t,r){var i;const n=VP(t,r);return n?Qs in n?n[Qs]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function VP(e,t){if(!(t in e))return;let r=jo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jo(r)}}function am(e){e.modified_||(e.modified_=!0,e.parent_&&am(e.parent_))}function Uu(e){e.copy_||(e.assigned_=new Map,e.copy_=tm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RR=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Ba(r)&&!Ba(n)){const o=n;n=r;const l=this;return function(c=o,...d){return l.produce(c,f=>n.call(this,f,...d))}}Ba(n)||Vr(6),i!==void 0&&!Ba(i)&&Vr(7);let a;if(nn(r)){const o=F0(this),l=om(o,r,void 0);let u=!0;try{a=n(l),u=!1}finally{u?nm(o):im(o)}return z0(o,i),U0(a,o)}else if(!r||!cg(r)){if(a=n(r),a===void 0&&(a=r),a===zP&&(a=void 0),this.autoFreeze_&&fg(a,!0),i){const o=[],l=[];ya(rm).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Vr(1,r)},this.produceWithPatches=(r,n)=>{if(Ba(r))return(l,...u)=>this.produceWithPatches(l,c=>r(c,...u));let i,a;return[this.produce(r,n,(l,u)=>{i=l,a=u}),i,a]},jh(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),jh(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),jh(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){nn(t)||Vr(8),Kn(t)&&(t=Jr(t));const r=F0(this),n=om(r,t,void 0);return n[Yt].isManual_=!0,im(r),n}finishDraft(t,r){const n=t&&t[Yt];(!n||!n.isManual_)&&Vr(9);const{scope_:i}=n;return z0(i,r),U0(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=ya(rm).applyPatches_;return Kn(t)?i(t,r):this.produce(t,a=>i(a,r))}};function om(e,t,r,n){const[i,a]=Zd(t)?ya(Ac).proxyMap_(t,r):Jd(t)?ya(Ac).proxySet_(t,r):MR(t,r);return((r==null?void 0:r.scope_)??BP()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?CR(r,a,n):a.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),i}function Jr(e){return Kn(e)||Vr(10,e),GP(e)}function GP(e){if(!nn(e)||ef(e))return e;const t=e[Yt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tm(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=tm(e,!0);return Xd(r,(i,a)=>{Oc(r,i,GP(a))},n),t&&(t.finalized_=!1),r}var LR=new RR,qP=LR.produce;function YP(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var $R=YP(),zR=YP,FR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kc:kc.apply(null,arguments)};function $r(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(yr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>$P(n)&&n.type===e,r}var XP=class vs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vs.prototype)}static get[Symbol.species](){return vs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vs(...t[0].concat(this)):new vs(...t.concat(this))}};function W0(e){return nn(e)?qP(e,()=>{}):e}function cu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function UR(e){return typeof e=="boolean"}var BR=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new XP;return r&&(UR(r)?o.push($R):o.push(zR(r.extraArgument))),o},QP="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[QP]:!0}}),K0=e=>t=>{setTimeout(t,e)},ZP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:K0(10):e.type==="callback"?e.queueNotification:K0(e.timeout),c=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[QP]),a=!i,a&&(o||(o=!0,u(c))),n.dispatch(d)}finally{i=!0}}})},WR=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new XP(e);return n&&i.push(ZP(typeof n=="object"?n:void 0)),i};function KR(e){const t=BR(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ug(r))l=LP(r);else throw new Error(yr(1));let u;typeof n=="function"?u=n(t):u=t();let c=kc;i&&(c=FR({trace:!1,...typeof i=="object"&&i}));const d=jR(...u),f=WR(d);let h=typeof o=="function"?o(f):f();const m=c(...h);return RP(l,a,m)}function JP(e){const t={},r=[];let n;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(yr(28));if(l in t)throw new Error(yr(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function HR(e){return typeof e=="function"}function VR(e,t){let[r,n,i]=JP(t),a;if(HR(e))a=()=>W0(e());else{const l=W0(e);a=()=>l}function o(l=a(),u){let c=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Kn(d)){const m=f(d,u);return m===void 0?d:m}else{if(nn(d))return qP(d,h=>f(h,u));{const h=f(d,u);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=a,o}var GR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qR=(e=21)=>{let t="",r=e;for(;r--;)t+=GR[Math.random()*64|0];return t},YR=Symbol.for("rtk-slice-createasyncthunk");function XR(e,t){return`${e}/${t}`}function QR({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[YR];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(yr(11));const l=(typeof i.reducers=="function"?i.reducers(JR()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,P){const j=typeof _=="string"?_:_.type;if(!j)throw new Error(yr(12));if(j in c.sliceCaseReducersByType)throw new Error(yr(13));return c.sliceCaseReducersByType[j]=P,d},addMatcher(_,P){return c.sliceMatchers.push({matcher:_,reducer:P}),d},exposeAction(_,P){return c.actionCreators[_]=P,d},exposeCaseReducer(_,P){return c.sliceCaseReducersByName[_]=P,d}};u.forEach(_=>{const P=l[_],j={reducerName:_,type:XR(a,_),createNotation:typeof i.reducers=="function"};tL(P)?nL(j,P,d,t):eL(j,P,d)});function f(){const[_={},P=[],j=void 0]=typeof i.extraReducers=="function"?JP(i.extraReducers):[i.extraReducers],k={..._,...c.sliceCaseReducersByType};return VR(i.initialState,S=>{for(let N in k)S.addCase(N,k[N]);for(let N of c.sliceMatchers)S.addMatcher(N.matcher,N.reducer);for(let N of P)S.addMatcher(N.matcher,N.reducer);j&&S.addDefaultCase(j)})}const h=_=>_,m=new Map,v=new WeakMap;let y;function x(_,P){return y||(y=f()),y(_,P)}function g(){return y||(y=f()),y.getInitialState()}function w(_,P=!1){function j(S){let N=S[_];return typeof N>"u"&&P&&(N=cu(v,j,g)),N}function k(S=h){const N=cu(m,P,()=>new WeakMap);return cu(N,S,()=>{const E={};for(const[C,O]of Object.entries(i.selectors??{}))E[C]=ZR(O,S,()=>cu(v,S,g),P);return E})}return{reducerPath:_,getSelectors:k,get selectors(){return k(j)},selectSlice:j}}const b={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...w(o),injectInto(_,{reducerPath:P,...j}={}){const k=P??o;return _.inject({reducerPath:k,reducer:x},j),{...b,...w(k,!0)}}};return b}}function ZR(e,t,r,n){function i(a,...o){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return i.unwrapped=e,i}var ur=QR();function JR(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function eL({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!rL(n))throw new Error(yr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?$r(e,o):$r(e))}function tL(e){return e._reducerDefinitionType==="asyncThunk"}function rL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function nL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(yr(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:c,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),u&&n.addCase(f.rejected,u),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:o||du,pending:l||du,rejected:u||du,settled:c||du})}function du(){}var iL="task",ek="listener",tk="completed",hg="cancelled",aL=`task-${hg}`,oL=`task-${tk}`,sm=`${ek}-${hg}`,sL=`${ek}-${tk}`,rf=class{constructor(e){Wf(this,"name","TaskAbortError");Wf(this,"message");this.code=e,this.message=`${iL} ${hg} (reason: ${e})`}},pg=(e,t)=>{if(typeof e!="function")throw new TypeError(yr(32))},Ic=()=>{},rk=(e,t=Ic)=>(e.catch(t),e),nk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),sa=e=>{if(e.aborted)throw new rf(e.reason)};function ik(e,t){let r=Ic;return new Promise((n,i)=>{const a=()=>i(new rf(e.reason));if(e.aborted){a();return}r=nk(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Ic})}var lL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof rf?"cancelled":"rejected",error:r}}finally{t==null||t()}},Mc=e=>t=>rk(ik(e,t).then(r=>(sa(e),r))),ak=e=>{const t=Mc(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:co}=Object,H0={},nf="listenerMiddleware",uL=(e,t)=>{const r=n=>nk(e,()=>n.abort(e.reason));return(n,i)=>{pg(n);const a=new AbortController;r(a);const o=lL(async()=>{sa(e),sa(a.signal);const l=await n({pause:Mc(a.signal),delay:ak(a.signal),signal:a.signal});return sa(a.signal),l},()=>a.abort(oL));return i!=null&&i.autoJoin&&t.push(o.catch(Ic)),{result:Mc(e)(o),cancel(){a.abort(aL)}}}},cL=(e,t)=>{const r=async(n,i)=>{sa(t);let a=()=>{};const l=[new Promise((u,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),u([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await ik(t,Promise.race(l));return sa(t),u}finally{a()}};return(n,i)=>rk(r(n,i))},ok=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=$r(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(yr(21));return pg(a),{predicate:i,type:t,effect:a}},sk=co(e=>{const{type:t,predicate:r,effect:n}=ok(e);return{id:qR(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(yr(22))}}},{withTypes:()=>sk}),V0=(e,t)=>{const{type:r,effect:n,predicate:i}=ok(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},lm=e=>{e.pending.forEach(t=>{t.abort(sm)})},dL=(e,t)=>()=>{for(const r of t.keys())lm(r);e.clear()},G0=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},lk=co($r(`${nf}/add`),{withTypes:()=>lk}),fL=$r(`${nf}/removeAll`),uk=co($r(`${nf}/remove`),{withTypes:()=>uk}),hL=(...e)=>{console.error(`${nf}/error`,...e)},wl=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},i=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:a,onError:o=hL}=e;pg(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&lm(m)}),u=m=>{const v=V0(t,m)??sk(m);return l(v)};co(u,{withTypes:()=>u});const c=m=>{const v=V0(t,m);return v&&(v.unsubscribe(),m.cancelActive&&lm(v)),!!v};co(c,{withTypes:()=>c});const d=async(m,v,y,x)=>{const g=new AbortController,w=cL(u,g.signal),b=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(v,co({},y,{getOriginalState:x,condition:(_,P)=>w(_,P).then(Boolean),take:w,delay:ak(g.signal),pause:Mc(g.signal),extra:a,signal:g.signal,fork:uL(g.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,P,j)=>{_!==g&&(_.abort(sm),j.delete(_))})},cancel:()=>{g.abort(sm),m.pending.delete(g)},throwIfCancelled:()=>{sa(g.signal)}})))}catch(_){_ instanceof rf||G0(o,_,{raisedBy:"effect"})}finally{await Promise.all(b),g.abort(sL),i(m),m.pending.delete(g)}},f=dL(t,r);return{middleware:m=>v=>y=>{if(!$P(y))return v(y);if(lk.match(y))return u(y.payload);if(fL.match(y)){f();return}if(uk.match(y))return c(y.payload);let x=m.getState();const g=()=>{if(x===H0)throw new Error(yr(23));return x};let w;try{if(w=v(y),t.size>0){const b=m.getState(),_=Array.from(t.values());for(const P of _){let j=!1;try{j=P.predicate(y,b,x)}catch(k){j=!1,G0(o,k,{raisedBy:"predicate"})}j&&d(P,y,m,g)}}}finally{x=H0}return w},startListening:u,stopListening:c,clearListeners:f}};function yr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ck=ur({name:"chartLayout",initialState:pL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:mL,setLayout:vL,setChartSize:gL,setScale:yL}=ck.actions,xL=ck.reducer;function dk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function se(e){return Number.isFinite(e)}function _n(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(r),!0).forEach(function(n){wL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wL(e,t,r){return(t=bL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bL(e){var t=_L(e,"string");return typeof t=="symbol"?t:t+""}function _L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function He(e,t,r){return Oe(e)||Oe(t)?r:Lr(t)?bo(e,t,r):typeof t=="function"?t(e):r}var jL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&q(e[a]))return to(to({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&q(e[o]))return to(to({},e),{},{[o]:e[o]+(i||0)})}return e},ti=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",fk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(r),o},hk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=i==="category"&&o.bandwidth?o.bandwidth()/v:0;if(y=m==="angleAxis"&&a&&a.length>=2?rr(a[0]-a[1])*2*y:y,f||h){var x=(f||h||[]).map((g,w)=>{var b=n?n.indexOf(g):g,_=o.map(b);return se(_)?{coordinate:_+y,value:g,offset:y,index:w}:null}).filter(nr);return x}return u&&c?c.map((g,w)=>{var b=o.map(g);return se(b)?{coordinate:b+y,value:g,index:w,offset:y}:null}).filter(nr):o.ticks&&d!=null?o.ticks(d).map((g,w)=>{var b=o.map(g);return se(b)?{coordinate:b+y,value:g,index:w,offset:y}:null}).filter(nr):o.domain().map((g,w)=>{var b=o.map(g);return se(b)?{coordinate:b+y,value:n?n[g]:g,index:w,offset:y}:null}).filter(nr)},SL=(e,t)=>{if(!t||t.length!==2||!q(t[0])||!q(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!q(e[0])||e[0]<r)&&(i[0]=r),(!q(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},PL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,l=0;l<r;++l){var u=e[l],c=u==null?void 0:u[i];if(c!=null){var d=c[1],f=c[0],h=bn(d)?f:d;h>=0?(c[0]=a,a+=h,c[1]=a):(c[0]=o,o+=h,c[1]=o)}}}},kL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=bn(u[1])?u[0]:u[1];c>=0?(u[0]=a,a+=c,u[1]=a):(u[0]=0,u[1]=0)}}}},EL={sign:PL,expand:hD,none:va,silhouette:pD,wiggle:mD,positive:kL},NL=(e,t,r)=>{var n,i=(n=EL[r])!==null&&n!==void 0?n:va,a=fD().keys(t).value((l,u)=>Number(He(l,u,0))).order(Qp).offset(i),o=a(e);return o.forEach((l,u)=>{l.forEach((c,d)=>{var f=He(e[d],t[u],0);Array.isArray(f)&&f.length===2&&q(f[0])&&q(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function OL(e){return e==null?void 0:String(e)}function Dc(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Oe(i[t.dataKey])){var l=iP(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var u=He(i,Oe(o)?t.dataKey:o),c=t.scale.map(u);return q(c)?c:null}var Y0=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=He(a,t.dataKey,t.scale.domain()[o]);if(Oe(l))return null;var u=t.scale.map(l);return q(u)?u-i/2+n:null},AL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},TL=e=>{var t=e.flat(2).filter(q);return[Math.min(...t),Math.max(...t)]},CL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],IL=(e,t,r)=>{if(e!=null)return CL(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,l=o.reduce((u,c)=>{var d=dk(c,t,r),f=TL(d);return!se(f[0])||!se(f[1])?u:[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},X0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,So=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=qd(t,d=>d.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],c=i[o-1];a=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function Z0(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return to(to({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Lo(e,t){if(e)return String(e);if(typeof t=="string")return t}var ML=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},DL=(e,t)=>t==="centric"?e.angle:e.radius,ri=e=>e.layout.width,ni=e=>e.layout.height,RL=e=>e.layout.scale,pk=e=>e.layout.margin,af=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),of=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),LL="data-recharts-item-index",mk="data-recharts-item-id",bl=60;function J0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J0(Object(r),!0).forEach(function(n){$L(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $L(e,t,r){return(t=zL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zL(e){var t=FL(e,"string");return typeof t=="symbol"?t:t+""}function FL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UL=e=>e.brush.height;function BL(e){var t=of(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bl;return r+i}return r},0)}function WL(e){var t=of(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bl;return r+i}return r},0)}function KL(e){var t=af(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function HL(e){var t=af(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Et=T([ri,ni,pk,UL,BL,WL,KL,HL,DP,gR],(e,t,r,n,i,a,o,l,u,c)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=fu(fu({},f),d),m=h.bottom;h.bottom+=n,h=jL(h,u,c);var v=e-h.left-h.right,y=t-h.top-h.bottom;return fu(fu({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(y,0)})}),VL=T(Et,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mg=T(ri,ni,(e,t)=>({x:0,y:0,width:e,height:t})),GL=p.createContext(null),ft=()=>p.useContext(GL)!=null,sf=e=>e.brush,lf=T([sf,Et,pk],(e,t,r)=>({height:e.height,x:q(e.x)?e.x:t.left,y:q(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:q(e.width)?e.width:t.width})),vk={},gk={},yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{c&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{v(),o=void 0,l=null},x=()=>{d()},g=function(...w){if(i!=null&&i.aborted)return;o=this,l=w;const b=h==null;m(),u&&b&&d()};return g.schedule=m,g.cancel=y,g.flush=x,i==null||i.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:c}),m=function(...y){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(gk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gk;function r(n,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:l})}e.throttle=r})(vk);var qL=vk.throttle;const YL=Zn(qL);var Rc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},mn={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},xk=(e,t,r)=>{var{width:n=mn.width,height:i=mn.height,aspect:a,maxHeight:o}=r,l=ga(n)?e:Number(n),u=ga(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},XL={width:0,height:0,overflow:"visible"},QL={width:0,overflowX:"visible"},ZL={height:0,overflowY:"visible"},JL={},e2=e=>{var{width:t,height:r}=e,n=ga(t),i=ga(r);return n&&i?XL:n?QL:i?ZL:JL};function t2(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=mn.width,a=mn.height):i===void 0?i=n&&n>0?void 0:mn.width:a===void 0&&(a=n&&n>0?void 0:mn.height),{width:i,height:a}}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(null,arguments)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){r2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r2(e,t,r){return(t=n2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2(e){var t=i2(e,"string");return typeof t=="symbol"?t:t+""}function i2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wk=p.createContext(mn.initialDimension);function a2(e){return _n(e.width)&&_n(e.height)}function bk(e){var{children:t,width:r,height:n}=e,i=p.useMemo(()=>({width:r,height:n}),[r,n]);return a2(i)?p.createElement(wk.Provider,{value:i},t):null}var vg=()=>p.useContext(wk),o2=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=mn.initialDimension,width:i,height:a,minWidth:o=mn.minWidth,minHeight:l,maxHeight:u,children:c,debounce:d=mn.debounce,id:f,className:h,onResize:m,style:v={}}=e,y=p.useRef(null),x=p.useRef();x.current=m,p.useImperativeHandle(t,()=>y.current);var[g,w]=p.useState({containerWidth:n.width,containerHeight:n.height}),b=p.useCallback((S,N)=>{w(E=>{var C=Math.round(S),O=Math.round(N);return E.containerWidth===C&&E.containerHeight===O?E:{containerWidth:C,containerHeight:O}})},[]);p.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Ea;var S=O=>{var W,B=O[0];if(B!=null){var{width:K,height:H}=B.contentRect;b(K,H),(W=x.current)===null||W===void 0||W.call(x,K,H)}};d>0&&(S=YL(S,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(S),{width:E,height:C}=y.current.getBoundingClientRect();return b(E,C),N.observe(y.current),()=>{N.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:P}=g;Rc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:k}=xk(_,P,{width:i,height:a,aspect:r,maxHeight:u});return Rc(j!=null&&j>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,k,i,a,o,l,r),p.createElement("div",{id:f?"".concat(f):void 0,className:_e("recharts-responsive-container",h),style:tw(tw({},v),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:y},p.createElement("div",{style:e2({width:i,height:a})},p.createElement(bk,{width:j,height:k},c)))}),Yr=p.forwardRef((e,t)=>{var r=vg();if(_n(r.width)&&_n(r.height))return e.children;var{width:n,height:i}=t2({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=xk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return q(a)&&q(o)?p.createElement(bk,{width:a,height:o},e.children):p.createElement(o2,um({},e,{width:n,height:i,ref:t}))});function gg(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var $o=()=>{var e,t=ft(),r=Y(VL),n=Y(lf),i=(e=Y(sf))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},s2={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_k=()=>{var e;return(e=Y(Et))!==null&&e!==void 0?e:s2},jk=()=>Y(ri),Sk=()=>Y(ni),Ee=e=>e.layout.layoutType,Na=()=>Y(Ee),Pk=()=>{var e=Na();if(e==="horizontal"||e==="vertical")return e},kk=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},l2=()=>{var e=Na();return e!==void 0},_l=e=>{var t=et(),r=ft(),{width:n,height:i}=e,a=vg(),o=n,l=i;return a&&(o=a.width>0?a.width:n,l=a.height>0?a.height:i),p.useEffect(()=>{!r&&_n(o)&&_n(l)&&t(gL({width:o,height:l}))},[t,r,o,l]),null},Ek=Symbol.for("immer-nothing"),rw=Symbol.for("immer-draftable"),_r=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var el=Object.getPrototypeOf;function Po(e){return!!e&&!!e[_r]}function xa(e){var t;return e?Nk(e)||Array.isArray(e)||!!e[rw]||!!((t=e.constructor)!=null&&t[rw])||jl(e)||cf(e):!1}var u2=Object.prototype.constructor.toString(),nw=new WeakMap;function Nk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=nw.get(r);return n===void 0&&(n=Function.toString.call(r),nw.set(r,n)),n===u2}function Lc(e,t,r=!0){uf(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function uf(e){const t=e[_r];return t?t.type_:Array.isArray(e)?1:jl(e)?2:cf(e)?3:0}function cm(e,t){return uf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ok(e,t,r){const n=uf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function c2(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jl(e){return e instanceof Map}function cf(e){return e instanceof Set}function qi(e){return e.copy_||e.base_}function dm(e,t){if(jl(e))return new Map(e);if(cf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Nk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[_r];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(el(e),n)}else{const n=el(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function yg(e,t=!1){return df(e)||Po(e)||!xa(e)||(uf(e)>1&&Object.defineProperties(e,{set:hu,add:hu,clear:hu,delete:hu}),Object.freeze(e),t&&Object.values(e).forEach(r=>yg(r,!0))),e}function d2(){Gr(2)}var hu={value:d2};function df(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var f2={};function wa(e){const t=f2[e];return t||Gr(0,e),t}var tl;function Ak(){return tl}function h2(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iw(e,t){t&&(wa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fm(e){hm(e),e.drafts_.forEach(p2),e.drafts_=null}function hm(e){e===tl&&(tl=e.parent_)}function aw(e){return tl=h2(tl,e)}function p2(e){const t=e[_r];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ow(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[_r].modified_&&(fm(t),Gr(4)),xa(e)&&(e=$c(t,e),t.parent_||zc(t,e)),t.patches_&&wa("Patches").generateReplacementPatches_(r[_r].base_,e,t.patches_,t.inversePatches_)):e=$c(t,r,[]),fm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ek?e:void 0}function $c(e,t,r){if(df(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[_r];if(!i)return Lc(t,(a,o)=>sw(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return zc(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Lc(o,(u,c)=>sw(e,i,a,u,c,r,l),n),zc(e,a,!1),r&&e.patches_&&wa("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function sw(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=df(i);if(!(l&&!o)){if(Po(i)){const u=a&&t&&t.type_!==3&&!cm(t.assigned_,n)?a.concat(n):void 0,c=$c(e,i,u);if(Ok(r,n,c),Po(c))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(xa(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;$c(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(jl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zc(e,i)}}}function zc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yg(t,r)}function m2(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ak(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=xg;r&&(i=[n],a=rl);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}var xg={get(e,t){if(t===_r)return e;const r=qi(e);if(!cm(r,t))return v2(e,r,t);const n=r[t];return e.finalized_||!xa(n)?n:n===Ph(e.base_,t)?(kh(e),e.copy_[t]=mm(n,e)):n},has(e,t){return t in qi(e)},ownKeys(e){return Reflect.ownKeys(qi(e))},set(e,t,r){const n=Tk(qi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ph(qi(e),t),a=i==null?void 0:i[_r];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(c2(r,i)&&(r!==void 0||cm(e.base_,t)))return!0;kh(e),pm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ph(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kh(e),pm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return el(e.base_)},setPrototypeOf(){Gr(12)}},rl={};Lc(xg,(e,t)=>{rl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});rl.deleteProperty=function(e,t){return rl.set.call(this,e,t,void 0)};rl.set=function(e,t,r){return xg.set.call(this,e[0],t,r,e[0])};function Ph(e,t){const r=e[_r];return(r?qi(r):e)[t]}function v2(e,t,r){var i;const n=Tk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Tk(e,t){if(!(t in e))return;let r=el(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=el(r)}}function pm(e){e.modified_||(e.modified_=!0,e.parent_&&pm(e.parent_))}function kh(e){e.copy_||(e.copy_=dm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var g2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(u=a,...c){return o.produce(u,d=>r.call(this,d,...c))}}typeof r!="function"&&Gr(6),n!==void 0&&typeof n!="function"&&Gr(7);let i;if(xa(t)){const a=aw(this),o=mm(t,void 0);let l=!0;try{i=r(o),l=!1}finally{l?fm(a):hm(a)}return iw(a,n),ow(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Ek&&(i=void 0),this.autoFreeze_&&yg(i,!0),n){const a=[],o=[];wa("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Gr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,i;return[this.produce(t,r,(o,l)=>{n=o,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xa(e)||Gr(8),Po(e)&&(e=y2(e));const t=aw(this),r=mm(e,void 0);return r[_r].isManual_=!0,hm(t),r}finishDraft(e,t){const r=e&&e[_r];(!r||!r.isManual_)&&Gr(9);const{scope_:n}=r;return iw(n,t),ow(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=wa("Patches").applyPatches_;return Po(e)?n(e,t):this.produce(e,i=>n(i,t))}};function mm(e,t){const r=jl(e)?wa("MapSet").proxyMap_(e,t):cf(e)?wa("MapSet").proxySet_(e,t):m2(e,t);return(t?t.scope_:Ak()).drafts_.push(r),r}function y2(e){return Po(e)||Gr(10,e),Ck(e)}function Ck(e){if(!xa(e)||df(e))return e;const t=e[_r];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=dm(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=dm(e,!0);return Lc(r,(i,a)=>{Ok(r,i,Ck(a))},n),t&&(t.finalized_=!1),r}var x2=new g2;x2.produce;var w2={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ik=ur({name:"legend",initialState:w2,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Jr(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Jr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:E9,setLegendSettings:N9,addLegendPayload:b2,replaceLegendPayload:_2,removeLegendPayload:j2}=Ik.actions,S2=Ik.reducer;function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(null,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){P2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2(e,t,r){return(t=k2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k2(e){var t=E2(e,"string");return typeof t=="symbol"?t:t+""}function E2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N2(e){return Array.isArray(e)&&Lr(e[0])&&Lr(e[1])?e.join(" ~ "):e}var Ra={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},O2=e=>{var{separator:t=Ra.separator,contentStyle:r,itemStyle:n,labelStyle:i=Ra.labelStyle,payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=Ra.accessibilityLayer}=e,m=()=>{if(a&&a.length){var P={padding:0,margin:0},j=(l?qd(a,l):a).map((k,S)=>{if(k.type==="none")return null;var N=k.formatter||o||N2,{value:E,name:C}=k,O=E,W=C;if(N){var B=N(E,C,k,S,a);if(Array.isArray(B))[O,W]=B;else if(B!=null)O=B;else return null}var K=rs(rs({},Ra.itemStyle),{},{color:k.color||Ra.itemStyle.color},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:K},Lr(W)?p.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Lr(W)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},O),p.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:P},j)}return null},v=rs(rs({},Ra.contentStyle),r),y=rs({margin:0},i),x=!Oe(d),g=x?d:"",w=_e("recharts-default-tooltip",u),b=_e("recharts-tooltip-label",c);x&&f&&a!==void 0&&a!==null&&(g=f(d,a));var _=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",vm({className:w,style:v},_),p.createElement("p",{className:b,style:y},p.isValidElement(g)?g:"".concat(g)),m())},ns="recharts-tooltip-wrapper",A2={visibility:"hidden"};function T2(e){var{coordinate:t,translateX:r,translateY:n}=e;return _e(ns,{["".concat(ns,"-right")]:q(r)&&t&&q(t.x)&&r>=t.x,["".concat(ns,"-left")]:q(r)&&t&&q(t.x)&&r<t.x,["".concat(ns,"-bottom")]:q(n)&&t&&q(t.y)&&n>=t.y,["".concat(ns,"-top")]:q(n)&&t&&q(t.y)&&n<t.y})}function uw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=e;if(a&&q(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return o[n]?d:f;var h=u[n];if(h==null)return 0;if(o[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var y=f+l,x=h+c;return y>x?Math.max(d,h):Math.max(f,h)}function C2(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function I2(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,d,f,h;return l.height>0&&l.width>0&&r?(f=uw({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),h=uw({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=C2({translateX:f,translateY:h,useTranslate3d:u})):d=A2,{cssProperties:d,cssClasses:T2({translateX:f,translateY:h,coordinate:r})}}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gm(e,t,r){return(t=M2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M2(e){var t=D2(e,"string");return typeof t=="symbol"?t:t+""}function D2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class R2 extends p.PureComponent{constructor(){super(...arguments),gm(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gm(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:y,innerRef:x,hasPortalFromProps:g}=this.props,w=typeof c=="number"?c:c.x,b=typeof c=="number"?c:c.y,{cssClasses:_,cssProperties:P}=I2({allowEscapeViewBox:r,coordinate:o,offsetLeft:w,offsetTop:b,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=g?{}:pu(pu({transition:u&&t?"transform ".concat(n,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=pu(pu({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:k,ref:x},a)}}var Mk=()=>{var e;return(e=Y(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(null,arguments)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){L2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L2(e,t,r){return(t=$2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $2(e){var t=z2(e,"string");return typeof t=="symbol"?t:t+""}function z2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hw={curveBasisClosed:tD,curveBasisOpen:rD,curveBasis:eD,curveBumpX:FM,curveBumpY:UM,curveLinearClosed:nD,curveLinear:zd,curveMonotoneX:iD,curveMonotoneY:aD,curveNatural:oD,curveStep:sD,curveStepAfter:uD,curveStepBefore:lD},Fc=e=>se(e.x)&&se(e.y),pw=e=>e.base!=null&&Fc(e.base)&&Fc(e),is=e=>e.x,as=e=>e.y,F2=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(yl(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=hw["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return hw[r]||zd},mw={connectNulls:!1,type:"linear"},U2=e=>{var{type:t=mw.type,points:r=[],baseLine:n,layout:i,connectNulls:a=mw.connectNulls}=e,o=F2(t,i),l=a?r.filter(Fc):r;if(Array.isArray(n)){var u,c=r.map((v,y)=>fw(fw({},v),{},{base:n[y]}));i==="vertical"?u=ou().y(as).x1(is).x0(v=>v.base.x):u=ou().x(is).y1(as).y0(v=>v.base.y);var d=u.defined(pw).curve(o),f=a?c.filter(pw):c;return d(f)}var h;i==="vertical"&&q(n)?h=ou().y(as).x1(is).x0(n):q(n)?h=ou().x(is).y1(as).y0(n):h=K1().x(is).y(as);var m=h.defined(Fc).curve(o);return m(l)},wg=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Na();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},l=r&&r.length?U2(o):n;return p.createElement("path",ym({},br(e),Qv(e),{className:_e("recharts-curve",t),d:l===null?void 0:l,ref:i}))},B2=["x","y","top","left","width","height","className"];function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(null,arguments)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){K2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K2(e,t,r){return(t=H2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H2(e){var t=V2(e,"string");return typeof t=="symbol"?t:t+""}function V2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G2(e,t){if(e==null)return{};var r,n,i=q2(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q2(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Y2=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),X2=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=G2(e,B2),c=W2({x:t,y:r,top:n,left:i,width:a,height:o},u);return!q(t)||!q(r)||!q(a)||!q(o)||!q(n)||!q(i)?null:p.createElement("path",xm({},Wt(c),{className:_e("recharts-cross",l),d:Y2(t,r,a,o,n,i)}))};function Q2(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){Z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z2(e,t,r){return(t=J2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J2(e){var t=e$(e,"string");return typeof t=="symbol"?t:t+""}function e$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Dk=(e,t,r)=>e.map(n=>"".concat(t$(n)," ").concat(t,"ms ").concat(r)).join(","),r$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),nl=(e,t)=>Object.keys(t).reduce((r,n)=>yw(yw({},r),{},{[n]:e(n,t[n])}),{});function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){n$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n$(e,t,r){return(t=i$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uc=(e,t,r)=>e+(t-e)*r,wm=e=>{var{from:t,to:r}=e;return t!==r},Rk=(e,t,r)=>{var n=nl((i,a)=>{if(wm(a)){var[o,l]=e(a.from,a.to,a.velocity);return ut(ut({},a),{},{from:o,velocity:l})}return a},t);return r<1?nl((i,a)=>wm(a)&&n[i]!=null?ut(ut({},a),{},{velocity:Uc(a.velocity,n[i].velocity,r),from:Uc(a.from,n[i].from,r)}):a,t):Rk(e,n,r-1)};function o$(e,t,r,n,i,a){var o,l=n.reduce((h,m)=>ut(ut({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),u=()=>nl((h,m)=>m.from,l),c=()=>!Object.values(l).filter(wm).length,d=null,f=h=>{o||(o=h);var m=h-o,v=m/r.dt;l=Rk(r,l,v),i(ut(ut(ut({},e),t),u())),o=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function s$(e,t,r,n,i,a,o){var l=null,u=i.reduce((f,h)=>{var m=e[h],v=t[h];return m==null||v==null?f:ut(ut({},f),{},{[h]:[m,v]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/n,m=nl((y,x)=>Uc(...x,r(h)),u);if(a(ut(ut(ut({},e),t),m)),h<1)l=o.setTimeout(d);else{var v=nl((y,x)=>Uc(...x,r(1)),u);a(ut(ut(ut({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const l$=(e,t,r,n,i,a)=>{var o=r$(e,t);return r==null?()=>(i(ut(ut({},e),t)),()=>{}):r.isStepper===!0?o$(e,t,r,o,i,a):s$(e,t,r,n,o,i,a)};var Bc=1e-4,Lk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$k=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),ww=(e,t)=>r=>{var n=Lk(e,t);return $k(n,r)},u$=(e,t)=>r=>{var n=Lk(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return $k(i,r)},c$=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},d$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=c$(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},f$=(e,t,r,n)=>{var i=ww(e,r),a=ww(t,n),o=u$(e,r),l=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,v=o(f);if(Math.abs(m-d)<Bc||v<Bc)return a(f);f=l(f-m/v)}return a(f)};return u.isStepper=!1,u},bw=function(){return f$(...d$(...arguments))},h$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,l,u)=>{var c=-(o-l)*r,d=u*n,f=u+(c-d)*i/1e3,h=u*i/1e3+o;return Math.abs(h-l)<Bc&&Math.abs(f)<Bc?[l,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},p$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bw(e);case"spring":return h$();default:if(e.split("(")[0]==="cubic-bezier")return bw(e)}return typeof e=="function"?e:null};function m$(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...c]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,c),u);return}a(u),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class v${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function g$(){return m$(new v$)}var y$=p.createContext(g$);function x$(e,t){var r=p.useContext(y$);return p.useMemo(()=>t??r(e),[e,t,r])}var w$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ff={isSsr:w$()},b$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_w={t:0},Eh={t:1};function Sl(e){var t=kt(e,b$),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:c}=t,d=r==="auto"?!ff.isSsr:r,f=x$(t.animationId,t.animationManager),[h,m]=p.useState(d?_w:Eh),v=p.useRef(null);return p.useEffect(()=>{d||m(Eh)},[d]),p.useEffect(()=>{if(!d||!n)return Ea;var y=l$(_w,Eh,p$(a),i,m,f.getTimeoutController()),x=()=>{v.current=y()};return f.start([u,o,x,i,l]),()=>{f.stop(),v.current&&v.current(),l()}},[d,n,i,a,o,u,l,f]),c(h.t)}function Pl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Xs(t)),n=p.useRef(e);return n.current!==e&&(r.current=Xs(t),n.current=e),r.current}var _$=["radius"],j$=["radius"],jw,Sw,Pw,kw,Ew,Nw,Ow,Aw,Tw,Cw;function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){S$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$(e,t,r){return(t=P$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P$(e){var t=k$(e,"string");return typeof t=="symbol"?t:t+""}function k$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(null,arguments)}function Dw(e,t){if(e==null)return{};var r,n,i=E$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ln(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Rw=(e,t,r,n,i)=>{var a=_i(r),o=_i(n),l=Math.min(Math.abs(a)/2,Math.abs(o)/2),u=o>=0?1:-1,c=a>=0?1:-1,d=o>=0&&a>=0||o<0&&a<0?1:0,f;if(l>0&&Array.isArray(i)){for(var h=[0,0,0,0],m=0,v=4;m<v;m++){var y,x=(y=i[m])!==null&&y!==void 0?y:0;h[m]=x>l?l:x}f=Ze(jw||(jw=ln(["M",",",""])),e,t+u*h[0]),h[0]>0&&(f+=Ze(Sw||(Sw=ln(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Ze(Pw||(Pw=ln(["L ",",",""])),e+r-c*h[1],t),h[1]>0&&(f+=Ze(kw||(kw=ln(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+u*h[1])),f+=Ze(Ew||(Ew=ln(["L ",",",""])),e+r,t+n-u*h[2]),h[2]>0&&(f+=Ze(Nw||(Nw=ln(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-c*h[2],t+n)),f+=Ze(Ow||(Ow=ln(["L ",",",""])),e+c*h[3],t+n),h[3]>0&&(f+=Ze(Aw||(Aw=ln(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-u*h[3])),f+="Z"}else if(l>0&&i===+i&&i>0){var g=Math.min(l,i);f=Ze(Tw||(Tw=ln(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*g,g,g,d,e+c*g,t,e+r-c*g,t,g,g,d,e+r,t+u*g,e+r,t+n-u*g,g,g,d,e+r-c*g,t+n,e+c*g,t+n,g,g,d,e,t+n-u*g)}else f=Ze(Cw||(Cw=ln(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Lw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zk=e=>{var t=kt(e,Lw),r=p.useRef(null),[n,i]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:y}=t,x=p.useRef(l),g=p.useRef(u),w=p.useRef(a),b=p.useRef(o),_=p.useMemo(()=>({x:a,y:o,width:l,height:u,radius:c}),[a,o,l,u,c]),P=Pl(_,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var j=_e("recharts-rectangle",d);if(!y){var k=Wt(t),{radius:S}=k,N=Dw(k,_$);return p.createElement("path",Wc({},N,{x:_i(a),y:_i(o),width:_i(l),height:_i(u),radius:typeof c=="number"?c:void 0,className:j,d:Rw(a,o,l,u,c)}))}var E=x.current,C=g.current,O=w.current,W=b.current,B="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),H=Dk(["strokeDasharray"],h,typeof f=="string"?f:Lw.animationEasing);return p.createElement(Sl,{animationId:P,key:P,canBegin:n>0,duration:h,easing:f,isActive:y,begin:m},X=>{var A=De(E,l,X),L=De(C,u,X),F=De(O,a,X),Q=De(W,o,X);r.current&&(x.current=A,g.current=L,w.current=F,b.current=Q);var J;v?X>0?J={transition:H,strokeDasharray:K}:J={strokeDasharray:B}:J={strokeDasharray:K};var ne=Wt(t),{radius:pe}=ne,je=Dw(ne,j$);return p.createElement("path",Wc({},je,{radius:typeof c=="number"?c:void 0,className:j,d:Rw(F,Q,A,L,c),ref:r,style:Mw(Mw({},J),t.style)}))})};function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){N$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$(e,t,r){return(t=O$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=A$(e,"string");return typeof t=="symbol"?t:t+""}function A$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kc=Math.PI/180,T$=e=>e*180/Math.PI,Mt=(e,t,r,n)=>({x:e+Math.cos(-Kc*n)*r,y:t+Math.sin(-Kc*n)*r}),C$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},I$=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},M$=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=I$({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,u=Math.acos(l);return n>a&&(u=2*Math.PI-u),{radius:o,angle:T$(u),angleInRadian:u}},D$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},R$=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},L$=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=M$({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:c}=D$(t),d=a,f;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}return f?zw(zw({},t),{},{radius:i,angle:R$(d,t)}):null};function Fk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Mt(t,r,n,i),l=Mt(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var Fw,Uw,Bw,Ww,Kw,Hw,Vw;function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(null,arguments)}function Ji(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $$=(e,t)=>{var r=rr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},mu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,c=l*(o?1:-1)+n,d=Math.asin(l/c)/Kc,f=u?i:i+a*d,h=Mt(t,r,c,f),m=Mt(t,r,n,f),v=u?i-a*d:i,y=Mt(t,r,c*Math.cos(d*Kc),v);return{center:h,circleTangency:m,lineTangency:y,theta:d}},Uk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,l=$$(a,o),u=a+l,c=Mt(t,r,i,a),d=Mt(t,r,i,u),f=Ze(Fw||(Fw=Ji(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(l)>180),+(a>u),d.x,d.y);if(n>0){var h=Mt(t,r,n,a),m=Mt(t,r,n,u);f+=Ze(Uw||(Uw=Ji(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(a<=u),h.x,h.y)}else f+=Ze(Bw||(Bw=Ji(["L ",","," Z"])),t,r);return f},z$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}=e,d=rr(c-u),{circleTangency:f,lineTangency:h,theta:m}=mu({cx:t,cy:r,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:v,lineTangency:y,theta:x}=mu({cx:t,cy:r,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),g=l?Math.abs(u-c):Math.abs(u-c)-m-x;if(g<0)return o?Ze(Ww||(Ww=Ji(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):Uk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:c});var w=Ze(Kw||(Kw=Ji(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(g>180),+(d<0),v.x,v.y,a,a,+(d<0),y.x,y.y);if(n>0){var{circleTangency:b,lineTangency:_,theta:P}=mu({cx:t,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:j,lineTangency:k,theta:S}=mu({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=l?Math.abs(u-c):Math.abs(u-c)-P-S;if(N<0&&a===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=Ze(Hw||(Hw=Ji(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,a,a,+(d<0),j.x,j.y,n,n,+(N>180),+(d>0),b.x,b.y,a,a,+(d<0),_.x,_.y)}else w+=Ze(Vw||(Vw=Ji(["L",",","Z"])),t,r);return w},F$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bk=e=>{var t=kt(e,F$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=_e("recharts-sector",f),m=a-i,v=rn(o,m,0,!0),y;return v>0&&Math.abs(c-d)<360?y=z$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):y=Uk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),p.createElement("path",bm({},Wt(t),{className:h,d:y}))};function U$(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(oP(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Mt(n,i,a,l),c=Mt(n,i,o,l);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return Fk(t)}}var Wk={},Kk={},Hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lg,r=Kk;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=i,i+=o;return u}e.range=n})(Wk);var B$=Wk.range;const Vk=Zn(B$);function Ci(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bg(e){let t,r,n;e.length!==2?(t=Ci,r=(l,u)=>Ci(e(l),u),n=(l,u)=>e(l)-u):(t=e===Ci||e===W$?e:K$,r=e,n=e);function i(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const f=c+d>>>1;r(l[f],u)<0?c=f+1:d=f}while(c<d)}return c}function a(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const f=c+d>>>1;r(l[f],u)<=0?c=f+1:d=f}while(c<d)}return c}function o(l,u,c=0,d=l.length){const f=i(l,u,c,d-1);return f>c&&n(l[f-1],u)>-n(l[f],u)?f-1:f}return{left:i,center:o,right:a}}function K$(){return 0}function Gk(e){return e===null?NaN:+e}function*H$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const V$=bg(Ci),kl=V$.right;bg(Gk).center;class Gw extends Map{constructor(t,r=Y$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(qw(this,t))}has(t){return super.has(qw(this,t))}set(t,r){return super.set(G$(this,t),r)}delete(t){return super.delete(q$(this,t))}}function qw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function G$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function q$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Y$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function X$(e=Ci){if(e===Ci)return qk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Q$=Math.sqrt(50),Z$=Math.sqrt(10),J$=Math.sqrt(2);function Hc(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Q$?10:a>=Z$?5:a>=J$?2:1;let l,u,c;return i<0?(c=Math.pow(10,-i)/o,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*o,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?Hc(e,t,r*2):[l,u,c]}function _m(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Hc(t,e,r):Hc(e,t,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)u[c]=(a-c)/-o;else for(let c=0;c<l;++c)u[c]=(a-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(i+c)/-o;else for(let c=0;c<l;++c)u[c]=(i+c)*o;return u}function jm(e,t,r){return t=+t,e=+e,r=+r,Hc(e,t,r)[2]}function Sm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?jm(t,e,r):jm(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Yw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Xw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Yk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?qk:X$(i);n>r;){if(n-r>600){const u=n-r+1,c=t-r+1,d=Math.log(u),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(u-f)/u)*(c-u/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/u+h)),v=Math.min(n,Math.floor(t+(u-c)*f/u+h));Yk(e,t,m,v,i)}const a=e[t];let o=r,l=n;for(os(e,r,t),i(e[n],a)>0&&os(e,r,n);o<l;){for(os(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?os(e,r,l):(++l,os(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function os(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ez(e,t,r){if(e=Float64Array.from(H$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Xw(e);if(t>=1)return Yw(e);var n,i=(n-1)*t,a=Math.floor(i),o=Yw(Yk(e,a).subarray(0,a+1)),l=Xw(e.subarray(a+1));return o+(l-o)*(i-a)}}function tz(e,t,r=Gk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function rz(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pm=Symbol("implicit");function _g(){var e=new Gw,t=[],r=[],n=Pm;function i(a){let o=e.get(a);if(o===void 0){if(n!==Pm)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Gw;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _g(t,r).unknown(n)},Fr.apply(i,arguments),i}function jg(){var e=_g().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,u=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,v=m?i:n,y=m?n:i;a=(y-v)/Math.max(1,h-u+c*2),l&&(a=Math.floor(a)),v+=(y-v-a*(h-u))*d,o=a*(1-u),l&&(v=Math.round(v),o=Math.round(o));var x=rz(h).map(function(g){return v+a*g});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),f()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return jg(t(),[n,i]).round(l).paddingInner(u).paddingOuter(c).align(d)},Fr.apply(f(),arguments)}function Xk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Xk(t())},e}function nz(){return Xk(jg.apply(null,arguments).paddingInner(1))}function Sg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function El(){}var il=.7,Vc=1/il,fo="\\s*([+-]?\\d+)\\s*",al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iz=/^#([0-9a-f]{3,8})$/,az=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),oz=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),sz=new RegExp(`^rgba\\(${fo},${fo},${fo},${al}\\)$`),lz=new RegExp(`^rgba\\(${xn},${xn},${xn},${al}\\)$`),uz=new RegExp(`^hsl\\(${al},${xn},${xn}\\)$`),cz=new RegExp(`^hsla\\(${al},${xn},${xn},${al}\\)$`),Qw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sg(El,ol,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zw,formatHex:Zw,formatHex8:dz,formatHsl:fz,formatRgb:Jw,toString:Jw});function Zw(){return this.rgb().formatHex()}function dz(){return this.rgb().formatHex8()}function fz(){return Zk(this).formatHsl()}function Jw(){return this.rgb().formatRgb()}function ol(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?eb(t):r===3?new ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=az.exec(e))?new ir(t[1],t[2],t[3],1):(t=oz.exec(e))?new ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sz.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=lz.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uz.exec(e))?nb(t[1],t[2]/100,t[3]/100,1):(t=cz.exec(e))?nb(t[1],t[2]/100,t[3]/100,t[4]):Qw.hasOwnProperty(e)?eb(Qw[e]):e==="transparent"?new ir(NaN,NaN,NaN,0):null}function eb(e){return new ir(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ir(e,t,r,n)}function hz(e){return e instanceof El||(e=ol(e)),e?(e=e.rgb(),new ir(e.r,e.g,e.b,e.opacity)):new ir}function km(e,t,r,n){return arguments.length===1?hz(e):new ir(e,t,r,n??1)}function ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Sg(ir,km,Qk(El,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?il:Math.pow(il,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ir(la(this.r),la(this.g),la(this.b),Gc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tb,formatHex:tb,formatHex8:pz,formatRgb:rb,toString:rb}));function tb(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}`}function pz(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}${ea((isNaN(this.opacity)?1:this.opacity)*255)}`}function rb(){const e=Gc(this.opacity);return`${e===1?"rgb(":"rgba("}${la(this.r)}, ${la(this.g)}, ${la(this.b)}${e===1?")":`, ${e})`}`}function Gc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function la(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ea(e){return e=la(e),(e<16?"0":"")+e.toString(16)}function nb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qr(e,t,r,n)}function Zk(e){if(e instanceof qr)return new qr(e.h,e.s,e.l,e.opacity);if(e instanceof El||(e=ol(e)),!e)return new qr;if(e instanceof qr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new qr(o,l,u,e.opacity)}function mz(e,t,r,n){return arguments.length===1?Zk(e):new qr(e,t,r,n??1)}function qr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Sg(qr,mz,Qk(El,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?il:Math.pow(il,e),new qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ir(Nh(e>=240?e-240:e+120,i,n),Nh(e,i,n),Nh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new qr(ib(this.h),gu(this.s),gu(this.l),Gc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gc(this.opacity);return`${e===1?"hsl(":"hsla("}${ib(this.h)}, ${gu(this.s)*100}%, ${gu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ib(e){return e=(e||0)%360,e<0?e+360:e}function gu(e){return Math.max(0,Math.min(1,e||0))}function Nh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pg=e=>()=>e;function vz(e,t){return function(r){return e+r*t}}function gz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function yz(e){return(e=+e)==1?Jk:function(t,r){return r-t?gz(t,r,e):Pg(isNaN(t)?r:t)}}function Jk(e,t){var r=t-e;return r?vz(e,r):Pg(isNaN(e)?t:e)}const ab=function e(t){var r=yz(t);function n(i,a){var o=r((i=km(i)).r,(a=km(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),c=Jk(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=u(d),i.opacity=c(d),i+""}}return n.gamma=e,n}(1);function xz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function wz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=zo(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function _z(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jz(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=zo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Em=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oh=new RegExp(Em.source,"g");function Sz(e){return function(){return e}}function Pz(e){return function(t){return e(t)+""}}function kz(e,t){var r=Em.lastIndex=Oh.lastIndex=0,n,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Em.exec(e))&&(i=Oh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:qc(n,i)})),r=Oh.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Pz(u[0].x):Sz(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}function zo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Pg(t):(r==="number"?qc:r==="string"?(n=ol(t))?(t=n,ab):kz:t instanceof ol?ab:t instanceof Date?_z:wz(t)?xz:Array.isArray(t)?bz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jz:qc)(e,t)}function kg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ez(e,t){t===void 0&&(t=e,e=zo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function Nz(e){return function(){return e}}function Yc(e){return+e}var ob=[0,1];function Gt(e){return e}function Nm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Nz(isNaN(t)?NaN:.5)}function Oz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Az(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Nm(i,n),a=r(o,a)):(n=Nm(n,i),a=r(a,o)),function(l){return a(n(l))}}function Tz(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Nm(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var u=kl(e,l,1,n)-1;return a[u](i[u](l))}}function Nl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hf(){var e=ob,t=ob,r=zo,n,i,a,o=Gt,l,u,c;function d(){var h=Math.min(e.length,t.length);return o!==Gt&&(o=Oz(e[0],e[h-1])),l=h>2?Tz:Az,u=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(u||(u=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=l(t,e.map(n),qc)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yc),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=kg,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Gt,d()):o!==Gt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function Eg(){return hf()(Gt,Gt)}function Cz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xc(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ko(e){return e=Xc(Math.abs(e)),e?e[1]:NaN}function Iz(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Mz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Dz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sl(e){if(!(t=Dz.exec(e)))throw new Error("invalid format: "+e);var t;return new Ng({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sl.prototype=Ng.prototype;function Ng(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ng.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Qc;function Lz(e,t){var r=Xc(e,t);if(!r)return Qc=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(Qc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Xc(e,Math.max(0,t+a-1))[0]}function sb(e,t){var r=Xc(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const lb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Cz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sb(e*100,t),r:sb,s:Lz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ub(e){return e}var cb=Array.prototype.map,db=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $z(e){var t=e.grouping===void 0||e.thousands===void 0?ub:Iz(cb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ub:Mz(cb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=sl(f);var m=f.fill,v=f.align,y=f.sign,x=f.symbol,g=f.zero,w=f.width,b=f.comma,_=f.precision,P=f.trim,j=f.type;j==="n"?(b=!0,j="g"):lb[j]||(_===void 0&&(_=12),P=!0,j="g"),(g||m==="0"&&v==="=")&&(g=!0,m="0",v="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),S=(x==="$"?n:/[%p]/.test(j)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),N=lb[j],E=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function C(O){var W=k,B=S,K,H,X;if(j==="c")B=N(O)+B,O="";else{O=+O;var A=O<0||1/O<0;if(O=isNaN(O)?u:N(Math.abs(O),_),P&&(O=Rz(O)),A&&+O==0&&y!=="+"&&(A=!1),W=(A?y==="("?y:l:y==="-"||y==="("?"":y)+W,B=(j==="s"&&!isNaN(O)&&Qc!==void 0?db[8+Qc/3]:"")+B+(A&&y==="("?")":""),E){for(K=-1,H=O.length;++K<H;)if(X=O.charCodeAt(K),48>X||X>57){B=(X===46?i+O.slice(K+1):O.slice(K))+B,O=O.slice(0,K);break}}}b&&!g&&(O=t(O,1/0));var L=W.length+O.length+B.length,F=L<w?new Array(w-L+1).join(m):"";switch(b&&g&&(O=t(F+O,F.length?w-B.length:1/0),F=""),v){case"<":O=W+O+B+F;break;case"=":O=W+F+O+B;break;case"^":O=F.slice(0,L=F.length>>1)+W+O+B+F.slice(L);break;default:O=F+W+O+B;break}return a(O)}return C.toString=function(){return f+""},C}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(ko(h)/3)))*3,v=Math.pow(10,-m),y=c((f=sl(f),f.type="f",f),{suffix:db[8+m/3]});return function(x){return y(v*x)}}return{format:c,formatPrefix:d}}var yu,Og,eE;zz({thousands:",",grouping:[3],currency:["$",""]});function zz(e){return yu=$z(e),Og=yu.format,eE=yu.formatPrefix,yu}function Fz(e){return Math.max(0,-ko(Math.abs(e)))}function Uz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ko(t)/3)))*3-ko(Math.abs(e)))}function Bz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ko(t)-ko(e))+1}function tE(e,t,r,n){var i=Sm(e,t,r),a;switch(n=sl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Uz(i,o))&&(n.precision=a),eE(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Bz(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Fz(i))&&(n.precision=a-(n.type==="%")*2);break}}return Og(n)}function Bi(e){var t=e.domain;return e.ticks=function(r){var n=t();return _m(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return tE(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],u,c,d=10;for(l<o&&(c=o,o=l,l=c,c=i,i=a,a=c);d-- >0;){if(c=jm(o,l,r),c===u)return n[i]=o,n[a]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function rE(){var e=Eg();return e.copy=function(){return Nl(e,rE())},Fr.apply(e,arguments),Bi(e)}function nE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nE(e).unknown(t)},e=arguments.length?Array.from(e,Yc):[0,1],Bi(r)}function iE(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function fb(e){return Math.log(e)}function hb(e){return Math.exp(e)}function Wz(e){return-Math.log(-e)}function Kz(e){return-Math.exp(-e)}function Hz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vz(e){return e===10?Hz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pb(e){return(t,r)=>-e(-t,r)}function Ag(e){const t=e(fb,hb),r=t.domain;let n=10,i,a;function o(){return i=Gz(n),a=Vz(n),r()[0]<0?(i=pb(i),a=pb(a),e(Wz,Kz)):e(fb,hb),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let c=u[0],d=u[u.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),v,y;const x=l==null?10:+l;let g=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(v=1;v<n;++v)if(y=h<0?v/a(-h):v*a(h),!(y<c)){if(y>d)break;g.push(y)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(y=h>0?v/a(-h):v*a(h),!(y<c)){if(y>d)break;g.push(y)}g.length*2<x&&(g=_m(c,d,x))}else g=_m(h,m,Math.min(m-h,x)).map(a);return f?g.reverse():g},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=sl(u)).precision==null&&(u.trim=!0),u=Og(u)),l===1/0)return u;const c=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?u(d):""}},t.nice=()=>r(iE(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function aE(){const e=Ag(hf()).domain([1,10]);return e.copy=()=>Nl(e,aE()).base(e.base()),Fr.apply(e,arguments),e}function mb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tg(e){var t=1,r=e(mb(t),vb(t));return r.constant=function(n){return arguments.length?e(mb(t=+n),vb(t)):t},Bi(r)}function oE(){var e=Tg(hf());return e.copy=function(){return Nl(e,oE()).constant(e.constant())},Fr.apply(e,arguments)}function gb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Yz(e){return e<0?-e*e:e*e}function Cg(e){var t=e(Gt,Gt),r=1;function n(){return r===1?e(Gt,Gt):r===.5?e(qz,Yz):e(gb(r),gb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Bi(t)}function Ig(){var e=Cg(hf());return e.copy=function(){return Nl(e,Ig()).exponent(e.exponent())},Fr.apply(e,arguments),e}function Xz(){return Ig.apply(null,arguments).exponent(.5)}function yb(e){return Math.sign(e)*e*e}function Qz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sE(){var e=Eg(),t=[0,1],r=!1,n;function i(a){var o=Qz(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(yb(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Yc)).map(yb)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fr.apply(i,arguments),Bi(i)}function lE(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=tz(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[kl(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ci),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return lE().domain(e).range(t).unknown(n)},Fr.apply(a,arguments)}function uE(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[kl(n,u,0,r)]:a}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return uE().domain([e,t]).range(i).unknown(a)},Fr.apply(Bi(o),arguments)}function cE(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[kl(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cE().domain(e).range(t).unknown(r)},Fr.apply(i,arguments)}const Ah=new Date,Th=new Date;function ht(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let c;do u.push(c=new Date(+a)),t(a,l),e(a);while(c<a&&a<o);return u},i.filter=a=>ht(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Ah.setTime(+a),Th.setTime(+o),e(Ah),e(Th),Math.floor(r(Ah,Th))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Zc=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zc);Zc.range;const Dn=1e3,Cr=Dn*60,Rn=Cr*60,Hn=Rn*24,Mg=Hn*7,xb=Hn*30,Ch=Hn*365,ta=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCSeconds());ta.range;const Dg=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getMinutes());Dg.range;const Rg=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getUTCMinutes());Rg.range;const Lg=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn-e.getMinutes()*Cr)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getHours());Lg.range;const $g=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getUTCHours());$g.range;const Ol=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cr)/Hn,e=>e.getDate()-1);Ol.range;const pf=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);pf.range;const dE=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));dE.range;function Oa(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/Mg)}const mf=Oa(0),Jc=Oa(1),Zz=Oa(2),Jz=Oa(3),Eo=Oa(4),eF=Oa(5),tF=Oa(6);mf.range;Jc.range;Zz.range;Jz.range;Eo.range;eF.range;tF.range;function Aa(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Mg)}const vf=Aa(0),ed=Aa(1),rF=Aa(2),nF=Aa(3),No=Aa(4),iF=Aa(5),aF=Aa(6);vf.range;ed.range;rF.range;nF.range;No.range;iF.range;aF.range;const zg=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zg.range;const Fg=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fg.range;const Vn=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Gn=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gn.range;function fE(e,t,r,n,i,a){const o=[[ta,1,Dn],[ta,5,5*Dn],[ta,15,15*Dn],[ta,30,30*Dn],[a,1,Cr],[a,5,5*Cr],[a,15,15*Cr],[a,30,30*Cr],[i,1,Rn],[i,3,3*Rn],[i,6,6*Rn],[i,12,12*Rn],[n,1,Hn],[n,2,2*Hn],[r,1,Mg],[t,1,xb],[t,3,3*xb],[e,1,Ch]];function l(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:u(c,d,f),v=m?m.range(c,+d+1):[];return h?v.reverse():v}function u(c,d,f){const h=Math.abs(d-c)/f,m=bg(([,,x])=>x).right(o,h);if(m===o.length)return e.every(Sm(c/Ch,d/Ch,f));if(m===0)return Zc.every(Math.max(Sm(c,d,f),1));const[v,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(y)}return[l,u]}const[oF,sF]=fE(Gn,Fg,vf,dE,$g,Rg),[lF,uF]=fE(Vn,zg,mf,Ol,Lg,Dg);function Ih(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ss(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function cF(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,c=ls(i),d=us(i),f=ls(a),h=us(a),m=ls(o),v=us(o),y=ls(l),x=us(l),g=ls(u),w=us(u),b={a:X,A,b:L,B:F,c:null,d:Pb,e:Pb,f:IF,g:WF,G:HF,H:AF,I:TF,j:CF,L:hE,m:MF,M:DF,p:Q,q:J,Q:Nb,s:Ob,S:RF,u:LF,U:$F,V:zF,w:FF,W:UF,x:null,X:null,y:BF,Y:KF,Z:VF,"%":Eb},_={a:ne,A:pe,b:je,B:be,c:null,d:kb,e:kb,f:XF,g:o3,G:l3,H:GF,I:qF,j:YF,L:mE,m:QF,M:ZF,p:me,q:mt,Q:Nb,s:Ob,S:JF,u:e3,U:t3,V:r3,w:n3,W:i3,x:null,X:null,y:a3,Y:s3,Z:u3,"%":Eb},P={a:E,A:C,b:O,B:W,c:B,d:jb,e:jb,f:kF,g:_b,G:bb,H:Sb,I:Sb,j:_F,L:PF,m:bF,M:jF,p:N,q:wF,Q:NF,s:OF,S:SF,u:mF,U:vF,V:gF,w:pF,W:yF,x:K,X:H,y:_b,Y:bb,Z:xF,"%":EF};b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(R,ee){return function(re){var $=[],ce=-1,xe=0,vt=R.length,ve,I,Z;for(re instanceof Date||(re=new Date(+re));++ce<vt;)R.charCodeAt(ce)===37&&($.push(R.slice(xe,ce)),(I=wb[ve=R.charAt(++ce)])!=null?ve=R.charAt(++ce):I=ve==="e"?" ":"0",(Z=ee[ve])&&(ve=Z(re,I)),$.push(ve),xe=ce+1);return $.push(R.slice(xe,ce)),$.join("")}}function k(R,ee){return function(re){var $=ss(1900,void 0,1),ce=S($,R,re+="",0),xe,vt;if(ce!=re.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(ee&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(xe=Mh(ss($.y,0,1)),vt=xe.getUTCDay(),xe=vt>4||vt===0?ed.ceil(xe):ed(xe),xe=pf.offset(xe,($.V-1)*7),$.y=xe.getUTCFullYear(),$.m=xe.getUTCMonth(),$.d=xe.getUTCDate()+($.w+6)%7):(xe=Ih(ss($.y,0,1)),vt=xe.getDay(),xe=vt>4||vt===0?Jc.ceil(xe):Jc(xe),xe=Ol.offset(xe,($.V-1)*7),$.y=xe.getFullYear(),$.m=xe.getMonth(),$.d=xe.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),vt="Z"in $?Mh(ss($.y,0,1)).getUTCDay():Ih(ss($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(vt+5)%7:$.w+$.U*7-(vt+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Mh($)):Ih($)}}function S(R,ee,re,$){for(var ce=0,xe=ee.length,vt=re.length,ve,I;ce<xe;){if($>=vt)return-1;if(ve=ee.charCodeAt(ce++),ve===37){if(ve=ee.charAt(ce++),I=P[ve in wb?ee.charAt(ce++):ve],!I||($=I(R,re,$))<0)return-1}else if(ve!=re.charCodeAt($++))return-1}return $}function N(R,ee,re){var $=c.exec(ee.slice(re));return $?(R.p=d.get($[0].toLowerCase()),re+$[0].length):-1}function E(R,ee,re){var $=m.exec(ee.slice(re));return $?(R.w=v.get($[0].toLowerCase()),re+$[0].length):-1}function C(R,ee,re){var $=f.exec(ee.slice(re));return $?(R.w=h.get($[0].toLowerCase()),re+$[0].length):-1}function O(R,ee,re){var $=g.exec(ee.slice(re));return $?(R.m=w.get($[0].toLowerCase()),re+$[0].length):-1}function W(R,ee,re){var $=y.exec(ee.slice(re));return $?(R.m=x.get($[0].toLowerCase()),re+$[0].length):-1}function B(R,ee,re){return S(R,t,ee,re)}function K(R,ee,re){return S(R,r,ee,re)}function H(R,ee,re){return S(R,n,ee,re)}function X(R){return o[R.getDay()]}function A(R){return a[R.getDay()]}function L(R){return u[R.getMonth()]}function F(R){return l[R.getMonth()]}function Q(R){return i[+(R.getHours()>=12)]}function J(R){return 1+~~(R.getMonth()/3)}function ne(R){return o[R.getUTCDay()]}function pe(R){return a[R.getUTCDay()]}function je(R){return u[R.getUTCMonth()]}function be(R){return l[R.getUTCMonth()]}function me(R){return i[+(R.getUTCHours()>=12)]}function mt(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var ee=j(R+="",b);return ee.toString=function(){return R},ee},parse:function(R){var ee=k(R+="",!1);return ee.toString=function(){return R},ee},utcFormat:function(R){var ee=j(R+="",_);return ee.toString=function(){return R},ee},utcParse:function(R){var ee=k(R+="",!0);return ee.toString=function(){return R},ee}}}var wb={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,dF=/^%/,fF=/[\\^$*+?|[\]().{}]/g;function ye(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function hF(e){return e.replace(fF,"\\$&")}function ls(e){return new RegExp("^(?:"+e.map(hF).join("|")+")","i")}function us(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function pF(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function mF(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vF(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function gF(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yF(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function bb(e,t,r){var n=Nt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _b(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wF(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function bF(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jb(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function _F(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Sb(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jF(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function SF(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function PF(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kF(e,t,r){var n=Nt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EF(e,t,r){var n=dF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function NF(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function OF(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Pb(e,t){return ye(e.getDate(),t,2)}function AF(e,t){return ye(e.getHours(),t,2)}function TF(e,t){return ye(e.getHours()%12||12,t,2)}function CF(e,t){return ye(1+Ol.count(Vn(e),e),t,3)}function hE(e,t){return ye(e.getMilliseconds(),t,3)}function IF(e,t){return hE(e,t)+"000"}function MF(e,t){return ye(e.getMonth()+1,t,2)}function DF(e,t){return ye(e.getMinutes(),t,2)}function RF(e,t){return ye(e.getSeconds(),t,2)}function LF(e){var t=e.getDay();return t===0?7:t}function $F(e,t){return ye(mf.count(Vn(e)-1,e),t,2)}function pE(e){var t=e.getDay();return t>=4||t===0?Eo(e):Eo.ceil(e)}function zF(e,t){return e=pE(e),ye(Eo.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function FF(e){return e.getDay()}function UF(e,t){return ye(Jc.count(Vn(e)-1,e),t,2)}function BF(e,t){return ye(e.getFullYear()%100,t,2)}function WF(e,t){return e=pE(e),ye(e.getFullYear()%100,t,2)}function KF(e,t){return ye(e.getFullYear()%1e4,t,4)}function HF(e,t){var r=e.getDay();return e=r>=4||r===0?Eo(e):Eo.ceil(e),ye(e.getFullYear()%1e4,t,4)}function VF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ye(t/60|0,"0",2)+ye(t%60,"0",2)}function kb(e,t){return ye(e.getUTCDate(),t,2)}function GF(e,t){return ye(e.getUTCHours(),t,2)}function qF(e,t){return ye(e.getUTCHours()%12||12,t,2)}function YF(e,t){return ye(1+pf.count(Gn(e),e),t,3)}function mE(e,t){return ye(e.getUTCMilliseconds(),t,3)}function XF(e,t){return mE(e,t)+"000"}function QF(e,t){return ye(e.getUTCMonth()+1,t,2)}function ZF(e,t){return ye(e.getUTCMinutes(),t,2)}function JF(e,t){return ye(e.getUTCSeconds(),t,2)}function e3(e){var t=e.getUTCDay();return t===0?7:t}function t3(e,t){return ye(vf.count(Gn(e)-1,e),t,2)}function vE(e){var t=e.getUTCDay();return t>=4||t===0?No(e):No.ceil(e)}function r3(e,t){return e=vE(e),ye(No.count(Gn(e),e)+(Gn(e).getUTCDay()===4),t,2)}function n3(e){return e.getUTCDay()}function i3(e,t){return ye(ed.count(Gn(e)-1,e),t,2)}function a3(e,t){return ye(e.getUTCFullYear()%100,t,2)}function o3(e,t){return e=vE(e),ye(e.getUTCFullYear()%100,t,2)}function s3(e,t){return ye(e.getUTCFullYear()%1e4,t,4)}function l3(e,t){var r=e.getUTCDay();return e=r>=4||r===0?No(e):No.ceil(e),ye(e.getUTCFullYear()%1e4,t,4)}function u3(){return"+0000"}function Eb(){return"%"}function Nb(e){return+e}function Ob(e){return Math.floor(+e/1e3)}var La,gE,yE;c3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function c3(e){return La=cF(e),gE=La.format,La.parse,yE=La.utcFormat,La.utcParse,La}function d3(e){return new Date(e)}function f3(e){return e instanceof Date?+e:+new Date(+e)}function Ug(e,t,r,n,i,a,o,l,u,c){var d=Eg(),f=d.invert,h=d.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),w=c("%b %d"),b=c("%B"),_=c("%Y");function P(j){return(u(j)<j?m:l(j)<j?v:o(j)<j?y:a(j)<j?x:n(j)<j?i(j)<j?g:w:r(j)<j?b:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,f3)):h().map(d3)},d.ticks=function(j){var k=h();return e(k[0],k[k.length-1],j??10)},d.tickFormat=function(j,k){return k==null?P:c(k)},d.nice=function(j){var k=h();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?h(iE(k,j)):d},d.copy=function(){return Nl(d,Ug(e,t,r,n,i,a,o,l,u,c))},d}function h3(){return Fr.apply(Ug(lF,uF,Vn,zg,mf,Ol,Lg,Dg,ta,gE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function p3(){return Fr.apply(Ug(oF,sF,Gn,Fg,vf,pf,$g,Rg,ta,yE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gf(){var e=0,t=1,r,n,i,a,o=Gt,l=!1,u;function c(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(l=!!f,c):l},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),c):[o(0),o(1)]}}return c.range=d(zo),c.rangeRound=d(kg),c.unknown=function(f){return arguments.length?(u=f,c):u},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Wi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xE(){var e=Bi(gf()(Gt));return e.copy=function(){return Wi(e,xE())},ii.apply(e,arguments)}function wE(){var e=Ag(gf()).domain([1,10]);return e.copy=function(){return Wi(e,wE()).base(e.base())},ii.apply(e,arguments)}function bE(){var e=Tg(gf());return e.copy=function(){return Wi(e,bE()).constant(e.constant())},ii.apply(e,arguments)}function Bg(){var e=Cg(gf());return e.copy=function(){return Wi(e,Bg()).exponent(e.exponent())},ii.apply(e,arguments)}function m3(){return Bg.apply(null,arguments).exponent(.5)}function _E(){var e=[],t=Gt;function r(n){if(n!=null&&!isNaN(n=+n))return t((kl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ci),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ez(e,a/n))},r.copy=function(){return _E(t).domain(e)},ii.apply(r,arguments)}function yf(){var e=0,t=.5,r=1,n=1,i,a,o,l,u,c=Gt,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(n*y<n*a?l:u),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),a=d(t=+t),o=d(r=+r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function v(y){return function(x){var g,w,b;return arguments.length?([g,w,b]=x,c=Ez(y,[g,w,b]),m):[c(0),c(.5),c(1)]}}return m.range=v(zo),m.rangeRound=v(kg),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(e),a=y(t),o=y(r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function jE(){var e=Bi(yf()(Gt));return e.copy=function(){return Wi(e,jE())},ii.apply(e,arguments)}function SE(){var e=Ag(yf()).domain([.1,1,10]);return e.copy=function(){return Wi(e,SE()).base(e.base())},ii.apply(e,arguments)}function PE(){var e=Tg(yf());return e.copy=function(){return Wi(e,PE()).constant(e.constant())},ii.apply(e,arguments)}function Wg(){var e=Cg(yf());return e.copy=function(){return Wi(e,Wg()).exponent(e.exponent())},ii.apply(e,arguments)}function v3(){return Wg.apply(null,arguments).exponent(.5)}const gs=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jg,scaleDiverging:jE,scaleDivergingLog:SE,scaleDivergingPow:Wg,scaleDivergingSqrt:v3,scaleDivergingSymlog:PE,scaleIdentity:nE,scaleImplicit:Pm,scaleLinear:rE,scaleLog:aE,scaleOrdinal:_g,scalePoint:nz,scalePow:Ig,scaleQuantile:lE,scaleQuantize:uE,scaleRadial:sE,scaleSequential:xE,scaleSequentialLog:wE,scaleSequentialPow:Bg,scaleSequentialQuantile:_E,scaleSequentialSqrt:m3,scaleSequentialSymlog:bE,scaleSqrt:Xz,scaleSymlog:oE,scaleThreshold:cE,scaleTime:h3,scaleUtc:p3,tickFormat:tE},Symbol.toStringTag,{value:"Module"}));var ai=e=>e.chartData,kE=T([ai],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xf=(e,t,r,n)=>n?kE(e):ai(e),g3=(e,t,r)=>r?kE(e):ai(e);function qn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(se(t)&&se(r))return!0}return!1}function Ab(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function EE(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(se(r))i=r;else if(typeof r=="function")return;if(se(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(qn(o))return o}}function y3(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(qn(n))return Ab(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(q(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&X0.test(i)){var u=X0.exec(i);if(u==null||u[1]==null||t==null)o=void 0;else{var c=+u[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(q(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Q0.test(a)){var d=Q0.exec(a);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(qn(h))return t==null?h:Ab(h,t,r)}}}var Fo=1e9,x3={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hg,Ke=!0,zr="[DecimalError] ",ua=zr+"Invalid argument: ",Kg=zr+"Exponent out of range: ",Uo=Math.floor,Yi=Math.pow,w3=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr,bt=1e7,$e=7,NE=9007199254740991,td=Uo(NE/$e),G={};G.absoluteValue=G.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};G.comparedTo=G.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};G.decimalPlaces=G.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$e;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};G.dividedBy=G.div=function(e){return $n(this,new this.constructor(e))};G.dividedToIntegerBy=G.idiv=function(e){var t=this,r=t.constructor;return Ce($n(t,new r(e),0,1),r.precision)};G.equals=G.eq=function(e){return!this.cmp(e)};G.exponent=function(){return ot(this)};G.greaterThan=G.gt=function(e){return this.cmp(e)>0};G.greaterThanOrEqualTo=G.gte=function(e){return this.cmp(e)>=0};G.isInteger=G.isint=function(){return this.e>this.d.length-2};G.isNegative=G.isneg=function(){return this.s<0};G.isPositive=G.ispos=function(){return this.s>0};G.isZero=function(){return this.s===0};G.lessThan=G.lt=function(e){return this.cmp(e)<0};G.lessThanOrEqualTo=G.lte=function(e){return this.cmp(e)<1};G.logarithm=G.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hr))throw Error(zr+"NaN");if(r.s<1)throw Error(zr+(r.s?"NaN":"-Infinity"));return r.eq(hr)?new n(0):(Ke=!1,t=$n(ll(r,a),ll(e,a),a),Ke=!0,Ce(t,i))};G.minus=G.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TE(t,e):OE(t,(e.s=-e.s,e))};G.modulo=G.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zr+"NaN");return r.s?(Ke=!1,t=$n(r,e,0,1).times(e),Ke=!0,r.minus(t)):Ce(new n(r),i)};G.naturalExponential=G.exp=function(){return AE(this)};G.naturalLogarithm=G.ln=function(){return ll(this)};G.negated=G.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};G.plus=G.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OE(t,e):TE(t,(e.s=-e.s,e))};G.precision=G.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ua+e);if(t=ot(i)+1,n=i.d.length-1,r=n*$e+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};G.squareRoot=G.sqrt=function(){var e,t,r,n,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(zr+"NaN")}for(e=ot(l),Ke=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=vn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Uo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus($n(l,a,o+2)).times(.5),vn(a.d).slice(0,o)===(t=vn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ce(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return Ke=!0,Ce(n,r)};G.times=G.mul=function(e){var t,r,n,i,a,o,l,u,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,u=h.length,c=m.length,u<c&&(a=h,h=m,m=a,o=u,u=c,c=o),a=[],o=u+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)l=a[i]+m[n]*h[i-n-1]+t,a[i--]=l%bt|0,t=l/bt|0;a[i]=(a[i]+t)%bt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ke?Ce(e,f.precision):e};G.toDecimalPlaces=G.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jn(e,0,Fo),t===void 0?t=n.rounding:jn(t,0,8),Ce(r,e+ot(r)+1,t))};G.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ba(n,!0):(jn(e,0,Fo),t===void 0?t=i.rounding:jn(t,0,8),n=Ce(new i(n),e+1,t),r=ba(n,!0,e+1)),r};G.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ba(i):(jn(e,0,Fo),t===void 0?t=a.rounding:jn(t,0,8),n=Ce(new a(i),e+ot(i)+1,t),r=ba(n.abs(),!1,e+ot(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};G.toInteger=G.toint=function(){var e=this,t=e.constructor;return Ce(new t(e),ot(e)+1,t.rounding)};G.toNumber=function(){return+this};G.toPower=G.pow=function(e){var t,r,n,i,a,o,l=this,u=l.constructor,c=12,d=+(e=new u(e));if(!e.s)return new u(hr);if(l=new u(l),!l.s){if(e.s<1)throw Error(zr+"Infinity");return l}if(l.eq(hr))return l;if(n=u.precision,e.eq(hr))return Ce(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=NE){for(i=new u(hr),t=Math.ceil(n/$e+4),Ke=!1;r%2&&(i=i.times(l),Cb(i.d,t)),r=Uo(r/2),r!==0;)l=l.times(l),Cb(l.d,t);return Ke=!0,e.s<0?new u(hr).div(i):Ce(i,n)}}else if(a<0)throw Error(zr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,i=e.times(ll(l,n+c)),Ke=!0,i=AE(i),i.s=a,i};G.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ot(i),n=ba(i,r<=a.toExpNeg||r>=a.toExpPos)):(jn(e,1,Fo),t===void 0?t=a.rounding:jn(t,0,8),i=Ce(new a(i),e,t),r=ot(i),n=ba(i,e<=r||r<=a.toExpNeg,e)),n};G.toSignificantDigits=G.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jn(e,1,Fo),t===void 0?t=n.rounding:jn(t,0,8)),Ce(new n(r),e,t)};G.toString=G.valueOf=G.val=G.toJSON=G[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),r=e.constructor;return ba(e,t<=r.toExpNeg||t>=r.toExpPos)};function OE(e,t){var r,n,i,a,o,l,u,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?Ce(t,f):t;if(u=e.d,c=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,l=c.length):(n=c,i=o,l=u.length),o=Math.ceil(f/$e),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=u.length,a=c.length,l-a<0&&(a=l,n=c,c=u,u=n),r=0;a;)r=(u[--a]=u[a]+c[a]+r)/bt|0,u[a]%=bt;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Ke?Ce(t,f):t}function jn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ua+e)}function vn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=$e-n.length,r&&(a+=pi(r)),a+=n;o=e[t],n=o+"",r=$e-n.length,r&&(a+=pi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var $n=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%bt|0,o=a/bt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*bt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,u,c,d,f,h,m,v,y,x,g,w,b,_,P,j,k,S,N=n.constructor,E=n.s==i.s?1:-1,C=n.d,O=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(zr+"Division by zero");for(u=n.e-i.e,k=O.length,P=C.length,m=new N(E),v=m.d=[],c=0;O[c]==(C[c]||0);)++c;if(O[c]>(C[c]||0)&&--u,a==null?w=a=N.precision:o?w=a+(ot(n)-ot(i))+1:w=a,w<0)return new N(0);if(w=w/$e+2|0,c=0,k==1)for(d=0,O=O[0],w++;(c<P||d)&&w--;c++)b=d*bt+(C[c]||0),v[c]=b/O|0,d=b%O|0;else{for(d=bt/(O[0]+1)|0,d>1&&(O=e(O,d),C=e(C,d),k=O.length,P=C.length),_=k,y=C.slice(0,k),x=y.length;x<k;)y[x++]=0;S=O.slice(),S.unshift(0),j=O[0],O[1]>=bt/2&&++j;do d=0,l=t(O,y,k,x),l<0?(g=y[0],k!=x&&(g=g*bt+(y[1]||0)),d=g/j|0,d>1?(d>=bt&&(d=bt-1),f=e(O,d),h=f.length,x=y.length,l=t(f,y,h,x),l==1&&(d--,r(f,k<h?S:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),r(y,f,x),l==-1&&(x=y.length,l=t(O,y,k,x),l<1&&(d++,r(y,k<x?S:O,x))),x=y.length):l===0&&(d++,y=[0]),v[c++]=d,l&&y[0]?y[x++]=C[_]||0:(y=[C[_]],x=1);while((_++<P||y[0]!==void 0)&&w--)}return v[0]||v.shift(),m.e=u,Ce(m,o?a+ot(m)+1:a)}}();function AE(e,t){var r,n,i,a,o,l,u=0,c=0,d=e.constructor,f=d.precision;if(ot(e)>16)throw Error(Kg+ot(e));if(!e.s)return new d(hr);for(Ke=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Yi(2,c))/Math.LN10*2+5|0,l+=n,r=i=a=new d(hr),d.precision=l;;){if(i=Ce(i.times(e),l),r=r.times(++u),o=a.plus($n(i,r,l)),vn(o.d).slice(0,l)===vn(a.d).slice(0,l)){for(;c--;)a=Ce(a.times(a),l);return d.precision=f,t==null?(Ke=!0,Ce(a,f)):a}a=o}}function ot(e){for(var t=e.e*$e,r=e.d[0];r>=10;r/=10)t++;return t}function Dh(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(zr+"LN10 precision limit exceeded");return Ce(new e(e.LN10),t)}function pi(e){for(var t="";e--;)t+="0";return t}function ll(e,t){var r,n,i,a,o,l,u,c,d,f=1,h=10,m=e,v=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(zr+(m.s?"NaN":"-Infinity"));if(m.eq(hr))return new y(0);if(t==null?(Ke=!1,c=x):c=t,m.eq(10))return t==null&&(Ke=!0),Dh(y,c);if(c+=h,y.precision=c,r=vn(v),n=r.charAt(0),a=ot(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=vn(m.d),n=r.charAt(0),f++;a=ot(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return u=Dh(y,c+2,x).times(a+""),m=ll(new y(n+"."+r.slice(1)),c-h).plus(u),y.precision=x,t==null?(Ke=!0,Ce(m,x)):m;for(l=o=m=$n(m.minus(hr),m.plus(hr),c),d=Ce(m.times(m),c),i=3;;){if(o=Ce(o.times(d),c),u=l.plus($n(o,new y(i),c)),vn(u.d).slice(0,c)===vn(l.d).slice(0,c))return l=l.times(2),a!==0&&(l=l.plus(Dh(y,c+2,x).times(a+""))),l=$n(l,new y(f),c),y.precision=x,t==null?(Ke=!0,Ce(l,x)):l;l=u,i+=2}}function Tb(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Uo(r/$e),e.d=[],n=(r+1)%$e,r<0&&(n+=$e),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$e;n<i;)e.d.push(+t.slice(n,n+=$e));t=t.slice(n),n=$e-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>td||e.e<-td))throw Error(Kg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ce(e,t,r){var n,i,a,o,l,u,c,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=$e,i=t,c=f[d=0];else{if(d=Math.ceil((n+1)/$e),a=f.length,d>=a)return e;for(c=a=f[d],o=1;a>=10;a/=10)o++;n%=$e,i=n-$e+o}if(r!==void 0&&(a=Yi(10,o-i-1),l=c/a%10|0,u=t<0||f[d+1]!==void 0||c%a,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?c/Yi(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return u?(a=ot(e),f.length=1,t=t-a-1,f[0]=Yi(10,($e-t%$e)%$e),e.e=Uo(-t/$e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Yi(10,$e-n),f[d]=i>0?(c/Yi(10,o-i)%Yi(10,i)|0)*a:0),u)for(;;)if(d==0){(f[0]+=a)==bt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=bt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>td||e.e<-td))throw Error(Kg+ot(e));return e}function TE(e,t){var r,n,i,a,o,l,u,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?Ce(t,m):t;if(u=e.d,f=t.d,n=t.e,c=e.e,u=u.slice(),o=c-n,o){for(d=o<0,d?(r=u,o=-o,l=f.length):(r=f,n=c,l=u.length),i=Math.max(Math.ceil(m/$e),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=f[i]){d=u[i]<f[i];break}o=0}for(d&&(r=u,u=f,f=r,t.s=-t.s),l=u.length,i=f.length-l;i>0;--i)u[l++]=0;for(i=f.length;i>o;){if(u[--i]<f[i]){for(a=i;a&&u[--a]===0;)u[a]=bt-1;--u[a],u[i]+=bt}u[i]-=f[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Ke?Ce(t,m):t):new h(0)}function ba(e,t,r){var n,i=ot(e),a=vn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+pi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+pi(-i-1)+a,r&&(n=r-o)>0&&(a+=pi(n))):i>=o?(a+=pi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+pi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=pi(n))),e.s<0?"-"+a:a}function Cb(e,t){if(e.length>t)return e.length=t,!0}function CE(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ua+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Tb(o,a.toString())}else if(typeof a!="string")throw Error(ua+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,w3.test(a))Tb(o,a);else throw Error(ua+a)}if(i.prototype=G,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CE,i.config=i.set=b3,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function b3(e){if(!e||typeof e!="object")throw Error(zr+"Object expected");var t,r,n,i=["precision",1,Fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Uo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ua+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ua+r+": "+n);return this}var Hg=CE(x3);hr=new Hg(1);const Pe=Hg;function IE(e){var t;return e===0?t=1:t=Math.floor(new Pe(e).abs().log(10).toNumber())+1,t}function ME(e,t,r){for(var n=new Pe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var DE=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},RE=(e,t,r)=>{if(e.lte(0))return new Pe(0);var n=IE(e.toNumber()),i=new Pe(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new Pe(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=l.mul(i);return t?new Pe(u.toNumber()):new Pe(Math.ceil(u.toNumber()))},_3=(e,t,r)=>{var n=new Pe(1),i=new Pe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Pe(10).pow(IE(e)-1),i=new Pe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Pe(Math.floor(e)))}else e===0?i=new Pe(Math.floor((t-1)/2)):r||(i=new Pe(Math.floor(e)));for(var o=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new Pe(u-o).mul(n)).toNumber());return l},LE=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var o=RE(new Pe(r).sub(t).div(n-1),i,a),l;t<=0&&r>=0?l=new Pe(0):(l=new Pe(t).add(r).div(2),l=l.sub(new Pe(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new Pe(r).sub(l).div(o).toNumber()),d=u+c+1;return d>n?LE(t,r,n,i,a+1):(d<n&&(c=r>0?c+(n-d):c,u=r>0?u:u+(n-d)),{step:o,tickMin:l.sub(new Pe(u).mul(o)),tickMax:l.add(new Pe(c).mul(o))})},j3=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=DE([r,n]);if(l===-1/0||u===1/0){var c=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?c.reverse():c}if(l===u)return _3(l,i,a);var{step:d,tickMin:f,tickMax:h}=LE(l,u,o,a,0),m=ME(f,h.add(new Pe(.1).mul(d)),d);return r>n?m.reverse():m},S3=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=DE([n,i]);if(o===-1/0||l===1/0)return[n,i];if(o===l)return[o];var u=Math.max(r,2),c=RE(new Pe(l).sub(o).div(u-1),a,0),d=[...ME(new Pe(o),new Pe(l),c),l];return a===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},$E=e=>e.rootProps.maxBarSize,P3=e=>e.rootProps.barGap,zE=e=>e.rootProps.barCategoryGap,k3=e=>e.rootProps.barSize,wf=e=>e.rootProps.stackOffset,FE=e=>e.rootProps.reverseStackOrder,Vg=e=>e.options.chartName,Gg=e=>e.rootProps.syncId,UE=e=>e.rootProps.syncMethod,qg=e=>e.options.eventEmitter,it={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ki={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},un={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},bf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function _f(e,t,r){if(r!=="auto")return r;if(e!=null)return ti(e,t)?"category":"number"}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){E3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E3(e,t,r){return(t=N3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N3(e){var t=O3(e,"string");return typeof t=="symbol"?t:t+""}function O3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mb={allowDataOverflow:Ki.allowDataOverflow,allowDecimals:Ki.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ki.angleAxisId,includeHidden:!1,name:void 0,reversed:Ki.reversed,scale:Ki.scale,tick:Ki.tick,tickCount:void 0,ticks:void 0,type:Ki.type,unit:void 0},Db={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:un.includeHidden,name:void 0,reversed:un.reversed,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:un.type,unit:void 0},A3=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Yg=T([A3,kk],(e,t)=>{var r;if(e!=null)return e;var n=(r=_f(t,"angleAxis",Mb.type))!==null&&r!==void 0?r:"category";return rd(rd({},Mb),{},{type:n})}),T3=(e,t)=>e.polarAxis.radiusAxis[t],Xg=T([T3,kk],(e,t)=>{var r;if(e!=null)return e;var n=(r=_f(t,"radiusAxis",Db.type))!==null&&r!==void 0?r:"category";return rd(rd({},Db),{},{type:n})}),jf=e=>e.polarOptions,Qg=T([ri,ni,Et],C$),BE=T([jf,Qg],(e,t)=>{if(e!=null)return rn(e.innerRadius,t,0)}),WE=T([jf,Qg],(e,t)=>{if(e!=null)return rn(e.outerRadius,t,t*.8)}),C3=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},KE=T([jf],C3);T([Yg,KE],bf);var HE=T([Qg,BE,WE],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([Xg,HE],bf);var VE=T([Ee,jf,BE,WE,ri,ni],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:c}=t;return{cx:rn(o,i,i/2),cy:rn(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),Ot=(e,t)=>t,Sf=(e,t,r)=>r;function Zg(e){return e==null?void 0:e.id}function GE(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(l=>{var u,c=(u=l.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var d=Zg(l);c.forEach((f,h)=>{var m=a==null||i?h:String(He(f,a,null)),v=He(f,l.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:v}),o.set(m,y)})}}),Array.from(o.values())}function Pf(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var kf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ef(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function I3(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var At=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bo=e=>e.tooltip.settings.axisId;function M3(e){if(e in gs)return gs[e]();var t="scale".concat(yl(e));if(t in gs)return gs[t]()}function Rb(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],l=i[1];return o<=l?a>=o&&a<=l:a>=l&&a<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,o)=>{var l=e(a);if(l!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var u=e.bandwidth();switch(o.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function Lb(e,t,r){if(typeof e=="function")return Rb(e.copy().domain(t).range(r));if(e!=null){var n=M3(e);if(n!=null)return n.domain(t).range(r),Rb(n)}}var D3=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!qn(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];se(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){R3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3(e,t,r){return(t=L3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=$3(e,"string");return typeof t=="symbol"?t:t+""}function $3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Om=[0,"auto"],xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qE=(e,t)=>e.cartesianAxis.xAxis[t],En=(e,t)=>{var r=qE(e,t);return r??xt},wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Om,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bl},YE=(e,t)=>e.cartesianAxis.yAxis[t],Nn=(e,t)=>{var r=YE(e,t);return r??wt},XE={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Jg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??XE},Zt=(e,t,r)=>{switch(t){case"xAxis":return En(e,r);case"yAxis":return Nn(e,r);case"zAxis":return Jg(e,r);case"angleAxis":return Yg(e,r);case"radiusAxis":return Xg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},z3=(e,t,r)=>{switch(t){case"xAxis":return En(e,r);case"yAxis":return Nn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Al=(e,t,r)=>{switch(t){case"xAxis":return En(e,r);case"yAxis":return Nn(e,r);case"angleAxis":return Yg(e,r);case"radiusAxis":return Xg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QE=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ZE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Tl=e=>e.graphicalItems.cartesianItems,F3=T([Ot,Sf],ZE),JE=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Cl=T([Tl,Zt,F3],JE,{memoizeOptions:{resultEqualityCheck:Ef}}),eN=T([Cl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Pf)),tN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),U3=T([Cl],tN),rN=e=>e.map(t=>t.data).filter(Boolean).flat(1),B3=T([Cl],rN,{memoizeOptions:{resultEqualityCheck:Ef}}),nN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},ey=T([B3,xf],nN),iN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:He(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:He(i,n)}))):e.map(n=>({value:n})),Nf=T([ey,Zt,Cl],iN);function aN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bu(e){if(Lr(e)||e instanceof Date){var t=Number(e);if(se(t))return t}}function zb(e){if(Array.isArray(e)){var t=[Bu(e[0]),Bu(e[1])];return qn(t)?t:void 0}var r=Bu(e);if(r!=null)return[r,r]}function Yn(e){return e.map(Bu).filter(nr)}function W3(e,t,r){return!r||typeof t!="number"||bn(t)?[]:r.length?Yn(r.flatMap(n=>{var i=He(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!se(a)||!se(o)))return[t-a,t+o]})):[]}var pt=e=>{var t=At(e),r=Bo(e);return Al(e,t,r)},Il=T([pt],e=>e==null?void 0:e.dataKey),K3=T([eN,xf,pt],GE),oN=(e,t,r,n)=>{var i={},a=t.reduce((o,l)=>{if(l.stackId==null)return o;var u=o[l.stackId];return u==null&&(u=[]),u.push(l),o[l.stackId]=u,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,c=n?[...u].reverse():u,d=c.map(Zg);return[l,{stackedData:NL(e,d,r),graphicalItems:c}]}))},Am=T([K3,eN,wf,FE],oN),sN=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=IL(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},H3=T([Zt],e=>e.allowDataOverflow),ty=e=>{var t;if(e==null||!("domain"in e))return Om;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Yn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Om},lN=T([Zt],ty),uN=T([lN,H3],EE),V3=T([Am,ai,Ot,uN],sN,{memoizeOptions:{resultEqualityCheck:kf}}),ry=e=>e.errorBars,G3=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>aN(r,n)),id=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},cN=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var c,d,f=(c=n[u.id])===null||c===void 0?void 0:c.filter(g=>aN(i,g)),h=He(l,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),m=W3(l,h,f);if(m.length>=2){var v=Math.min(...m),y=Math.max(...m);(a==null||v<a)&&(a=v),(o==null||y>o)&&(o=y)}var x=zb(h);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=zb(He(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),se(a)&&se(o))return[a,o]},q3=T([ey,Zt,U3,ry,Ot],cN,{memoizeOptions:{resultEqualityCheck:kf}});function Y3(e){var{value:t}=e;if(Lr(t)||t instanceof Date)return t}var X3=(e,t,r)=>{var n=e.map(Y3).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&nP(n))?Vk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},dN=e=>e.referenceElements.dots,Wo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Q3=T([dN,Ot,Sf],Wo),fN=e=>e.referenceElements.areas,Z3=T([fN,Ot,Sf],Wo),hN=e=>e.referenceElements.lines,J3=T([hN,Ot,Sf],Wo),pN=(e,t)=>{if(e!=null){var r=Yn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},eU=T(Q3,Ot,pN),mN=(e,t)=>{if(e!=null){var r=Yn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},tU=T([Z3,Ot],mN);function rU(e){var t;if(e.x!=null)return Yn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Yn(r)}function nU(e){var t;if(e.y!=null)return Yn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Yn(r)}var vN=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?rU(n):nU(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},iU=T([J3,Ot],vN),aU=T(eU,iU,tU,(e,t,r)=>id(e,r,t)),gN=(e,t,r,n,i,a,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=u?id(n,a,i):id(a,i);return y3(t,c,e.allowDataOverflow)},oU=T([Zt,lN,uN,V3,q3,aU,Ee,Ot],gN,{memoizeOptions:{resultEqualityCheck:kf}}),sU=[0,1],yN=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,c=ti(t,a);if(c&&l==null){var d;return Vk(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return u==="category"?X3(n,e,c):i==="expand"?sU:o}},ny=T([Zt,Ee,ey,Nf,wf,Ot,oU],yN);function lU(e){return e in gs}var xN=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(yl(n));return lU(a)?a:"point"}}},Ko=T([Zt,QE,Vg],xN);function iy(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?Lb(e.scale,r,n):Lb(t,r,n)}var wN=(e,t,r)=>{var n=ty(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&qn(e))return j3(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qn(e))return S3(e,t.tickCount,t.allowDecimals)}},ay=T([ny,Al,Ko],wN),bN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&qn(t)&&Array.isArray(r)&&r.length>0){var i,a,o=t[0],l=(i=r[0])!==null&&i!==void 0?i:0,u=t[1],c=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,l),Math.max(u,c)]}return t},uU=T([Zt,ny,ay,Ot],bN),cU=T(Nf,Zt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Yn(e.map(f=>f.value))).sort((f,h)=>f-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],c=n[l+1];if(!(u==null||c==null)){var d=c-u;r=Math.min(r,d)}}return r/o}}),_N=T(cU,Ee,zE,Et,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!se(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=rn(r,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),dU=(e,t,r)=>{var n=En(e,t);return n==null||typeof n.padding!="string"?0:_N(e,"xAxis",t,r,n.padding)},fU=(e,t,r)=>{var n=Nn(e,t);return n==null||typeof n.padding!="string"?0:_N(e,"yAxis",t,r,n.padding)},hU=T(En,dU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),pU=T(Nn,fU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),mU=T([Et,hU,lf,sf,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),vU=T([Et,Ee,pU,lf,sf,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ml=(e,t,r,n)=>{var i;switch(t){case"xAxis":return mU(e,r,n);case"yAxis":return vU(e,r,n);case"zAxis":return(i=Jg(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return KE(e);case"radiusAxis":return HE(e,r);default:return}},jN=T([Zt,Ml],bf),gU=T([Ko,uU],D3),Oo=T([Zt,Ko,gU,jN],iy);T([Cl,ry,Ot],G3);function SN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Of=(e,t)=>t,Af=(e,t,r)=>r,yU=T(af,Of,Af,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SN)),xU=T(of,Of,Af,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SN)),PN=(e,t)=>({width:e.width,height:t.height}),wU=(e,t)=>{var r=typeof t.width=="number"?t.width:bl;return{width:r,height:e.height}},kN=T(Et,En,PN),bU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},_U=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jU=T(ni,Et,yU,Of,Af,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var u=PN(t,l);o==null&&(o=bU(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[l.id]=o-Number(c)*u.height,o+=(c?-1:1)*u.height}),a}),SU=T(ri,Et,xU,Of,Af,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var u=wU(t,l);o==null&&(o=_U(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[l.id]=o-Number(c)*u.width,o+=(c?-1:1)*u.width}),a}),PU=(e,t)=>{var r=En(e,t);if(r!=null)return jU(e,r.orientation,r.mirror)},kU=T([Et,En,PU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),EU=(e,t)=>{var r=Nn(e,t);if(r!=null)return SU(e,r.orientation,r.mirror)},NU=T([Et,Nn,EU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),EN=T(Et,Nn,(e,t)=>{var r=typeof t.width=="number"?t.width:bl;return{width:r,height:e.height}}),Fb=(e,t,r)=>{switch(t){case"xAxis":return kN(e,r).width;case"yAxis":return EN(e,r).height;default:return}},NN=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=ti(e,n),u=t.map(c=>c.value);if(o&&l&&a==="category"&&i&&nP(u))return u}},oy=T([Ee,Nf,Zt,Ot],NN),ON=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=ti(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},sy=T([Ee,Nf,Al,Ot],ON),Ub=T([Ee,z3,Ko,Oo,oy,sy,Ml,ay,Ot],(e,t,r,n,i,a,o,l,u)=>{if(t!=null){var c=ti(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),OU=(e,t,r,n,i,a,o,l,u)=>{if(!(t==null||n==null)){var c=ti(e,u),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=u==="angleAxis"&&a!=null&&a.length>=2?rr(a[0]-a[1])*2*v:v;var y=f||i;return y?y.map((x,g)=>{var w=o?o.indexOf(x):x,b=n.map(w);return se(b)?{index:g,coordinate:b+v,value:x,offset:v}:null}).filter(nr):c&&l?l.map((x,g)=>{var w=n.map(x);return se(w)?{coordinate:w+v,value:x,index:g,offset:v}:null}).filter(nr):n.ticks?n.ticks(h).map((x,g)=>{var w=n.map(x);return se(w)?{coordinate:w+v,value:x,index:g,offset:v}:null}).filter(nr):n.domain().map((x,g)=>{var w=n.map(x);return se(w)?{coordinate:w+v,value:o?o[x]:x,index:g,offset:v}:null}).filter(nr)}},AN=T([Ee,Al,Ko,Oo,ay,Ml,oy,sy,Ot],OU),AU=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=ti(e,o),{tickCount:u}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?rr(n[0]-n[1])*2*c:c,l&&a?a.map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+c,value:d,index:f,offset:c}:null}).filter(nr):r.ticks?r.ticks(u).map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+c,value:d,index:f,offset:c}:null}).filter(nr):r.domain().map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+c,value:i?i[d]:d,index:f,offset:c}:null}).filter(nr)}},Sn=T([Ee,Al,Oo,Ml,oy,sy,Ot],AU),Pn=T(Zt,Oo,(e,t)=>{if(!(e==null||t==null))return nd(nd({},e),{},{scale:t})}),TU=T([Zt,Ko,ny,jN],iy),CU=T((e,t,r)=>Jg(e,r),TU,(e,t)=>{if(!(e==null||t==null))return nd(nd({},e),{},{scale:t})}),IU=T([Ee,af,of],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TN=e=>e.options.defaultTooltipEventType,CN=e=>e.options.validateTooltipEventTypes;function IN(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ly(e,t){var r=TN(e),n=CN(e);return IN(t,r,n)}function MU(e){return Y(t=>ly(t,e))}var MN=(e,t)=>{var r,n=Number(t);if(!(bn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},DU=e=>e.tooltip.settings,yi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},RU={itemInteraction:{click:yi,hover:yi},axisInteraction:{click:yi,hover:yi},keyboardInteraction:yi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DN=ur({name:"tooltip",initialState:RU,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Jr(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Jr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:LU,replaceTooltipEntrySettings:$U,removeTooltipEntrySettings:zU,setTooltipSettingsState:FU,setActiveMouseOverItemIndex:RN,mouseLeaveItem:UU,mouseLeaveChart:LN,setActiveClickItemIndex:BU,setMouseOverAxisIndex:$N,setMouseClickAxisIndex:WU,setSyncInteraction:Tm,setKeyboardInteraction:Cm}=DN.actions,KU=DN.reducer;function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){HU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HU(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qU(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YU(e){return e.index!=null}var zN=(e,t,r,n)=>{if(t==null)return yi;var i=qU(e,t,r);if(i==null)return yi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(YU(i)){if(a)return xu(xu({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return xu(xu({},yi),{},{coordinate:i.coordinate})};function XU(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function QU(e,t){var r=XU(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function ZU(e,t,r){if(r==null||t==null)return!0;var n=He(e,t);return n==null||!qn(r)?!0:QU(n,r)}var uy=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!se(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),c=t[u];return c==null||ZU(c,r,n)?String(u):null},FN=(e,t,r,n,i,a,o)=>{if(a!=null){var l=o[0],u=l==null?void 0:l.getPosition(a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},UN=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},BN=e=>e.options.tooltipPayloadSearcher,Ho=e=>e.tooltip;function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rB(e,t){return e??t}var WN=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:y,settings:x}=m,g=rB(y,l),w=Array.isArray(g)?dk(g,c,d):g,b=(v=x==null?void 0:x.dataKey)!==null&&v!==void 0?v:n,_=x==null?void 0:x.nameKey,P;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?P=iP(w,n,i):P=a(w,t,u,_),Array.isArray(P))P.forEach(k=>{var S=Kb(Kb({},x),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(Z0({tooltipEntrySettings:S,dataKey:k.dataKey,payload:k.payload,value:He(k.payload,k.dataKey),name:k.name}))});else{var j;h.push(Z0({tooltipEntrySettings:x,dataKey:b,payload:P,value:He(P,b),name:(j=He(P,_))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return h},f)}},cy=T([pt,QE,Vg],xN),nB=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),iB=T([At,Bo],ZE),Vo=T([nB,pt,iB],JE,{memoizeOptions:{resultEqualityCheck:Ef}}),aB=T([Vo],e=>e.filter(Pf)),oB=T([Vo],rN,{memoizeOptions:{resultEqualityCheck:Ef}}),Go=T([oB,ai],nN),sB=T([aB,ai,pt],GE),dy=T([Go,pt,Vo],iN),KN=T([pt],ty),lB=T([pt],e=>e.allowDataOverflow),HN=T([KN,lB],EE),uB=T([Vo],e=>e.filter(Pf)),cB=T([sB,uB,wf,FE],oN),dB=T([cB,ai,At,HN],sN),fB=T([Vo],tN),hB=T([Go,pt,fB,ry,At],cN,{memoizeOptions:{resultEqualityCheck:kf}}),pB=T([dN,At,Bo],Wo),mB=T([pB,At],pN),vB=T([fN,At,Bo],Wo),gB=T([vB,At],mN),yB=T([hN,At,Bo],Wo),xB=T([yB,At],vN),wB=T([mB,xB,gB],id),bB=T([pt,KN,HN,dB,hB,wB,Ee,At],gN),Dl=T([pt,Ee,Go,dy,wf,At,bB],yN),_B=T([Dl,pt,cy],wN),jB=T([pt,Dl,_B,At],bN),VN=e=>{var t=At(e),r=Bo(e),n=!1;return Ml(e,t,r,n)},GN=T([pt,VN],bf),qN=T([pt,cy,jB,GN],iy),SB=T([Ee,dy,pt,At],NN),PB=T([Ee,dy,pt,At],ON),kB=(e,t,r,n,i,a,o,l)=>{if(t){var{type:u}=t,c=ti(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?rr(i[0]-i[1])*2*f:f,c&&o?o.map((h,m)=>{var v=n.map(h);return se(v)?{coordinate:v+f,value:h,index:m,offset:f}:null}).filter(nr):n.domain().map((h,m)=>{var v=n.map(h);return se(v)?{coordinate:v+f,value:a?a[h]:h,index:m,offset:f}:null}).filter(nr)}}},oi=T([Ee,pt,cy,qN,VN,SB,PB,At],kB),fy=T([TN,CN,DU],(e,t,r)=>IN(r.shared,e,t)),YN=e=>e.tooltip.settings.trigger,hy=e=>e.tooltip.settings.defaultIndex,Rl=T([Ho,fy,YN,hy],zN),Li=T([Rl,Go,Il,Dl],uy),XN=T([oi,Li],MN),QN=T([Rl],e=>{if(e)return e.dataKey});T([Rl],e=>{if(e)return e.graphicalItemId});var ZN=T([Ho,fy,YN,hy],UN),EB=T([ri,ni,Ee,Et,oi,hy,ZN],FN),NB=T([Rl,EB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),OB=T([Rl],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),AB=T([ZN,Li,ai,Il,XN,BN,fy],WN),TB=T([AB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(n){CB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t,r){return(t=IB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DB=()=>Y(pt),RB=()=>{var e=DB(),t=Y(oi),r=Y(qN);return So(!e||!r?void 0:Vb(Vb({},e),{},{scale:r}),t)};function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){LB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LB(e,t,r){return(t=$B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $B(e){var t=zB(e,"string");return typeof t=="symbol"?t:t+""}function zB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},UB=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return $a($a($a({},n),Mt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=n;return $a($a($a({},n),Mt(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function BB(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var JN=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u,c,d,f,h,m=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(c=r[o-1])===null||c===void 0?void 0:c.coordinate,v=(d=r[l])===null||d===void 0?void 0:d.coordinate,y=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(m==null||v==null||y==null))if(rr(v-m)!==rr(y-v)){var g=[];if(rr(y-v)===rr(i[1]-i[0])){x=y;var w=v+i[1]-i[0];g[0]=Math.min(w,(w+m)/2),g[1]=Math.max(w,(w+m)/2)}else{x=m;var b=y+i[1]-i[0];g[0]=Math.min(v,(b+v)/2),g[1]=Math.max(v,(b+v)/2)}var _=[Math.min(v,(x+v)/2),Math.max(v,(x+v)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){var P;return(P=r[l])===null||P===void 0?void 0:P.index}}else{var j=Math.min(m,y),k=Math.max(m,y);if(e>(j+v)/2&&e<=(k+v)/2){var S;return(S=r[l])===null||S===void 0?void 0:S.index}}}else if(t)for(var N=0;N<o;N++){var E=t[N];if(E!=null){var C=t[N+1],O=t[N-1];if(N===0&&C!=null&&e<=(E.coordinate+C.coordinate)/2||N===o-1&&O!=null&&e>(E.coordinate+O.coordinate)/2||N>0&&N<o-1&&O!=null&&C!=null&&e>(E.coordinate+O.coordinate)/2&&e<=(E.coordinate+C.coordinate)/2)return E.index}}return-1},WB=()=>Y(Vg),py=(e,t)=>t,eO=(e,t,r)=>r,my=(e,t,r,n)=>n,KB=T(oi,e=>qd(e,t=>t.coordinate)),vy=T([Ho,py,eO,my],zN),gy=T([vy,Go,Il,Dl],uy),HB=(e,t,r)=>{if(t!=null){var n=Ho(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},tO=T([Ho,py,eO,my],UN),ad=T([ri,ni,Ee,Et,oi,my,tO],FN),VB=T([vy,ad],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),rO=T([oi,gy],MN),GB=T([tO,gy,ai,Il,rO,BN,py],WN),qB=T([vy,gy],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),YB=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&BB(e,o)){var l=ML(e,t),u=JN(l,a,i,r,n),c=FB(t,i,u,e);return{activeIndex:String(u),activeCoordinate:c}}},XB=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var l=L$(e,r);if(l){var u=DL(l,t),c=JN(u,o,a,n,i),d=UB(t,a,c,l);return{activeIndex:String(c),activeCoordinate:d}}}},QB=(e,t,r,n,i,a,o,l)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?YB(e,t,n,i,a,o,l):XB(e,t,r,n,i,a,o)},ZB=T(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),JB=T(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(it)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:I3}});function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){e4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e4(e,t,r){return(t=t4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t4(e){var t=r4(e,"string");return typeof t=="symbol"?t:t+""}function r4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n4={},i4={zIndexMap:Object.values(it).reduce((e,t)=>Yb(Yb({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),n4)},a4=new Set(Object.values(it));function o4(e){return a4.has(e)}var nO=ur({name:"zIndex",initialState:i4,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!o4(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:s4,unregisterZIndexPortal:l4,registerZIndexPortalElement:u4,unregisterZIndexPortalElement:c4}=nO.actions,d4=nO.reducer;function Jt(e){var{zIndex:t,children:r}=e,n=l2(),i=n&&t!==void 0&&t!==0,a=ft(),o=et();p.useLayoutEffect(()=>i?(o(s4({zIndex:t})),()=>{o(l4({zIndex:t}))}):Ea,[o,t,i]);var l=Y(u=>ZB(u,t,a));return i?l?Fv.createPortal(r,l):null:r}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(null,arguments)}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){f4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f4(e,t,r){return(t=h4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4(e){var t=p4(e,"string");return typeof t=="symbol"?t:t+""}function p4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m4(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function v4(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:c,chartName:d}=e,f=r,h=n,m=i;if(!u||!f||d!=="ScatterChart"&&c!=="axis")return null;var v,y,x;if(d==="ScatterChart")v=f,y=X2,x=it.cursorLine;else if(d==="BarChart")v=Q2(l,f,a,o),y=zk,x=it.cursorRectangle;else if(l==="radial"&&oP(f)){var{cx:g,cy:w,radius:b,startAngle:_,endAngle:P}=Fk(f);v={cx:g,cy:w,startAngle:_,endAngle:P,innerRadius:b,outerRadius:b},y=Bk,x=it.cursorLine}else v={points:U$(l,f,a)},y=wg,x=it.cursorLine;var j=typeof u=="object"&&"className"in u?u.className:void 0,k=wu(wu(wu(wu({stroke:"#ccc",pointerEvents:"none"},a),v),Ro(u)),{},{payload:h,payloadIndex:m,className:_e("recharts-tooltip-cursor",j)});return p.createElement(Jt,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},p.createElement(m4,{cursor:u,cursorComp:y,cursorProps:k}))}function g4(e){var t=RB(),r=_k(),n=Na(),i=WB();return t==null||r==null||n==null||i==null?null:p.createElement(v4,Im({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var iO=p.createContext(null),y4=()=>p.useContext(iO),aO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function a(u,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||u,h),v=r?r+c:c;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],m]:u._events[v].push(m):(u._events[v]=m,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,d,f,h,m,v){var y=r?r+c:c;if(!this._events[y])return!1;var x=this._events[y],g=arguments.length,w,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(b=1,w=new Array(g-1);b<g;b++)w[b-1]=arguments[b];x.fn.apply(x.context,w)}else{var _=x.length,P;for(b=0;b<_;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),g){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!w)for(P=1,w=new Array(g-1);P<g;P++)w[P-1]=arguments[P];x[b].fn.apply(x[b].context,w)}}return!0},l.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},l.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},l.prototype.removeListener=function(c,d,f,h){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,x=[],g=v.length;y<g;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(aO);var x4=aO.exports;const w4=Zn(x4);var ul=new w4,Mm="recharts.syncEvent.tooltip",Qb="recharts.syncEvent.brush",yy=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!bn(r))return e[r]}},b4={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},oO=ur({name:"options",initialState:b4,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),_4=oO.reducer,{createEventEmitter:j4}=oO.actions;function S4(e){return e.tooltip.syncInteraction}var P4={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sO=ur({name:"chartData",initialState:P4,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Zb,setDataStartEndIndexes:k4,setComputedData:O9}=sO.actions,E4=sO.reducer,N4=["x","y"];function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(r),!0).forEach(function(n){O4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O4(e,t,r){return(t=A4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=T4(e,"string");return typeof t=="symbol"?t:t+""}function T4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4(e,t){if(e==null)return{};var r,n,i=I4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function I4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function M4(){var e=Y(Gg),t=Y(qg),r=et(),n=Y(UE),i=Y(oi),a=Na(),o=$o(),l=Y(u=>u.rootProps.className);p.useEffect(()=>{if(e==null)return Ea;var u=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y}=m,x=C4(m,N4),{x:g,y:w,width:b,height:_}=d.payload.sourceViewBox,P=za(za({},x),{},{x:o.x+(b?(v-g)/b:0)*o.width,y:o.y+(_?(y-w)/_:0)*o.height});r(za(za({},d),{},{payload:za(za({},d.payload),{},{coordinate:P})}))}else r(d);return}if(i!=null){var j;if(typeof n=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(i,k);j=i[S]}else n==="value"&&(j=i.find(H=>String(H.value)===d.payload.label));var{coordinate:N}=d.payload;if(j==null||d.payload.active===!1||N==null||o==null){r(Tm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:E,y:C}=N,O=Math.min(E,o.x+o.width),W=Math.min(C,o.y+o.height),B={x:a==="horizontal"?j.coordinate:O,y:a==="horizontal"?W:j.coordinate},K=Tm({active:d.payload.active,coordinate:B,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(K)}}};return ul.on(Mm,u),()=>{ul.off(Mm,u)}},[l,r,t,e,n,i,a,o])}function D4(){var e=Y(Gg),t=Y(qg),r=et();p.useEffect(()=>{if(e==null)return Ea;var n=(i,a,o)=>{t!==o&&e===i&&r(k4(a))};return ul.on(Qb,n),()=>{ul.off(Qb,n)}},[r,t,e])}function R4(){var e=et();p.useEffect(()=>{e(j4())},[e]),M4(),D4()}function L4(e,t,r,n,i,a){var o=Y(m=>HB(m,e,t)),l=Y(qg),u=Y(Gg),c=Y(UE),d=Y(S4),f=d==null?void 0:d.active,h=$o();p.useEffect(()=>{if(!f&&u!=null&&l!=null){var m=Tm({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});ul.emit(Mm,u,m,l)}},[f,r,o,i,n,l,u,c,a,h])}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){$4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $4(e,t,r){return(t=z4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z4(e){var t=F4(e,"string");return typeof t=="symbol"?t:t+""}function F4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U4(e){return e.dataKey}function B4(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(O2,t)}var r_=[],W4={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xr(e){var t,r,n=kt(e,W4),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:y,wrapperStyle:x,cursor:g,shared:w,trigger:b,defaultIndex:_,portal:P,axisId:j}=n,k=et(),S=typeof _=="number"?String(_):_;p.useEffect(()=>{k(FU({shared:w,trigger:b,axisId:j,active:i,defaultIndex:S}))},[k,w,b,j,i,S]);var N=$o(),E=Mk(),C=MU(w),{activeIndex:O,isActive:W}=(t=Y(me=>qB(me,C,b,S)))!==null&&t!==void 0?t:{},B=Y(me=>GB(me,C,b,S)),K=Y(me=>rO(me,C,b,S)),H=Y(me=>VB(me,C,b,S)),X=B,A=y4(),L=(r=i??W)!==null&&r!==void 0?r:!1,[F,Q]=xR([X,L]),J=C==="axis"?K:void 0;L4(C,b,H,J,O,L);var ne=P??A;if(ne==null||N==null||C==null)return null;var pe=X??r_;L||(pe=r_),c&&pe.length&&(pe=LD(pe.filter(me=>me.value!=null&&(me.hide!==!0||n.includeHidden)),h,U4));var je=pe.length>0,be=p.createElement(R2,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:d,active:L,coordinate:H,hasPayload:je,offset:f,position:m,reverseDirection:v,useTranslate3d:y,viewBox:N,wrapperStyle:x,lastBoundingBox:F,innerRef:Q,hasPortalFromProps:!!P},B4(u,t_(t_({},n),{},{payload:pe,label:J,active:L,activeIndex:O,coordinate:H,accessibilityLayer:E})));return p.createElement(p.Fragment,null,Fv.createPortal(be,ne),L&&p.createElement(g4,{cursor:g,tooltipEventType:C,coordinate:H,payload:pe,index:O}))}var Ll=e=>null;Ll.displayName="Cell";function K4(e,t,r){return(t=H4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H4(e){var t=V4(e,"string");return typeof t=="symbol"?t:t+""}function V4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class G4{constructor(t){K4(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){Y4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y4(e,t,r){return(t=X4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4(e){var t=Q4(e,"string");return typeof t=="symbol"?t:t+""}function Q4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z4={cacheSize:2e3,enableCache:!0},lO=q4({},Z4),i_=new G4(lO.cacheSize),J4={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},a_="recharts_measurement_span";function eW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var o_=(e,t)=>{try{var r=document.getElementById(a_);r||(r=document.createElement("span"),r.setAttribute("id",a_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,J4,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Os=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ff.isSsr)return{width:0,height:0};if(!lO.enableCache)return o_(t,r);var n=eW(t,r),i=i_.get(n);if(i)return i;var a=o_(t,r);return i_.set(n,a),a},uO;function tW(e,t,r){return(t=rW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,l_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sW=["cm","mm","pt","pc","in","Q","px"];function lW(e){return sW.includes(e)}var ro="NaN";function uW(e,t){return e*oW[t]}class It{static parse(t){var r,[,n,i]=(r=aW.exec(t))!==null&&r!==void 0?r:[];return n==null?It.NaN:new It(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,bn(t)&&(this.unit=""),r!==""&&!iW.test(r)&&(this.num=NaN,this.unit=""),lW(r)&&(this.num=uW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new It(NaN,""):new It(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new It(NaN,""):new It(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new It(NaN,""):new It(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new It(NaN,""):new It(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bn(this.num)}}uO=It;tW(It,"NaN",new uO(NaN,""));function cO(e){if(e==null||e.includes(ro))return ro;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=s_.exec(t))!==null&&r!==void 0?r:[],o=It.parse(n??""),l=It.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return ro;t=t.replace(s_,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=l_.exec(t))!==null&&c!==void 0?c:[],m=It.parse(d??""),v=It.parse(h??""),y=f==="+"?m.add(v):m.subtract(v);if(y.isNaN())return ro;t=t.replace(l_,y.toString())}return t}var u_=/\(([^()]*)\)/;function cW(e){for(var t=e,r;(r=u_.exec(t))!=null;){var[,n]=r;t=t.replace(u_,cO(n))}return t}function dW(e){var t=e.replace(/\s+/g,"");return t=cW(t),t=cO(t),t}function fW(e){try{return dW(e)}catch{return ro}}function Rh(e){var t=fW(e.slice(5,-1));return t===ro?"":t}var hW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pW=["dx","dy","angle","className","breakAll"];function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(null,arguments)}function c_(e,t){if(e==null)return{};var r,n,i=mW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dO=/[ \f\n\r\t\v\u2028\u2029]+/,fO=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Oe(t)||(r?i=t.toString().split(""):i=t.toString().split(dO));var a=i.map(l=>({word:l,width:Os(l,n).width})),o=r?0:Os("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function vW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var hO=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var c={words:[o],width:l};i.push(c)}return i},[]),pO=e=>e.reduce((t,r)=>t.width>r.width?t:r),gW="",d_=(e,t,r,n,i,a,o,l)=>{var u=e.slice(0,t),c=fO({breakAll:r,style:n,children:u+gW});if(!c)return[!1,[]];var d=hO(c.wordsWithComputedWidth,a,o,l),f=d.length>i||pO(d).width>Number(a);return[f,d]},yW=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,c=q(a),d=String(o),f=hO(t,n,r,i);if(!c||i)return f;var h=f.length>a||pO(f).width>Number(n);if(!h)return f;for(var m=0,v=d.length-1,y=0,x;m<=v&&y<=d.length-1;){var g=Math.floor((m+v)/2),w=g-1,[b,_]=d_(d,w,u,l,a,n,r,i),[P]=d_(d,g,u,l,a,n,r,i);if(!b&&!P&&(m=g+1),b&&P&&(v=g-1),!b&&P){x=_;break}y++}return x||f},f_=e=>{var t=Oe(e)?[]:e.toString().split(dO);return[{words:t,width:void 0}]},xW=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!ff.isSsr){var l,u,c=fO({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;l=d,u=f}else return f_(n);return yW({breakAll:a,children:n,maxLines:o,style:i},l,u,t,!!r)}return f_(n)},mO="#808080",wW={angle:0,breakAll:!1,capHeight:"0.71em",fill:mO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},xy=p.forwardRef((e,t)=>{var r=kt(e,wW),{x:n,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:c,verticalAnchor:d}=r,f=c_(r,hW),h=p.useMemo(()=>xW({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:m,dy:v,angle:y,className:x,breakAll:g}=f,w=c_(f,pW);if(!Lr(n)||!Lr(i)||h.length===0)return null;var b=Number(n)+(q(m)?m:0),_=Number(i)+(q(v)?v:0);if(!se(b)||!se(_))return null;var P;switch(d){case"start":P=Rh("calc(".concat(o,")"));break;case"middle":P=Rh("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:P=Rh("calc(".concat(h.length-1," * -").concat(a,")"));break}var j=[],k=h[0];if(u&&k!=null){var S=k.width,{width:N}=f;j.push("scale(".concat(q(N)&&q(S)?N/S:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(b,", ").concat(_,")")),j.length&&(w.transform=j.join(" ")),p.createElement("text",Dm({},Wt(w),{ref:t,x:b,y:_,className:_e("recharts-text",x),textAnchor:c,fill:l.includes("url")?mO:l}),h.map((E,C)=>{var O=E.words.join(g?"":" ");return p.createElement("tspan",{x:b,dy:C===0?P:a,key:"".concat(O,"-").concat(C)},O)}))});xy.displayName="Text";function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){bW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bW(e,t,r){return(t=_W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SW=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:o,height:l,upperWidth:u,lowerWidth:c}=gg(t),d=a,f=a+(u-c)/2,h=(d+f)/2,m=(u+c)/2,v=d+u/2,y=l>=0?1:-1,x=y*n,g=y>0?"end":"start",w=y>0?"start":"end",b=u>=0?1:-1,_=b*n,P=b>0?"end":"start",j=b>0?"start":"end",k=i;if(r==="top"){var S={x:d+u/2,y:o-x,horizontalAnchor:"middle",verticalAnchor:g};return k&&(S.height=Math.max(o-k.y,0),S.width=u),S}if(r==="bottom"){var N={x:f+c/2,y:o+l+x,horizontalAnchor:"middle",verticalAnchor:w};return k&&(N.height=Math.max(k.y+k.height-(o+l),0),N.width=c),N}if(r==="left"){var E={x:h-_,y:o+l/2,horizontalAnchor:P,verticalAnchor:"middle"};return k&&(E.width=Math.max(E.x-k.x,0),E.height=l),E}if(r==="right"){var C={x:h+m+_,y:o+l/2,horizontalAnchor:j,verticalAnchor:"middle"};return k&&(C.width=Math.max(k.x+k.width-C.x,0),C.height=l),C}var O=k?{width:m,height:l}:{};return r==="insideLeft"?cn({x:h+_,y:o+l/2,horizontalAnchor:j,verticalAnchor:"middle"},O):r==="insideRight"?cn({x:h+m-_,y:o+l/2,horizontalAnchor:P,verticalAnchor:"middle"},O):r==="insideTop"?cn({x:d+u/2,y:o+x,horizontalAnchor:"middle",verticalAnchor:w},O):r==="insideBottom"?cn({x:f+c/2,y:o+l-x,horizontalAnchor:"middle",verticalAnchor:g},O):r==="insideTopLeft"?cn({x:d+_,y:o+x,horizontalAnchor:j,verticalAnchor:w},O):r==="insideTopRight"?cn({x:d+u-_,y:o+x,horizontalAnchor:P,verticalAnchor:w},O):r==="insideBottomLeft"?cn({x:f+_,y:o+l-x,horizontalAnchor:j,verticalAnchor:g},O):r==="insideBottomRight"?cn({x:f+c-_,y:o+l-x,horizontalAnchor:P,verticalAnchor:g},O):r&&typeof r=="object"&&(q(r.x)||ga(r.x))&&(q(r.y)||ga(r.y))?cn({x:a+rn(r.x,m),y:o+rn(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},O):cn({x:v,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},O)},PW=["labelRef"],kW=["content"];function p_(e,t){if(e==null)return{};var r,n,i=EW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=AW(e,"string");return typeof t=="symbol"?t:t+""}function AW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(null,arguments)}var vO=p.createContext(null),gO=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:l}=e,u=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return p.createElement(vO.Provider,{value:u},l)},yO=()=>{var e=p.useContext(vO),t=$o();return e||(t?gg(t):void 0)},TW=p.createContext(null),CW=()=>{var e=p.useContext(TW),t=Y(VE);return e||t},IW=e=>{var{value:t,formatter:r}=e,n=Oe(e.children)?t:e.children;return typeof r=="function"?r(n):n},wy=e=>e!=null&&typeof e=="function",MW=(e,t)=>{var r=rr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},DW=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,v=(c+d)/2,y=MW(f,h),x=y>=0?1:-1,g,w;switch(t){case"insideStart":g=f+x*a,w=m;break;case"insideEnd":g=h-x*a,w=!m;break;case"end":g=h+x*a,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=y<=0?w:!w;var b=Mt(l,u,v,g),_=Mt(l,u,v,g+(w?1:-1)*359),P="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),j=Oe(e.id)?Xs("recharts-radial-line-"):e.id;return p.createElement("text",Cn({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:j,d:P})),p.createElement("textPath",{xlinkHref:"#".concat(j)},r))},RW=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:d,y:f}=Mt(n,i,o+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:m,y:v}=Mt(n,i,h,c);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Wu=e=>e!=null&&"cx"in e&&q(e.cx),LW={angle:0,offset:5,zIndex:it.label,position:"middle",textBreakAll:!1};function $W(e){if(!Wu(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function mi(e){var t=kt(e,LW),{viewBox:r,parentViewBox:n,position:i,value:a,children:o,content:l,className:u="",textBreakAll:c,labelRef:d}=t,f=CW(),h=yO(),m=i==="center"?h:f??h,v,y,x;r==null?v=m:Wu(r)?v=r:v=gg(r);var g=$W(v);if(!v||Oe(a)&&Oe(o)&&!p.isValidElement(l)&&typeof l!="function")return null;var w=ys(ys({},t),{},{viewBox:v});if(p.isValidElement(l)){var{labelRef:b}=w,_=p_(w,PW);return p.cloneElement(l,_)}if(typeof l=="function"){var{content:P}=w,j=p_(w,kW);if(y=p.createElement(l,j),p.isValidElement(y))return y}else y=IW(t);var k=Wt(t);if(Wu(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return DW(t,i,y,k,v);x=RW(v,t.offset,t.position)}else{if(!g)return null;var S=SW({viewBox:g,position:i,offset:t.offset,parentViewBox:Wu(n)?void 0:n});x=ys(ys({x:S.x,y:S.y,textAnchor:S.horizontalAnchor,verticalAnchor:S.verticalAnchor},S.width!==void 0?{width:S.width}:{}),S.height!==void 0?{height:S.height}:{})}return p.createElement(Jt,{zIndex:t.zIndex},p.createElement(xy,Cn({ref:d,className:_e("recharts-label",u)},k,x,{textAnchor:vW(k.textAnchor)?k.textAnchor:x.textAnchor,breakAll:c}),y))}mi.displayName="Label";var zW=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(mi,Cn({key:"label-implicit"},n)):Lr(e)?p.createElement(mi,Cn({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===mi?p.cloneElement(e,ys({key:"label-implicit"},n)):p.createElement(mi,Cn({key:"label-implicit",content:e},n)):wy(e)?p.createElement(mi,Cn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(mi,Cn({},e,{key:"label-implicit"},n)):null};function xO(e){var{label:t,labelRef:r}=e,n=yO();return zW(t,n,r)||null}var wO={},bO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(bO);var _O={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(_O);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bO,r=_O,n=Hd;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(wO);var FW=wO.last;const UW=Zn(FW);var BW=["valueAccessor"],WW=["dataKey","clockWise","id","textBreakAll","zIndex"];function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(null,arguments)}function v_(e,t){if(e==null)return{};var r,n,i=KW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HW=e=>Array.isArray(e.value)?UW(e.value):e.value,jO=p.createContext(void 0),by=jO.Provider,SO=p.createContext(void 0);SO.Provider;function VW(){return p.useContext(jO)}function GW(){return p.useContext(SO)}function Ku(e){var{valueAccessor:t=HW}=e,r=v_(e,BW),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:l}=r,u=v_(r,WW),c=VW(),d=GW(),f=c||d;return!f||!f.length?null:p.createElement(Jt,{zIndex:l??it.label},p.createElement(St,{className:"recharts-label-list"},f.map((h,m)=>{var v,y=Oe(n)?t(h,m):He(h.payload,n),x=Oe(a)?{}:{id:"".concat(a,"-").concat(m)};return p.createElement(mi,od({key:"label-".concat(m)},Wt(h),u,x,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Ku.displayName="LabelList";function _y(e){var{label:t}=e;return t?t===!0?p.createElement(Ku,{key:"labelList-implicit"}):p.isValidElement(t)||wy(t)?p.createElement(Ku,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Ku,od({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}var PO=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=_e("recharts-dot",i);return q(t)&&q(r)&&q(n)?p.createElement("circle",Rm({},br(e),Qv(e),{className:a,cx:t,cy:r,r:n})):null},qW={radiusAxis:{},angleAxis:{}},kO=ur({name:"polarAxis",initialState:qW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:A9,removeRadiusAxis:T9,addAngleAxis:C9,removeAngleAxis:I9}=kO.actions,YW=kO.reducer;function XW(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var EO={exports:{}},Ie={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=Symbol.for("react.transitional.element"),Sy=Symbol.for("react.portal"),Tf=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Mf=Symbol.for("react.consumer"),Df=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),$f=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),QW=Symbol.for("react.view_transition"),ZW=Symbol.for("react.client.reference");function Ur(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jy:switch(e=e.type,e){case Tf:case If:case Cf:case Lf:case $f:case QW:return e;default:switch(e=e&&e.$$typeof,e){case Df:case Rf:case Ff:case zf:return e;case Mf:return e;default:return t}}case Sy:return t}}}Ie.ContextConsumer=Mf;Ie.ContextProvider=Df;Ie.Element=jy;Ie.ForwardRef=Rf;Ie.Fragment=Tf;Ie.Lazy=Ff;Ie.Memo=zf;Ie.Portal=Sy;Ie.Profiler=If;Ie.StrictMode=Cf;Ie.Suspense=Lf;Ie.SuspenseList=$f;Ie.isContextConsumer=function(e){return Ur(e)===Mf};Ie.isContextProvider=function(e){return Ur(e)===Df};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jy};Ie.isForwardRef=function(e){return Ur(e)===Rf};Ie.isFragment=function(e){return Ur(e)===Tf};Ie.isLazy=function(e){return Ur(e)===Ff};Ie.isMemo=function(e){return Ur(e)===zf};Ie.isPortal=function(e){return Ur(e)===Sy};Ie.isProfiler=function(e){return Ur(e)===If};Ie.isStrictMode=function(e){return Ur(e)===Cf};Ie.isSuspense=function(e){return Ur(e)===Lf};Ie.isSuspenseList=function(e){return Ur(e)===$f};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Tf||e===If||e===Cf||e===Lf||e===$f||typeof e=="object"&&e!==null&&(e.$$typeof===Ff||e.$$typeof===zf||e.$$typeof===Df||e.$$typeof===Mf||e.$$typeof===Rf||e.$$typeof===ZW||e.getModuleId!==void 0)};Ie.typeOf=Ur;EO.exports=Ie;var JW=EO.exports,g_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",y_=null,Lh=null,NO=e=>{if(e===y_&&Array.isArray(Lh))return Lh;var t=[];return p.Children.forEach(e,r=>{Oe(r)||(JW.isFragment(r)?t=t.concat(NO(r.props.children)):t.push(r))}),Lh=t,y_=e,t};function OO(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>g_(i)):n=[g_(t)],NO(e).forEach(i=>{var a=bo(i,"type.displayName")||bo(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var AO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,TO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(TO);var eK=TO.isPlainObject;const tK=Zn(eK);var x_,w_,b_,__,j_;function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(null,arguments)}function cs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k_=(e,t,r,n,i)=>{var a=r-n,o;return o=Ze(x_||(x_=cs(["M ",",",""])),e,t),o+=Ze(w_||(w_=cs(["L ",",",""])),e+r,t),o+=Ze(b_||(b_=cs(["L ",",",""])),e+r-a/2,t+i),o+=Ze(__||(__=cs(["L ",",",""])),e+r-a/2-n,t+i),o+=Ze(j_||(j_=cs(["L ",","," Z"])),e,t),o},aK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oK=e=>{var t=kt(e,aK),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:l}=t,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,v]=p.useState(-1),y=p.useRef(i),x=p.useRef(a),g=p.useRef(o),w=p.useRef(r),b=p.useRef(n),_=Pl(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var B=h.current.getTotalLength();B&&v(B)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var P=_e("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",sd({},Wt(t),{className:P,d:k_(r,n,i,a,o)})));var j=y.current,k=x.current,S=g.current,N=w.current,E=b.current,C="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),W=Dk(["strokeDasharray"],c,u);return p.createElement(Sl,{animationId:_,key:_,canBegin:m>0,duration:c,easing:u,isActive:f,begin:d},B=>{var K=De(j,i,B),H=De(k,a,B),X=De(S,o,B),A=De(N,r,B),L=De(E,n,B);h.current&&(y.current=K,x.current=H,g.current=X,w.current=A,b.current=L);var F=B>0?{transition:W,strokeDasharray:O}:{strokeDasharray:C};return p.createElement("path",sd({},Wt(t),{className:P,d:k_(A,L,K,H,X),ref:h,style:P_(P_({},F),t.style)}))})},sK=["option","shapeType","activeClassName"];function lK(e,t){if(e==null)return{};var r,n,i=uK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){cK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cK(e,t,r){return(t=dK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hK(e,t){return ld(ld({},t),e)}function pK(e,t){return e==="symbols"}function N_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(zk,r);case"trapezoid":return p.createElement(oK,r);case"sector":return p.createElement(Bk,r);case"symbols":if(pK(t))return p.createElement(Xv,r);break;case"curve":return p.createElement(wg,r);default:return null}}function mK(e){return p.isValidElement(e)?e.props:e}function ud(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=lK(e,sK),a;if(p.isValidElement(t))a=p.cloneElement(t,ld(ld({},i),mK(t)));else if(typeof t=="function")a=t(i,i.index);else if(tK(t)&&typeof t!="boolean"){var o=hK(t,i);a=p.createElement(N_,{shapeType:r,elementProps:o})}else{var l=i;a=p.createElement(N_,{shapeType:r,elementProps:l})}return i.isActive?p.createElement(St,{className:n},a):a}var Py=(e,t,r)=>{var n=et();return(i,a)=>o=>{e==null||e(i,a,o),n(RN({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},ky=e=>{var t=et();return(r,n)=>i=>{e==null||e(r,n,i),t(UU())}},Ey=(e,t,r)=>{var n=et();return(i,a)=>o=>{e==null||e(i,a,o),n(BU({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Ny(e){var{tooltipEntrySettings:t}=e,r=et(),n=ft(),i=p.useRef(null);return p.useLayoutEffect(()=>{n||(i.current===null?r(LU(t)):i.current!==t&&r($U({prev:i.current,next:t})),i.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{i.current&&(r(zU(i.current)),i.current=null)},[r]),null}function Oy(e){var{legendPayload:t}=e,r=et(),n=ft(),i=p.useRef(null);return p.useLayoutEffect(()=>{n||(i.current===null?r(b2(t)):i.current!==t&&r(_2({prev:i.current,next:t})),i.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{i.current&&(r(j2(i.current)),i.current=null)},[r]),null}var $h,vK=()=>{var[e]=p.useState(()=>Xs("uid-"));return e},gK=($h=xj.useId)!==null&&$h!==void 0?$h:vK;function yK(e,t){var r=gK();return t||(e?"".concat(e,"-").concat(r):r)}var xK=p.createContext(void 0),Ay=e=>{var{id:t,type:r,children:n}=e,i=yK("recharts-".concat(r),t);return p.createElement(xK.Provider,{value:i},n(i))},wK={cartesianItems:[],polarItems:[]},CO=ur({name:"graphicalItems",initialState:wK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Jr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Jr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Jr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:bK,replaceCartesianGraphicalItem:_K,removeCartesianGraphicalItem:jK,addPolarGraphicalItem:M9,removePolarGraphicalItem:D9}=CO.actions,SK=CO.reducer,PK=e=>{var t=et(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(bK(e)):r.current!==e&&t(_K({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(jK(r.current)),r.current=null)},[t]),null},Ty=p.memo(PK),kK=["points"];function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(null,arguments)}function AK(e,t){if(e==null)return{};var r,n,i=TK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CK(e){var{option:t,dotProps:r,className:n}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var i=_e(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,l=AK(a,kK);return p.createElement(PO,cd({},l,{className:i}))}function IK(e,t){return e==null?!1:t?!0:e.length===1}function MK(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:c=it.scatter}=e;if(!IK(t,r))return null;var d=AO(r),f=OM(r),h=t.map((v,y)=>{var x,g,w=zh(zh(zh({r:3},o),f),{},{index:y,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(g=v.y)!==null&&g!==void 0?g:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return p.createElement(CK,{key:"dot-".concat(y),option:r,dotProps:w,className:i})}),m={};return l&&u!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),p.createElement(Jt,{zIndex:c},p.createElement(St,cd({className:n},m),h))}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IO=0,$K={xAxis:{},yAxis:{},zAxis:{}},MO=ur({name:"cartesianAxis",initialState:$K,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==i.width&&Math.abs(n-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var l=[...o,n].slice(-3);e.yAxis[r]=T_(T_({},i),{},{width:n,widthHistory:l})}}}}),{addXAxis:zK,replaceXAxis:FK,removeXAxis:UK,addYAxis:BK,replaceYAxis:WK,removeYAxis:KK,addZAxis:R9,replaceZAxis:L9,removeZAxis:$9,updateYAxisWidth:HK}=MO.actions,VK=MO.reducer,GK=T([Et],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),qK=T([GK,ri,ni],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Cy=()=>Y(qK),YK=()=>Y(TB);function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){XK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JK=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Fh(Fh(Fh({},l),Ro(i)),Qv(i)),c;return p.isValidElement(i)?c=p.cloneElement(i,u):typeof i=="function"?c=i(u):c=p.createElement(PO,u),p.createElement(St,{className:"recharts-active-dot",clipPath:o},c)};function e5(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=it.activeDot}=e,l=Y(Li),u=YK();if(t==null||u==null)return null;var c=t.find(d=>u.includes(d.payload));return Oe(c)?null:p.createElement(Jt,{zIndex:o},p.createElement(JK,{point:c,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var I_=(e,t,r)=>{var n=r??e;if(!Oe(n))return rn(n,t,0)},t5=(e,t,r)=>{var n={},i=e.filter(Pf),a=e.filter(c=>c.stackId==null),o=i.reduce((c,d)=>{var f=c[d.stackId];return f==null&&(f=[]),f.push(d),c[d.stackId]=f,c},n),l=Object.entries(o).map(c=>{var d,[f,h]=c,m=h.map(y=>y.dataKey),v=I_(t,r,(d=h[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:m,barSize:v}}),u=a.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=I_(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...u]};function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){r5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r5(e,t,r){return(t=n5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5(e){var t=i5(e,"string");return typeof t=="symbol"?t:t+""}function i5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a5(e,t,r,n,i){var a,o=n.length;if(!(o<1)){var l=rn(e,r,0,!0),u,c=[];if(se((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,f=r/o,h=n.reduce((w,b)=>w+(b.barSize||0),0);h+=(o-1)*l,h>=r&&(h-=(o-1)*l,l=0),h>=r&&f>0&&(d=!0,f*=.9,h=o*f);var m=(r-h)/2>>0,v={offset:m-l,size:0};u=n.reduce((w,b)=>{var _,P={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:v.offset+v.size+l,size:d?f:(_=b.barSize)!==null&&_!==void 0?_:0}},j=[...w,P];return v=P.position,j},c)}else{var y=rn(t,r,0,!0);r-2*y-(o-1)*l<=0&&(l=0);var x=(r-2*y-(o-1)*l)/o;x>1&&(x>>=0);var g=se(i)?Math.min(x,i):x;u=n.reduce((w,b,_)=>[...w,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(x+l)*_+(x-g)/2,size:g}}],c)}return u}}var o5=(e,t,r,n,i,a,o)=>{var l=Oe(o)?t:o,u=a5(r,n,i!==a?i:a,e,l);return i!==a&&u!=null&&(u=u.map(c=>bu(bu({},c),{},{position:bu(bu({},c.position),{},{offset:c.position.offset-i/2})}))),u},s5=(e,t)=>{var r=Zg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},l5=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function u5(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&se(e.zIndex)?e.zIndex:t}var c5=e=>{var{chartData:t}=e,r=et(),n=ft();return p.useEffect(()=>n?()=>{}:(r(Zb(t)),()=>{r(Zb(void 0))}),[t,r,n]),null},D_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DO=ur({name:"brush",initialState:D_,reducers:{setBrushSettings(e,t){return t.payload==null?D_:t.payload}}}),{setBrushSettings:z9}=DO.actions,d5=DO.reducer,f5=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return{x:Math.min(r,i),y:Math.min(n,a),width:Math.abs(i-r),height:Math.abs(a-n)}},h5=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return f5({x:t,y:r},{x:n,y:i})};function p5(e){return(e%180+180)%180}var m5=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=p5(i),o=a*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},v5={dots:[],areas:[],lines:[]},RO=ur({name:"referenceElements",initialState:v5,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Jr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Jr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Jr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:F9,removeDot:U9,addArea:B9,removeArea:W9,addLine:g5,removeLine:y5}=RO.actions,x5=RO.reducer,LO=p.createContext(void 0),w5=e=>{var{children:t}=e,[r]=p.useState("".concat(Xs("recharts"),"-clip")),n=Cy();if(n==null)return null;var{x:i,y:a,width:o,height:l}=n;return p.createElement(LO.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:i,y:a,height:l,width:o}))),t)},b5=()=>p.useContext(LO);class _5{constructor(t){var{x:r,y:n}=t;this.xAxisScale=r,this.yAxisScale=n}map(t,r){var n,i,{position:a}=r;return{x:(n=this.xAxisScale.map(t.x,{position:a}))!==null&&n!==void 0?n:0,y:(i=this.yAxisScale.map(t.y,{position:a}))!==null&&i!==void 0?i:0}}mapWithFallback(t,r){var n,i,{position:a,fallback:o}=r,l,u;return o==="rangeMin"?l=this.yAxisScale.rangeMin():o==="rangeMax"?l=this.yAxisScale.rangeMax():l=0,o==="rangeMin"?u=this.xAxisScale.rangeMin():o==="rangeMax"?u=this.xAxisScale.rangeMax():u=0,{x:(n=this.xAxisScale.map(t.x,{position:a}))!==null&&n!==void 0?n:u,y:(i=this.yAxisScale.map(t.y,{position:a}))!==null&&i!==void 0?i:l}}isInRange(t){var{x:r,y:n}=t,i=r==null||this.xAxisScale.isInRange(r),a=n==null||this.yAxisScale.isInRange(n);return i&&a}}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){j5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j5(e,t,r){return(t=S5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S5(e){var t=P5(e,"string");return typeof t=="symbol"?t:t+""}function P5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(null,arguments)}var k5=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!se(t.x1)||!se(t.y1)||!se(t.x2)||!se(t.y2))return null;r=p.createElement("line",dd({},t,{className:"recharts-reference-line-line"}))}return r},E5=(e,t,r,n,i,a)=>{var{x:o,width:l}=a,u=i.map(e,{position:r});if(!se(u)||t==="discard"&&!i.isInRange(u))return null;var c=[{x:o+l,y:u},{x:o,y:u}];return n==="left"?c.reverse():c},N5=(e,t,r,n,i,a)=>{var{y:o,height:l}=a,u=i.map(e,{position:r});if(!se(u)||t==="discard"&&!i.isInRange(u))return null;var c=[{x:u,y:o+l},{x:u,y:o}];return n==="top"?c.reverse():c},O5=(e,t,r,n)=>{var i=[n.mapWithFallback(e[0],{position:r,fallback:"rangeMin"}),n.mapWithFallback(e[1],{position:r,fallback:"rangeMax"})];return t==="discard"&&i.some(a=>!n.isInRange(a))?null:i},A5=(e,t,r,n,i,a,o)=>{var{x:l,y:u,segment:c,ifOverflow:d}=o,f=Lr(l),h=Lr(u);return h?E5(u,d,n,a,t,r):f?N5(l,d,n,i,e,r):c!=null&&c.length===2?O5(c,d,n,new _5({x:e,y:t})):null};function T5(e){var t=et();return p.useEffect(()=>(t(g5(e)),()=>{t(y5(e))})),null}function C5(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:a}=e,o=ft(),l=b5(),u=Y(k=>En(k,t)),c=Y(k=>Nn(k,r)),d=Y(k=>Oo(k,"xAxis",t,o)),f=Y(k=>Oo(k,"yAxis",r,o)),h=$o();if(!l||!h||u==null||c==null||d==null||f==null)return null;var m=A5(d,f,h,e.position,u.orientation,c.orientation,e);if(!m)return null;var v=m[0],y=m[1];if(v==null||y==null)return null;var{x,y:g}=v,{x:w,y:b}=y,_=a==="hidden"?"url(#".concat(l,")"):void 0,P=L_(L_({clipPath:_},Wt(e)),{},{x1:x,y1:g,x2:w,y2:b}),j=h5({x1:x,y1:g,x2:w,y2:b});return p.createElement(Jt,{zIndex:e.zIndex},p.createElement(St,{className:_e("recharts-reference-line",i)},k5(n,P),p.createElement(gO,dd({},j,{lowerWidth:j.width,upperWidth:j.width}),p.createElement(xO,{label:e.label}),e.children)))}var I5={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:it.line};function Ii(e){var t=kt(e,I5);return p.createElement(p.Fragment,null,p.createElement(T5,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),p.createElement(C5,t))}Ii.displayName="ReferenceLine";function $O(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function M5(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return m5(n,r)}function D5(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function cl(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function R5(e,t){return $O(e,t+1)}function L5(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:l}=t,u=0,c=1,d=o,f=function(){var v=n==null?void 0:n[u];if(v===void 0)return{v:$O(n,c)};var y=u,x,g=()=>(x===void 0&&(x=r(v,y)),x),w=v.coordinate,b=u===0||cl(e,w,g,d,l);b||(u=0,d=o,c+=1),b&&(d=w+e*(g()/2+i),u+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function $5(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:l,end:u}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=l,h=!0,m=function(){var _=n[y];if(_==null)return 0;var P=y,j,k=()=>(j===void 0&&(j=r(_,P)),j),S=_.coordinate,N=y===d||cl(e,S,k,f,u);if(!N)return h=!1,1;N&&(f=S+e*(k()/2+i))},v,y=d;y<o&&(v=m(),!(v!==0&&v===1));y+=c);if(h){for(var x=[],g=d;g<o;g+=c){var w=n[g];w!=null&&x.push(w)}return x}}return[]}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z5(e,t,r){return(t=F5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=U5(e,"string");return typeof t=="symbol"?t:t+""}function U5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B5(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,c=function(h){var m=a[h];if(m==null)return 1;var v=m,y,x=()=>(y===void 0&&(y=r(m,h)),y);if(h===o-1){var g=e*(v.coordinate+e*x()/2-u);a[h]=v=zt(zt({},v),{},{tickCoord:g>0?v.coordinate-g*e:v.coordinate})}else a[h]=v=zt(zt({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var w=cl(e,v.tickCoord,x,l,u);w&&(u=v.tickCoord-e*(x()/2+i),a[h]=zt(zt({},v),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return a}function W5(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:u,end:c}=t;if(a){var d=n[l-1];if(d!=null){var f=r(d,l-1),h=e*(d.coordinate+e*f/2-c);if(o[l-1]=d=zt(zt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=cl(e,d.tickCoord,()=>f,u,c);m&&(c=d.tickCoord-e*(f/2+i),o[l-1]=zt(zt({},d),{},{isShow:!0}))}}}for(var v=a?l-1:l,y=function(w){var b=o[w];if(b==null)return 1;var _=b,P,j=()=>(P===void 0&&(P=r(b,w)),P);if(w===0){var k=e*(_.coordinate-e*j()/2-u);o[w]=_=zt(zt({},_),{},{tickCoord:k<0?_.coordinate-k*e:_.coordinate})}else o[w]=_=zt(zt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var S=cl(e,_.tickCoord,j,u,c);S&&(u=_.tickCoord+e*(j()/2+i),o[w]=zt(zt({},_),{},{isShow:!0}))}},x=0;x<v;x++)y(x);return o}function Iy(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(q(u)||ff.isSsr){var h;return(h=R5(i,q(u)?u:0))!==null&&h!==void 0?h:[]}var m=[],v=l==="top"||l==="bottom"?"width":"height",y=d&&v==="width"?Os(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(P,j)=>{var k=typeof c=="function"?c(P.value,j):P.value;return v==="width"?M5(Os(k,{fontSize:t,letterSpacing:r}),y,f):Os(k,{fontSize:t,letterSpacing:r})[v]},g=i[0],w=i[1],b=i.length>=2&&g!=null&&w!=null?rr(w.coordinate-g.coordinate):1,_=D5(a,b,v);return u==="equidistantPreserveStart"?L5(b,_,x,i,o):u==="equidistantPreserveEnd"?$5(b,_,x,i,o):(u==="preserveStart"||u==="preserveStartEnd"?m=W5(b,_,x,i,o,u==="preserveStartEnd"):m=B5(b,_,x,i,o),m.filter(P=>P.isShow))}var K5=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,u=i+a,c=o+u+l+(r?n:0);return Math.round(c)}return 0},H5=["axisLine","width","height","className","hide","ticks","axisType"];function V5(e,t){if(e==null)return{};var r,n,i=G5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(null,arguments)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q5(e,t,r){return(t=Y5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=X5(e,"string");return typeof t=="symbol"?t:t+""}function X5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:it.axis};function Q5(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var c=Qe(Qe(Qe({},u),br(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);c=Qe(Qe({},c),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);c=Qe(Qe({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return p.createElement("line",_a({},c,{className:_e("recharts-cartesian-axis-line",bo(l,"className"))}))}function Z5(e,t,r,n,i,a,o,l,u){var c,d,f,h,m,v,y=l?-1:1,x=e.tickSize||o,g=q(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=r+ +!l*i,f=h-y*x,v=f-y*u,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,c=d-y*x,m=c-y*u,v=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,c=d+y*x,m=c+y*u,v=g;break;default:c=d=e.coordinate,h=r+ +l*i,f=h+y*x,v=f+y*u,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function J5(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function e6(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function t6(e){var{option:t,tickProps:r,value:n}=e,i,a=_e(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))i=p.cloneElement(t,Qe(Qe({},r),{},{className:a}));else if(typeof t=="function")i=t(Qe(Qe({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=_e(o,XW(t))),i=p.createElement(xy,_a({},r,{className:o}),n)}return i}var r6=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:v,height:y,tickSize:x,tickMargin:g,fontSize:w,letterSpacing:b,getTicksConfig:_,events:P,axisType:j}=e,k=Iy(Qe(Qe({},_),{},{ticks:r}),w,b),S=J5(d,f),N=e6(d,f),E=br(_),C=Ro(n),O={};typeof i=="object"&&(O=i);var W=Qe(Qe({},E),{},{fill:"none"},O),B=k.map(X=>Qe({entry:X},Z5(X,h,m,v,y,d,x,f,g))),K=B.map(X=>{var{entry:A,line:L}=X;return p.createElement(St,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},i&&p.createElement("line",_a({},W,L,{className:_e("recharts-cartesian-axis-tick-line",bo(i,"className"))})))}),H=B.map((X,A)=>{var L,F,{entry:Q,tick:J}=X,ne=Qe(Qe(Qe(Qe({verticalAnchor:N},E),{},{textAnchor:S,stroke:"none",fill:a},J),{},{index:A,payload:Q,visibleTicksCount:k.length,tickFormatter:o,padding:u},c),{},{angle:(L=(F=c==null?void 0:c.angle)!==null&&F!==void 0?F:E.angle)!==null&&L!==void 0?L:0}),pe=Qe(Qe({},ne),C);return p.createElement(St,_a({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},Kd(P,Q,A)),n&&p.createElement(t6,{option:n,tickProps:pe,value:"".concat(typeof o=="function"?o(Q.value,A):Q.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},H.length>0&&p.createElement(Jt,{zIndex:it.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},H)),K.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},K))}),n6=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l,axisType:u}=e,c=V5(e,H5),[d,f]=p.useState(""),[h,m]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return K5({ticks:v.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=p.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=g;var w=g[0];if(w){var b=window.getComputedStyle(w),_=b.fontSize,P=b.letterSpacing;(_!==d||P!==h)&&(f(_),m(P))}}},[d,h]);return o||n!=null&&n<=0||i!=null&&i<=0?null:p.createElement(Jt,{zIndex:e.zIndex},p.createElement(St,{className:_e("recharts-cartesian-axis",a)},p.createElement(Q5,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:br(e)}),p.createElement(r6,{ref:y,axisType:u,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(gO,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(xO,{label:e.label,labelRef:e.labelRef}),e.children)))}),My=p.forwardRef((e,t)=>{var r=kt(e,zn);return p.createElement(n6,_a({},r,{ref:t}))});My.displayName="CartesianAxis";var i6=["x1","y1","x2","y2","key"],a6=["offset"],o6=["xAxisId","yAxisId"],s6=["xAxisId","yAxisId"];function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){l6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l6(e,t,r){return(t=u6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6(e){var t=c6(e,"string");return typeof t=="symbol"?t:t+""}function c6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ra.apply(null,arguments)}function fd(e,t){if(e==null)return{};var r,n,i=d6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f6=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zO(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:l,y2:u,key:c}=r,d=fd(r,i6),f=(i=br(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=fd(f,a6);n=p.createElement("line",ra({},m,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:c}))}return n}function h6(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=fd(e,o6),u=i.map((c,d)=>{var f=Ut(Ut({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return p.createElement(zO,{key:"line-".concat(d),option:n,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function p6(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=fd(e,s6),u=i.map((c,d)=>{var f=Ut(Ut({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return p.createElement(zO,{option:n,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function m6(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=c[h+1],v=m==null,y=v?i+o-f:m-f;if(y<=0)return null;var x=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:y,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function v6(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var c=u.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=c[h+1],v=m==null,y=v?i+o-f:m-f;if(y<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var g6=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return fk(Iy(Ut(Ut(Ut({},zn),r),{},{ticks:hk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},y6=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return fk(Iy(Ut(Ut(Ut({},zn),r),{},{ticks:hk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},x6={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:it.grid};function $i(e){var t=jk(),r=Sk(),n=_k(),i=Ut(Ut({},kt(e,x6)),{},{x:q(e.x)?e.x:n.left,y:q(e.y)?e.y:n.top,width:q(e.width)?e.width:n.width,height:q(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,v=ft(),y=Y(N=>Ub(N,"xAxis",a,v)),x=Y(N=>Ub(N,"yAxis",o,v));if(!_n(c)||!_n(d)||!q(l)||!q(u))return null;var g=i.verticalCoordinatesGenerator||g6,w=i.horizontalCoordinatesGenerator||y6,{horizontalPoints:b,verticalPoints:_}=i;if((!b||!b.length)&&typeof w=="function"){var P=h&&h.length,j=w({yAxis:x?Ut(Ut({},x),{},{ticks:P?h:x.ticks}):void 0,width:t??c,height:r??d,offset:n},P?!0:f);Rc(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(b=j)}if((!_||!_.length)&&typeof g=="function"){var k=m&&m.length,S=g({xAxis:y?Ut(Ut({},y),{},{ticks:k?m:y.ticks}):void 0,width:t??c,height:r??d,offset:n},k?!0:f);Rc(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(_=S)}return p.createElement(Jt,{zIndex:i.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(f6,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),p.createElement(m6,ra({},i,{horizontalPoints:b})),p.createElement(v6,ra({},i,{verticalPoints:_})),p.createElement(h6,ra({},i,{offset:n,horizontalPoints:b,xAxis:y,yAxis:x})),p.createElement(p6,ra({},i,{offset:n,verticalPoints:_,xAxis:y,yAxis:x}))))}$i.displayName="CartesianGrid";var w6={},FO=ur({name:"errorBars",initialState:w6,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:K9,replaceErrorBar:H9,removeErrorBar:V9}=FO.actions,b6=FO.reducer,_6=["children"];function j6(e,t){if(e==null)return{};var r,n,i=S6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function S6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var P6={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},k6=p.createContext(P6);function Dy(e){var{children:t}=e,r=j6(e,_6);return p.createElement(k6.Provider,{value:r},t)}function Uf(e,t){var r,n,i=Y(c=>En(c,e)),a=Y(c=>Nn(c,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:xt.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:wt.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function Ry(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Cy(),{needClipX:a,needClipY:o,needClip:l}=Uf(t,r);if(!l||!i)return null;var{x:u,y:c,width:d,height:f}=i;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:a?u:u-d/2,y:o?c:c-f/2,width:a?d:d*2,height:o?f:f*2}))}var UO=(e,t,r,n)=>Pn(e,"xAxis",t,n),BO=(e,t,r,n)=>Sn(e,"xAxis",t,n),WO=(e,t,r,n)=>Pn(e,"yAxis",r,n),KO=(e,t,r,n)=>Sn(e,"yAxis",r,n),E6=T([Ee,UO,WO,BO,KO],(e,t,r,n,i)=>ti(e,"xAxis")?So(t,n,!1):So(r,i,!1)),N6=(e,t,r,n,i)=>i;function O6(e){return e.type==="line"}var A6=T([Tl,N6],(e,t)=>e.filter(O6).find(r=>r.id===t)),T6=T([Ee,UO,WO,BO,KO,A6,E6,xf],(e,t,r,n,i,a,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=l;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=u==null?void 0:u.slice(c,d+1),m!=null)return _8({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:m})}});function C6(e){var t=Ro(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var I6={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=p;function M6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D6=typeof Object.is=="function"?Object.is:M6,R6=$l.useSyncExternalStore,L6=$l.useRef,$6=$l.useEffect,z6=$l.useMemo,F6=$l.useDebugValue;I6.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=L6(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=z6(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return f=v}return f=m}if(v=f,D6(d,m))return v;var y=n(m);return i!==void 0&&i(v,y)?(d=m,v):(d=m,f=y)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,i]);var l=R6(e,a[0],a[1]);return $6(function(){o.hasValue=!0,o.value=l},[l]),F6(l),l};function U6(e){e()}function B6(){let e=null,t=null;return{clear(){e=null,t=null},notify(){U6(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var U_={notify(){},get:()=>[]};function W6(e,t){let r,n=U_,i=0,a=!1;function o(y){d();const x=n.subscribe(y);let g=!1;return()=>{g||(g=!0,x(),f())}}function l(){n.notify()}function u(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){i++,r||(r=e.subscribe(u),n=B6())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=U_)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var K6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H6=K6(),V6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",G6=V6(),q6=()=>H6||G6?p.useLayoutEffect:p.useEffect,Y6=q6();function B_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function X6(e,t){if(B_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!B_(e[r[i]],t[r[i]]))return!1;return!0}var Uh=Symbol.for("react-redux-context"),Bh=typeof globalThis<"u"?globalThis:{};function Q6(){if(!p.createContext)return{};const e=Bh[Uh]??(Bh[Uh]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Z6=Q6();function J6(e){const{children:t,context:r,serverState:n,store:i}=e,a=p.useMemo(()=>{const u=W6(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),o=p.useMemo(()=>i.getState(),[i]);Y6(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=r||Z6;return p.createElement(l.Provider,{value:a},t)}var e8=J6,t8=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function r8(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function zl(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(t8.has(n)){if(e[n]==null&&t[n]==null)continue;if(!X6(e[n],t[n]))return!1}else if(!r8(e[n],t[n]))return!1;return!0}var n8=["id"],i8=["type","layout","connectNulls","needClip","shape"],a8=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(null,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=l8(e,"string");return typeof t=="symbol"?t:t+""}function l8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ly(e,t){if(e==null)return{};var r,n,i=u8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var c8=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Lo(r,t),payload:e}]},d8=p.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r,getPosition:Ea,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Lo(o,t),hide:l,type:c,color:n,unit:u,graphicalItemId:d}};return p.createElement(Ny,{tooltipEntrySettings:f})}),HO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function f8(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var h8=(e,t,r)=>{var n=r.reduce((m,v)=>m+v);if(!n)return HO(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,l=[],u=0,c=0;u<r.length;c+=(d=r[u])!==null&&d!==void 0?d:0,++u){var d,f=r[u];if(f!=null&&c+f>a){l=[...r.slice(0,u),a-c];break}}var h=l.length%2===0?[0,o]:[o];return[...f8(r,i),...l,...h].map(m=>"".concat(m,"px")).join(", ")};function p8(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n,{id:l}=n,u=Ly(n,n8),c=br(u);return p.createElement(MK,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:o,clipPathId:t})}function m8(e){var{showLabels:t,children:r,points:n}=e,i=p.useMemo(()=>n==null?void 0:n.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hn(hn({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(by,{value:t?i:void 0},r)}function K_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:o,layout:l,connectNulls:u,needClip:c,shape:d}=a,f=Ly(a,i8),h=hn(hn({},Wt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(ud,dl({shapeType:"curve",option:d},h,{pathRef:r})),p.createElement(p8,{points:n,clipPathId:t,props:a}))}function v8(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function g8(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:v,onAnimationEnd:y,onAnimationStart:x}=r,g=i.current,w=Pl(o,"recharts-line-"),b=p.useRef(w),[_,P]=p.useState(!1),j=!_,k=p.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),S=p.useCallback(()=>{typeof x=="function"&&x(),P(!0)},[x]),N=v8(n.current),E=p.useRef(0);b.current!==w&&(E.current=a.current,b.current=w);var C=E.current;return p.createElement(m8,{points:o,showLabels:j},r.children,p.createElement(Sl,{animationId:w,begin:c,duration:d,isActive:u,easing:f,onAnimationEnd:k,onAnimationStart:S,key:w},O=>{var W=De(C,N+C,O),B=Math.min(W,N),K;if(u)if(l){var H="".concat(l).split(/[,\s]+/gim).map(L=>parseFloat(L));K=h8(B,N,H)}else K=HO(N,B);else K=l==null?void 0:String(l);if(O>0&&N>0&&(i.current=o,a.current=Math.max(a.current,B)),g){var X=g.length/o.length,A=O===1?o:o.map((L,F)=>{var Q=Math.floor(F*X);if(g[Q]){var J=g[Q];return hn(hn({},L),{},{x:De(J.x,L.x,O),y:De(J.y,L.y,O)})}return h?hn(hn({},L),{},{x:De(m*2,L.x,O),y:De(v/2,L.y,O)}):hn(hn({},L),{},{x:L.x,y:L.y})});return i.current=A,p.createElement(K_,{props:r,points:A,clipPathId:t,pathRef:n,strokeDasharray:K})}return p.createElement(K_,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:K})}),p.createElement(_y,{label:r.label}))}function y8(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),i=p.useRef(0),a=p.useRef(null);return p.createElement(g8,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var x8=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:He(e.payload,t)}};class w8 extends p.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:o,top:l,left:u,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var v=_e("recharts-line",i),y=f,{r:x,strokeWidth:g}=C6(r),w=AO(r),b=x*2+g,_=h?"url(#clipPath-".concat(w?"":"dots-").concat(y,")"):void 0;return p.createElement(Jt,{zIndex:m},p.createElement(St,{className:v},h&&p.createElement("defs",null,p.createElement(Ry,{clipPathId:y,xAxisId:a,yAxisId:o}),!w&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:u-b/2,y:l-b/2,width:c+b,height:d+b}))),p.createElement(Dy,{xAxisId:a,yAxisId:o,data:n,dataPointFormatter:x8,errorBarOffset:0},p.createElement(y8,{props:this.props,clipPathId:y}))),p.createElement(e5,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var VO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:it.line,type:"linear"};function b8(e){var t=kt(e,VO),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:v,id:y}=t,x=Ly(t,a8),{needClip:g}=Uf(m,v),w=Cy(),b=Na(),_=ft(),P=Y(E=>T6(E,m,v,_,y));if(b!=="horizontal"&&b!=="vertical"||P==null||w==null)return null;var{height:j,width:k,x:S,y:N}=w;return p.createElement(w8,dl({},x,{id:y,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:v,points:P,layout:b,height:j,width:k,left:S,top:N,needClip:g}))}function _8(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((c,d)=>{var f=He(c,o);if(t==="horizontal"){var h=Dc({axis:r,ticks:i,bandSize:l,entry:c,index:d}),m=Oe(f)?null:n.scale.map(f);return{x:h,y:m??null,value:f,payload:c}}var v=Oe(f)?null:r.scale.map(f),y=Dc({axis:n,ticks:a,bandSize:l,entry:c,index:d});return v==null||y==null?null:{x:v,y,value:f,payload:c}}).filter(Boolean)}function j8(e){var t=kt(e,VO),r=ft();return p.createElement(Ay,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(Oy,{legendPayload:c8(t)}),p.createElement(d8,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),p.createElement(Ty,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(b8,dl({},t,{id:n}))))}var wn=p.memo(j8,zl);wn.displayName="Line";function Ta(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:IO}function Ca(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:IO}var S8="Invariant failed";function P8(e,t){throw new Error(S8)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(null,arguments)}function hd(e){return p.createElement(ud,Lm({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var k8=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(q(t))return t;var a=q(n)||Oe(n);return a?t(n,i):(a||P8(),r)}},E8=(e,t,r)=>r,N8=(e,t)=>t,Fl=T([Tl,N8],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),O8=T([Fl],e=>e==null?void 0:e.maxBarSize),A8=(e,t,r,n)=>n,T8=T([Ee,Tl,Ta,Ca,E8],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),C8=(e,t,r)=>{var n=Ee(e),i=Ta(e,t),a=Ca(e,t);if(!(i==null||a==null))return n==="horizontal"?Am(e,"yAxis",a,r):Am(e,"xAxis",i,r)},I8=(e,t)=>{var r=Ee(e),n=Ta(e,t),i=Ca(e,t);if(!(n==null||i==null))return r==="horizontal"?Fb(e,"xAxis",n):Fb(e,"yAxis",i)},M8=T([T8,k3,I8],t5),D8=(e,t,r)=>{var n,i,a=Fl(e,t);if(a==null)return 0;var o=Ta(e,t),l=Ca(e,t);if(o==null||l==null)return 0;var u=Ee(e),c=$E(e),{maxBarSize:d}=a,f=Oe(d)?c:d,h,m;return u==="horizontal"?(h=Pn(e,"xAxis",o,r),m=Sn(e,"xAxis",o,r)):(h=Pn(e,"yAxis",l,r),m=Sn(e,"yAxis",l,r)),(n=(i=So(h,m,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},GO=(e,t,r)=>{var n=Ee(e),i=Ta(e,t),a=Ca(e,t);if(!(i==null||a==null)){var o,l;return n==="horizontal"?(o=Pn(e,"xAxis",i,r),l=Sn(e,"xAxis",i,r)):(o=Pn(e,"yAxis",a,r),l=Sn(e,"yAxis",a,r)),So(o,l)}},R8=T([M8,$E,P3,zE,D8,GO,O8],o5),L8=(e,t,r)=>{var n=Ta(e,t);if(n!=null)return Pn(e,"xAxis",n,r)},$8=(e,t,r)=>{var n=Ca(e,t);if(n!=null)return Pn(e,"yAxis",n,r)},z8=(e,t,r)=>{var n=Ta(e,t);if(n!=null)return Sn(e,"xAxis",n,r)},F8=(e,t,r)=>{var n=Ca(e,t);if(n!=null)return Sn(e,"yAxis",n,r)},U8=T([R8,Fl],l5),B8=T([C8,Fl],s5),W8=T([Et,mg,L8,$8,z8,F8,U8,Ee,g3,GO,B8,Fl,A8],(e,t,r,n,i,a,o,l,u,c,d,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:y}=u;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:x}=f,g;if(x!=null&&x.length>0?g=x:g=m==null?void 0:m.slice(v,y+1),g!=null)return gH({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:v})}}),K8=["index"];function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(null,arguments)}function H8(e,t){if(e==null)return{};var r,n,i=V8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qO=p.createContext(void 0),G8=e=>{var t=p.useContext(qO);if(t!=null)return t.stackId;if(e!=null)return OL(e)},q8=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Y8=e=>{var t=p.useContext(qO);if(t!=null){var{stackId:r}=t;return"url(#".concat(q8(r,e),")")}},YO=e=>{var{index:t}=e,r=H8(e,K8),n=Y8(t);return p.createElement(St,$m({className:"recharts-bar-stack-layer",clipPath:n},r))},X8=["onMouseEnter","onMouseLeave","onClick"],Q8=["value","background","tooltipPosition"],Z8=["id"],J8=["onMouseEnter","onClick","onMouseLeave"];function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(null,arguments)}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){eH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eH(e,t,r){return(t=tH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=rH(e,"string");return typeof t=="symbol"?t:t+""}function rH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pd(e,t){if(e==null)return{};var r,n,i=nH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iH=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Lo(r,t),payload:e}]},aH=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:void 0,getPosition:Ea,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Lo(a,t),hide:o,type:u,color:i,unit:l,graphicalItemId:c}};return p.createElement(Ny,{tooltipEntrySettings:d})});function oH(e){var t=Y(Li),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=a,c=pd(a,X8),d=Py(o,n,a.id),f=ky(l),h=Ey(u,n,a.id);if(!i||r==null)return null;var m=Ro(i);return p.createElement(Jt,{zIndex:u5(i,it.barBackground)},r.map((v,y)=>{var{value:x,background:g,tooltipPosition:w}=v,b=pd(v,Q8);if(!g)return null;var _=d(v,y),P=f(v,y),j=h(v,y),k=Vt(Vt(Vt(Vt(Vt({option:i,isActive:String(y)===t},b),{},{fill:"#eee"},g),m),Kd(c,v,y)),{},{onMouseEnter:_,onMouseLeave:P,onClick:j,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return p.createElement(hd,Xn({key:"background-bar-".concat(y)},k))}))}function sH(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Vt(Vt({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return p.createElement(by,{value:t?i:void 0},r)}function lH(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,l=Y(Li),u=Y(QN),c=r&&String(a)===l&&(u==null||o===u),d=c?r:t;return c?p.createElement(Jt,{zIndex:it.activeBar},p.createElement(YO,{index:a},p.createElement(hd,Xn({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:o})))):p.createElement(hd,Xn({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:o}))}function uH(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return p.createElement(hd,Xn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function cH(e){var t,{data:r,props:n}=e,i=(t=br(n))!==null&&t!==void 0?t:{},{id:a}=i,o=pd(i,Z8),{shape:l,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=pd(n,J8),v=Py(d,u,a),y=ky(h),x=Ey(f,u,a);return r?p.createElement(p.Fragment,null,r.map((g,w)=>p.createElement(YO,Xn({index:w,key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(w),className:"recharts-bar-rectangle"},Kd(m,g,w),{onMouseEnter:v(g,w),onMouseLeave:y(g,w),onClick:x(g,w)}),c?p.createElement(lH,{shape:l,activeBar:c,baseProps:o,entry:g,index:w,dataKey:u}):p.createElement(uH,{shape:l,baseProps:o,entry:g,index:w,dataKey:u})))):null}function dH(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,h=Pl(t,"recharts-bar-"),[m,v]=p.useState(!1),y=!m,x=p.useCallback(()=>{typeof c=="function"&&c(),v(!1)},[c]),g=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(sH,{showLabels:y,rects:n},p.createElement(Sl,{animationId:h,begin:o,duration:l,isActive:a,easing:u,onAnimationEnd:x,onAnimationStart:g,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((_,P)=>{var j=f&&f[P];if(j)return Vt(Vt({},_),{},{x:De(j.x,_.x,w),y:De(j.y,_.y,w),width:De(j.width,_.width,w),height:De(j.height,_.height,w)});if(i==="horizontal"){var k=De(0,_.height,w),S=De(_.stackedBarStart,_.y,w);return Vt(Vt({},_),{},{y:S,height:k})}var N=De(0,_.width,w),E=De(_.stackedBarStart,_.x,w);return Vt(Vt({},_),{},{width:N,x:E})});return w>0&&(r.current=b??null),b==null?null:p.createElement(St,null,p.createElement(cH,{props:t,data:b}))}),p.createElement(_y,{label:t.label}),t.children)}function fH(e){var t=p.useRef(null);return p.createElement(dH,{previousRectanglesRef:t,props:e})}var XO=0,hH=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:He(e,t)}};class pH extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:l,background:u,id:c}=this.props;if(t||r==null)return null;var d=_e("recharts-bar",i),f=c;return p.createElement(St,{className:d,id:c},l&&p.createElement("defs",null,p.createElement(Ry,{clipPathId:f,xAxisId:a,yAxisId:o})),p.createElement(St,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(oH,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),p.createElement(fH,this.props)))}}var mH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:XO,xAxisId:0,yAxisId:0,zIndex:it.bar};function vH(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=Uf(t,r),h=Na(),m=ft(),v=OO(e.children,Ll),y=Y(w=>W8(w,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var x,g=y==null?void 0:y[0];return g==null||g.height==null||g.width==null?x=0:x=h==="vertical"?g.height/2:g.width/2,p.createElement(Dy,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:hH,errorBarOffset:x},p.createElement(pH,Xn({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d})))}function gH(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:v,dataStartIndex:y}=e,x=t==="horizontal"?l:o,g=d?x.scale.domain():null,w=AL({numericAxis:x}),b=x.scale.map(w);return f.map((_,P)=>{var j,k,S,N,E,C;if(d){var O=d[P+y];if(O==null)return null;j=SL(O,g)}else j=He(_,r),Array.isArray(j)||(j=[w,j]);var W=k8(n,XO)(j[1],P);if(t==="horizontal"){var B,K=l.scale.map(j[0]),H=l.scale.map(j[1]);if(K==null||H==null)return null;k=Y0({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:_,index:P}),S=(B=H??K)!==null&&B!==void 0?B:void 0,N=i.size;var X=K-H;if(E=bn(X)?0:X,C={x:k,y:h.top,width:N,height:h.height},Math.abs(W)>0&&Math.abs(E)<Math.abs(W)){var A=rr(E||W)*(Math.abs(W)-Math.abs(E));S-=A,E+=A}}else{var L=o.scale.map(j[0]),F=o.scale.map(j[1]);if(L==null||F==null)return null;if(k=L,S=Y0({axis:l,ticks:c,bandSize:a,offset:i.offset,entry:_,index:P}),N=F-L,E=i.size,C={x:h.left,y:S,width:h.width,height:E},Math.abs(W)>0&&Math.abs(N)<Math.abs(W)){var Q=rr(N||W)*(Math.abs(W)-Math.abs(N));N+=Q}}if(k==null||S==null||N==null||E==null)return null;var J=Vt(Vt({},_),{},{stackedBarStart:b,x:k,y:S,width:N,height:E,value:d?j:j[1],payload:_,background:C,tooltipPosition:{x:k+N/2,y:S+E/2},parentViewBox:v},m&&m[P]&&m[P].props);return J}).filter(Boolean)}function yH(e){var t=kt(e,mH),r=G8(t.stackId),n=ft();return p.createElement(Ay,{id:t.id,type:"bar"},i=>p.createElement(p.Fragment,null,p.createElement(Oy,{legendPayload:iH(t)}),p.createElement(aH,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),p.createElement(Ty,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(Jt,{zIndex:t.zIndex},p.createElement(vH,Xn({},t,{id:i})))))}var na=p.memo(yH,zl);na.displayName="Bar";var xH=["option","isActive"];function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(null,arguments)}function wH(e,t){if(e==null)return{};var r,n,i=bH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _H(e){var{option:t,isActive:r}=e,n=wH(e,xH);return typeof t=="string"?p.createElement(ud,As({option:p.createElement(Xv,As({type:t},n)),isActive:r,shapeType:"symbols"},n)):p.createElement(ud,As({option:t,isActive:r,shapeType:"symbols"},n))}var jH=(e,t,r,n,i,a,o)=>Pn(e,"xAxis",t,o),SH=(e,t,r,n,i,a,o)=>Sn(e,"xAxis",t,o),PH=(e,t,r,n,i,a,o)=>Pn(e,"yAxis",r,o),kH=(e,t,r,n,i,a,o)=>Sn(e,"yAxis",r,o),EH=(e,t,r,n)=>CU(e,"zAxis",n,!1),NH=(e,t,r,n,i)=>i,OH=(e,t,r,n,i,a)=>a,AH=(e,t,r,n,i,a,o)=>xf(e,void 0,void 0,o),TH=T([Tl,NH],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),CH=T([AH,jH,SH,PH,kH,EH,TH,OH],(e,t,r,n,i,a,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=e;if(o!=null){var f;if((o==null?void 0:o.data)!=null&&o.data.length>0?f=o.data:f=u==null?void 0:u.slice(c,d+1),!(f==null||t==null||n==null||r==null||i==null||(r==null?void 0:r.length)===0||(i==null?void 0:i.length)===0))return VH({displayedData:f,xAxis:t,yAxis:n,zAxis:a,scatterSettings:o,xAxisTicks:r,yAxisTicks:i,cells:l})}}),IH=["id"],MH=["onMouseEnter","onClick","onMouseLeave"],DH=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function zm(e,t){if(e==null)return{};var r,n,i=RH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ja.apply(null,arguments)}function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(r),!0).forEach(function(n){LH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FH=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Lo(r,t),payload:e}]},UH=p.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r==null?void 0:r.map(f=>f.tooltipPayload),getPosition:f=>{var h;return r==null||(h=r[Number(f)])===null||h===void 0?void 0:h.tooltipPosition},settings:{stroke:n,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:Lo(o,t),hide:l,type:u,color:a,unit:"",graphicalItemId:c}};return p.createElement(Ny,{tooltipEntrySettings:d})});function BH(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:a}=r;if(!n)return null;var o=br(r),l=Ro(n),u,c;if(i==="joint")u=t.map(x=>{var g,w;return{x:(g=x.cx)!==null&&g!==void 0?g:null,y:(w=x.cy)!==null&&w!==void 0?w:null}});else if(i==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=xD(t),v=x=>h*x+m;u=[{x:d,y:v(d)},{x:f,y:v(f)}]}var y=ar(ar(ar({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:u});return p.isValidElement(n)?c=p.cloneElement(n,y):typeof n=="function"?c=n(y):c=p.createElement(wg,ja({},y,{type:a})),p.createElement(St,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function WH(e){var{showLabels:t,points:r,children:n}=e,i=$o(),a=p.useMemo(()=>r==null?void 0:r.map(o=>{var l,u,c={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return ar(ar({},c),{},{value:void 0,payload:o.payload,viewBox:c,parentViewBox:i,fill:void 0})}),[i,r]);return p.createElement(by,{value:t?a:void 0},n)}function KH(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:a}=r,{id:o}=r,l=zm(r,IH),u=Y(Li),{onMouseEnter:c,onClick:d,onMouseLeave:f}=r,h=zm(r,MH),m=Py(c,a,o),v=ky(f),y=Ey(d,a,o);if(!TD(t))return null;var x=br(l);return p.createElement(p.Fragment,null,p.createElement(BH,{points:t,props:l}),t.map((g,w)=>{var b=i!=null&&i!==!1,_=b&&u===String(w),P=b&&_?i:n,j=ar(ar(ar({},x),g),{},{index:w,[mk]:String(o)});return p.createElement(Jt,{key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(w),zIndex:_?it.activeDot:void 0},p.createElement(St,ja({className:"recharts-scatter-symbol"},Kd(h,g,w),{onMouseEnter:m(g,w),onMouseLeave:v(g,w),onClick:y(g,w)}),p.createElement(_H,ja({option:P,isActive:_},j))))}))}function HH(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l}=r,u=t.current,c=Pl(r,"recharts-scatter-"),[d,f]=p.useState(!1),h=p.useCallback(()=>{f(!1)},[]),m=p.useCallback(()=>{f(!0)},[]),v=!d;return p.createElement(WH,{showLabels:v,points:n},r.children,p.createElement(Sl,{animationId:c,begin:a,duration:o,isActive:i,easing:l,onAnimationEnd:h,onAnimationStart:m,key:c},y=>{var x=y===1?n:n==null?void 0:n.map((g,w)=>{var b=u&&u[w];return b?ar(ar({},g),{},{cx:g.cx==null?void 0:De(b.cx,g.cx,y),cy:g.cy==null?void 0:De(b.cy,g.cy,y),size:De(b.size,g.size,y)}):ar(ar({},g),{},{size:De(0,g.size,y)})});return y>0&&(t.current=x),p.createElement(St,null,p.createElement(KH,{points:x,allOtherScatterProps:r,showLabels:v}))}),p.createElement(_y,{label:r.label}))}function VH(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:a,xAxisTicks:o,yAxisTicks:l,cells:u}=e,c=Oe(r.dataKey)?a.dataKey:r.dataKey,d=Oe(n.dataKey)?a.dataKey:n.dataKey,f=i&&i.dataKey,h=i?i.range:XE.range,m=h&&h[0],v=r.scale.bandwidth?r.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((x,g)=>{var w=He(x,c),b=He(x,d),_=!Oe(f)&&He(x,f)||"-",P=[{name:Oe(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:x,dataKey:c,type:a.tooltipType},{name:Oe(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:b,payload:x,dataKey:d,type:a.tooltipType}];_!=="-"&&i!=null&&P.push({name:i.name||i.dataKey,unit:i.unit||"",value:_,payload:x,dataKey:f,type:a.tooltipType});var j=Dc({axis:r,ticks:o,bandSize:v,entry:x,index:g,dataKey:c}),k=Dc({axis:n,ticks:l,bandSize:y,entry:x,index:g,dataKey:d}),S=_!=="-"&&i!=null?i.scale.map(_):m,N=S==null?0:Math.sqrt(Math.max(S,0)/Math.PI);return ar(ar({},x),{},{cx:j,cy:k,x:j==null?void 0:j-N,y:k==null?void 0:k-N,width:2*N,height:2*N,size:S,node:{x:w,y:b,z:_},tooltipPayload:P,tooltipPosition:{x:j,y:k},payload:x},u&&u[g]&&u[g].props)})}var GH=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:He(e,t)});function qH(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:a,yAxisId:o,id:l}=e,u=p.useRef(null);if(t)return null;var c=_e("recharts-scatter",n),d=l;return p.createElement(Jt,{zIndex:e.zIndex},p.createElement(St,{className:c,clipPath:i?"url(#clipPath-".concat(d,")"):void 0,id:l},i&&p.createElement("defs",null,p.createElement(Ry,{clipPathId:d,xAxisId:a,yAxisId:o})),p.createElement(Dy,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:GH,errorBarOffset:0},p.createElement(St,{key:"recharts-scatter-symbols"},p.createElement(HH,{props:e,previousPointsRef:u})))))}var QO={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:it.scatter};function YH(e){var t=kt(e,QO),{animationBegin:r,animationDuration:n,animationEasing:i,hide:a,isAnimationActive:o,legendType:l,lineJointType:u,lineType:c,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,v=zm(t,DH),{needClip:y}=Uf(f,h),x=p.useMemo(()=>OO(e.children,Ll),[e.children]),g=ft(),w=Y(b=>CH(b,f,h,m,e.id,x,g));return y==null||w==null?null:p.createElement(p.Fragment,null,p.createElement(UH,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),p.createElement(qH,ja({},v,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:c,lineJointType:u,legendType:l,shape:d,hide:a,isAnimationActive:o,animationBegin:r,animationDuration:n,animationEasing:i,points:w,needClip:y})))}function XH(e){var t=kt(e,QO),r=ft();return p.createElement(Ay,{id:t.id,type:"scatter"},n=>p.createElement(p.Fragment,null,p.createElement(Oy,{legendPayload:FH(t)}),p.createElement(Ty,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),p.createElement(YH,ja({},t,{id:n}))))}var Hu=p.memo(XH,zl);Hu.displayName="Scatter";var QH=["domain","range"],ZH=["domain","range"];function G_(e,t){if(e==null)return{};var r,n,i=JH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function q_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function ZO(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=G_(e,QH),{domain:a,range:o}=t,l=G_(t,ZH);return!q_(r,a)||!q_(n,o)?!1:zl(i,l)}var eV=["type"],tV=["dangerouslySetInnerHTML","ticks","scale"],rV=["id","scale"];function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(null,arguments)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){nV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=aV(e,"string");return typeof t=="symbol"?t:t+""}function aV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Um(e,t){if(e==null)return{};var r,n,i=oV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sV(e){var t=et(),r=p.useRef(null),n=Pk(),{type:i}=e,a=Um(e,eV),o=_f(n,"xAxis",i),l=p.useMemo(()=>{if(o!=null)return X_(X_({},a),{},{type:o})},[a,o]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(zK(l)):r.current!==l&&t(FK({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(UK(r.current)),r.current=null)},[t]),null}var lV=e=>{var{xAxisId:t,className:r}=e,n=Y(mg),i=ft(),a="xAxis",o=Y(g=>AN(g,a,t,i)),l=Y(g=>kN(g,t)),u=Y(g=>kU(g,t)),c=Y(g=>qE(g,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=Um(e,tV),{id:v,scale:y}=c,x=Um(c,rV);return p.createElement(My,Fm({},m,x,{x:u.x,y:u.y,width:l.width,height:l.height,className:_e("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},uV={allowDataOverflow:xt.allowDataOverflow,allowDecimals:xt.allowDecimals,allowDuplicatedCategory:xt.allowDuplicatedCategory,angle:xt.angle,axisLine:zn.axisLine,height:xt.height,hide:!1,includeHidden:xt.includeHidden,interval:xt.interval,label:!1,minTickGap:xt.minTickGap,mirror:xt.mirror,orientation:xt.orientation,padding:xt.padding,reversed:xt.reversed,scale:xt.scale,tick:xt.tick,tickCount:xt.tickCount,tickLine:zn.tickLine,tickSize:zn.tickSize,type:xt.type,xAxisId:0},cV=e=>{var t=kt(e,uV);return p.createElement(p.Fragment,null,p.createElement(sV,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(lV,t))},Ir=p.memo(cV,ZO);Ir.displayName="XAxis";var dV=["type"],fV=["dangerouslySetInnerHTML","ticks","scale"],hV=["id","scale"];function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(null,arguments)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){pV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wm(e,t){if(e==null)return{};var r,n,i=gV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yV(e){var t=et(),r=p.useRef(null),n=Pk(),{type:i}=e,a=Wm(e,dV),o=_f(n,"yAxis",i),l=p.useMemo(()=>{if(o!=null)return Z_(Z_({},a),{},{type:o})},[o,a]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(BK(l)):r.current!==l&&t(WK({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(KK(r.current)),r.current=null)},[t]),null}function xV(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=p.useRef(null),o=p.useRef(null),l=Y(mg),u=ft(),c=et(),d="yAxis",f=Y(j=>EN(j,t)),h=Y(j=>NU(j,t)),m=Y(j=>AN(j,d,t,u)),v=Y(j=>YE(j,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||wy(i)||p.isValidElement(i)||v==null)){var j=a.current;if(j){var k=j.getCalculatedWidth();Math.round(f.width)!==Math.round(k)&&c(HK({id:t,width:k}))}}},[m,f,c,i,t,n,v]),f==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:g}=e,w=Wm(e,fV),{id:b,scale:_}=v,P=Wm(v,hV);return p.createElement(My,Bm({},w,P,{ref:a,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:_e("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))}var wV={allowDataOverflow:wt.allowDataOverflow,allowDecimals:wt.allowDecimals,allowDuplicatedCategory:wt.allowDuplicatedCategory,angle:wt.angle,axisLine:zn.axisLine,hide:!1,includeHidden:wt.includeHidden,interval:wt.interval,label:!1,minTickGap:wt.minTickGap,mirror:wt.mirror,orientation:wt.orientation,padding:wt.padding,reversed:wt.reversed,scale:wt.scale,tick:wt.tick,tickCount:wt.tickCount,tickLine:zn.tickLine,tickSize:zn.tickSize,type:wt.type,width:wt.width,yAxisId:0},bV=e=>{var t=kt(e,wV);return p.createElement(p.Fragment,null,p.createElement(yV,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(xV,t))},vr=p.memo(bV,ZO);vr.displayName="YAxis";var _V=(e,t)=>t,$y=T([_V,Ee,VE,At,GN,oi,KB,Et],QB),zy=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},JO=$r("mouseClick"),eA=wl();eA.startListening({actionCreator:JO,effect:(e,t)=>{var r=e.payload,n=$y(t.getState(),zy(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(WU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Km=$r("mouseMove"),tA=wl(),_u=null;tA.startListening({actionCreator:Km,effect:(e,t)=>{var r=e.payload;_u!==null&&cancelAnimationFrame(_u);var n=zy(r);_u=requestAnimationFrame(()=>{var i=t.getState(),a=ly(i,i.tooltip.settings.shared);if(a==="axis"){var o=$y(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch($N({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(LN())}_u=null})}});function jV(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var J_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rA=ur({name:"rootProps",initialState:J_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:J_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),SV=rA.reducer,{updateOptions:PV}=rA.actions,kV=null,EV={updatePolarOptions:(e,t)=>t.payload},nA=ur({name:"polarOptions",initialState:kV,reducers:EV}),{updatePolarOptions:G9}=nA.actions,NV=nA.reducer,iA=$r("keyDown"),aA=$r("focus"),Fy=wl();Fy.startListening({actionCreator:iA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=uy(i,Go(r),Il(r),Dl(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=oi(r);if(a==="Enter"){var c=ad(r,"axis","hover",String(i.index));t.dispatch(Cm({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=IU(r),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=l+h*f;if(!(u==null||m>=u.length||m<0)){var v=ad(r,"axis","hover",String(m));t.dispatch(Cm({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});Fy.startListening({actionCreator:aA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=ad(r,"axis","hover",String(a));t.dispatch(Cm({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Nr=$r("externalEvent"),oA=wl(),Wh=new Map;oA.startListening({actionCreator:Nr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Wh.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:NB(l),activeDataKey:QN(l),activeIndex:Li(l),activeLabel:XN(l),activeTooltipIndex:Li(l),isTooltipActive:OB(l)};r(u,n)}finally{Wh.delete(i)}});Wh.set(i,o)}}});var OV=T([Ho],e=>e.tooltipItemPayloads),AV=T([OV,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),sA=$r("touchMove"),lA=wl();lA.startListening({actionCreator:sA,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=ly(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=$y(n,zy({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch($N({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(LL),f=(l=c.getAttribute(mk))!==null&&l!==void 0?l:void 0,h=Vo(n).find(y=>y.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,v=AV(n,d,f);t.dispatch(RN({activeDataKey:m,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var TV=LP({brush:d5,cartesianAxis:VK,chartData:E4,errorBars:b6,graphicalItems:SK,layout:xL,legend:S2,options:_4,polarAxis:YW,polarOptions:NV,referenceElements:x5,rootProps:SV,tooltip:KU,zIndex:d4}),CV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return KR({reducer:TV,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([eA.middleware,tA.middleware,Fy.middleware,oA.middleware,lA.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(ZP({type:"raf"}))},devTools:{serialize:{replacer:jV},name:"recharts-".concat(r)}})};function IV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=ft(),a=p.useRef(null);if(i)return r;a.current==null&&(a.current=CV(t,n));var o=og;return p.createElement(e8,{context:o,store:a.current},r)}function MV(e){var{layout:t,margin:r}=e,n=et(),i=ft();return p.useEffect(()=>{i||(n(vL(t)),n(mL(r)))},[n,i,t,r]),null}var DV=p.memo(MV,zl);function RV(e){var t=et();return p.useEffect(()=>{t(PV(e))},[t,e]),null}function ej(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),i=et();return p.useLayoutEffect(()=>(n.current&&i(u4({zIndex:t,element:n.current,isPanorama:r})),()=>{i(c4({zIndex:t,isPanorama:r}))}),[i,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function tj(e){var{children:t,isPanorama:r}=e,n=Y(JB);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return p.createElement(p.Fragment,null,i.map(o=>p.createElement(ej,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>p.createElement(ej,{key:o,zIndex:o,isPanorama:r})))}var LV=["children"];function $V(e,t){if(e==null)return{};var r,n,i=zV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(null,arguments)}var FV={width:"100%",height:"100%",display:"block"},UV=p.forwardRef((e,t)=>{var r=jk(),n=Sk(),i=Mk();if(!_n(r)||!_n(n))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),p.createElement($1,md({},o,{title:l,desc:u,role:d,tabIndex:c,width:r,height:n,style:FV,ref:t}),a)}),BV=e=>{var{children:t}=e,r=Y(lf);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return p.createElement($1,{width:n,height:i,x:o,y:a},t)},rj=p.forwardRef((e,t)=>{var{children:r}=e,n=$V(e,LV),i=ft();return i?p.createElement(BV,null,p.createElement(tj,{isPanorama:!0},r)):p.createElement(UV,md({ref:t},n),p.createElement(tj,{isPanorama:!1},r))});function WV(){var e=et(),[t,r]=p.useState(null),n=Y(RL);return p.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;se(a)&&a!==n&&e(yL(a))}},[t,e,n]),r}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(null,arguments)}var qV=()=>(R4(),null);function vd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var YV=p.forwardRef((e,t)=>{var r,n,i=p.useRef(null),[a,o]=p.useState({containerWidth:vd((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:vd((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((c,d)=>{o(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),u=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();l(d,f);var h=v=>{var y=v[0];if(y!=null){var{width:x,height:g}=y.contentRect;l(x,g)}},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,l]);return p.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(_l,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",Mi({ref:u},e)))}),XV=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=p.useState({containerWidth:vd(r),containerHeight:vd(n)}),o=p.useCallback((u,c)=>{a(d=>{var f=Math.round(u),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();o(c,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(_l,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",Mi({ref:l},e)))}),QV=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(_l,{width:r,height:n}),p.createElement("div",Mi({ref:t},e)))}),ZV=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?p.createElement(XV,Mi({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?p.createElement(QV,Mi({},e,{width:r,height:n,ref:t})):p.createElement(p.Fragment,null,p.createElement(_l,{width:r,height:n}),p.createElement("div",Mi({ref:t},e)))});function JV(e){return e?YV:ZV}var eG=p.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:y,style:x,width:g,responsive:w,dispatchTouchEvents:b=!0}=e,_=p.useRef(null),P=et(),[j,k]=p.useState(null),[S,N]=p.useState(null),E=WV(),C=vg(),O=(C==null?void 0:C.width)>0?C.width:g,W=(C==null?void 0:C.height)>0?C.height:i,B=p.useCallback(R=>{E(R),typeof t=="function"&&t(R),k(R),N(R),R!=null&&(_.current=R)},[E,t,k,N]),K=p.useCallback(R=>{P(JO(R)),P(Nr({handler:a,reactEvent:R}))},[P,a]),H=p.useCallback(R=>{P(Km(R)),P(Nr({handler:c,reactEvent:R}))},[P,c]),X=p.useCallback(R=>{P(LN()),P(Nr({handler:d,reactEvent:R}))},[P,d]),A=p.useCallback(R=>{P(Km(R)),P(Nr({handler:f,reactEvent:R}))},[P,f]),L=p.useCallback(()=>{P(aA())},[P]),F=p.useCallback(R=>{P(iA(R.key))},[P]),Q=p.useCallback(R=>{P(Nr({handler:o,reactEvent:R}))},[P,o]),J=p.useCallback(R=>{P(Nr({handler:l,reactEvent:R}))},[P,l]),ne=p.useCallback(R=>{P(Nr({handler:u,reactEvent:R}))},[P,u]),pe=p.useCallback(R=>{P(Nr({handler:h,reactEvent:R}))},[P,h]),je=p.useCallback(R=>{P(Nr({handler:y,reactEvent:R}))},[P,y]),be=p.useCallback(R=>{b&&P(sA(R)),P(Nr({handler:v,reactEvent:R}))},[P,b,v]),me=p.useCallback(R=>{P(Nr({handler:m,reactEvent:R}))},[P,m]),mt=JV(w);return p.createElement(iO.Provider,{value:j},p.createElement(RM.Provider,{value:S},p.createElement(mt,{width:O??(x==null?void 0:x.width),height:W??(x==null?void 0:x.height),className:_e("recharts-wrapper",n),style:KV({position:"relative",cursor:"default",width:O,height:W},x),onClick:K,onContextMenu:Q,onDoubleClick:J,onFocus:L,onKeyDown:F,onMouseDown:ne,onMouseEnter:H,onMouseLeave:X,onMouseMove:A,onMouseUp:pe,onTouchEnd:me,onTouchMove:be,onTouchStart:je,ref:B},p.createElement(qV,null),r)))}),tG=["width","height","responsive","children","className","style","compact","title","desc"];function rG(e,t){if(e==null)return{};var r,n,i=nG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iG=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:l,compact:u,title:c,desc:d}=e,f=rG(e,tG),h=br(f);return u?p.createElement(p.Fragment,null,p.createElement(_l,{width:r,height:n}),p.createElement(rj,{otherAttributes:h,title:c,desc:d},a)):p.createElement(eG,{className:o,style:l,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(rj,{otherAttributes:h,title:c,desc:d,ref:t},p.createElement(w5,null,a)))});function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(null,arguments)}var aG={top:5,right:5,bottom:5,left:5},oG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:aG,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Uy=p.forwardRef(function(t,r){var n,i=kt(t.categoricalChartProps,oG),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return p.createElement(IV,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},p.createElement(c5,{chartData:c.data}),p.createElement(DV,{layout:i.layout,margin:i.margin}),p.createElement(RV,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),p.createElement(iG,Hm({},i,{ref:r})))}),sG=["axis"],Bf=p.forwardRef((e,t)=>p.createElement(Uy,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sG,tooltipPayloadSearcher:yy,categoricalChartProps:e,ref:t})),lG=["axis","item"],no=p.forwardRef((e,t)=>p.createElement(Uy,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lG,tooltipPayloadSearcher:yy,categoricalChartProps:e,ref:t})),uG=["axis"],cG=p.forwardRef((e,t)=>p.createElement(Uy,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uG,tooltipPayloadSearcher:yy,categoricalChartProps:e,ref:t}));const dG={SAFE:"SAFE",CAUTION:"CAUTION",STOPPED:"STOPPED"},ju={SAFE:"#2e7d32",CAUTION:"#f9a825",STOPPED:"#c62828"};function Qn(e){return e?String(e).slice(0,10):""}function Su({title:e,tooltip:t}){return s.jsxs("h4",{className:"mini-grid-chart-title",title:t,children:[e,t&&s.jsx("span",{className:"mini-grid-chart-q","aria-label":t,children:"?"})]})}function fG({data:e,thresholds:t,events:r}){if(!Array.isArray(e)||e.length===0)return s.jsx("p",{className:"mini-grid-empty",children:"No equity data"});const n=(t==null?void 0:t.bust_threshold_pct)!=null&&(t==null?void 0:t.start_equity)!=null?t.start_equity*(t.bust_threshold_pct/100):null;return s.jsx(Yr,{width:"100%",height:160,children:s.jsxs(Bf,{data:e,margin:{top:6,right:6,left:0,bottom:0},children:[s.jsx($i,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Ir,{dataKey:"ts",tick:{fontSize:10},tickFormatter:Qn}),s.jsx(vr,{tick:{fontSize:10},tickFormatter:i=>(i/1e3).toFixed(0)+"k",width:36}),s.jsx(Xr,{formatter:i=>[Number(i).toLocaleString(void 0,{minimumFractionDigits:2}),"Equity"],labelFormatter:Qn}),n!=null&&s.jsx(Ii,{y:n,stroke:"#c62828",strokeDasharray:"2 2"}),s.jsx(wn,{type:"monotone",dataKey:"equity",stroke:"#1565c0",strokeWidth:2,dot:!1,name:"Equity"})]})})}function hG({data:e,drawdownStopPct:t}){if(!Array.isArray(e)||e.length===0)return s.jsx("p",{className:"mini-grid-empty",children:"No drawdown data"});const r=t!=null?-Math.abs(Number(t)):null;return s.jsx(Yr,{width:"100%",height:160,children:s.jsxs(Bf,{data:e,margin:{top:6,right:6,left:0,bottom:0},children:[s.jsx($i,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Ir,{dataKey:"ts",tick:{fontSize:10},tickFormatter:Qn}),s.jsx(vr,{tick:{fontSize:10},tickFormatter:n=>n+"%",width:40,domain:["auto",0]}),s.jsx(Xr,{formatter:n=>[n!=null?Number(n).toFixed(2)+"%":"","Drawdown"],labelFormatter:Qn}),r!=null&&s.jsx(Ii,{y:r,stroke:"#c62828",strokeDasharray:"2 2"}),s.jsx(wn,{type:"monotone",dataKey:"drawdown_pct",stroke:"#6a1b9a",strokeWidth:2,dot:!1,name:"Drawdown %"})]})})}function pG({data:e}){const t=(e==null?void 0:e[0])!=null&&"day"in e[0]?"day":"ts",r=(e==null?void 0:e[0])!=null&&"trades_count"in e[0]?"trades_count":"tradesCount";return!Array.isArray(e)||e.length===0?s.jsx("p",{className:"mini-grid-empty",children:"No trades in period"}):s.jsx(Yr,{width:"100%",height:160,children:s.jsxs(no,{data:e,margin:{top:6,right:6,left:0,bottom:0},children:[s.jsx($i,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Ir,{dataKey:t,tick:{fontSize:10},tickFormatter:Qn}),s.jsx(vr,{tick:{fontSize:10},width:28}),s.jsx(Xr,{formatter:n=>[n,"Trades"],labelFormatter:Qn}),s.jsx(na,{dataKey:r,fill:"#2e7d32",radius:[2,2,0,0],name:"Trades"})]})})}function mG({data:e}){const t=(e==null?void 0:e[0])!=null&&"day"in e[0]?"day":"ts",r=(e==null?void 0:e[0])!=null&&"gate_state"in e[0]?"gate_state":"gateState";if(!Array.isArray(e)||e.length===0)return s.jsx("p",{className:"mini-grid-empty",children:"No regime data"});const n=[];let i=null;for(let a=0;a<e.length;a++){const o=e[a][r]||e[a].gate_state||"SAFE";o!==i?(n.push({start:a,end:a,state:o}),i=o):n[n.length-1].end=a}return s.jsxs("div",{className:"mini-grid-regime-wrap",title:"Risk state by day (SAFE / CAUTION / STOPPED)",children:[s.jsx("div",{className:"mini-grid-regime-strip",children:n.map((a,o)=>s.jsx("div",{className:"mini-grid-regime-segment",style:{width:`${(a.end-a.start+1)/e.length*100}%`,backgroundColor:ju[a.state]||"#9e9e9e"},title:`${Qn(e[a.start][t]??e[a.start].ts)}  ${dG[a.state]||a.state}`},o))}),s.jsxs("div",{className:"mini-grid-regime-legend",children:[s.jsx("span",{style:{color:ju.SAFE},children:"SAFE"}),s.jsx("span",{style:{color:ju.CAUTION},children:"CAUTION"}),s.jsx("span",{style:{color:ju.STOPPED},children:"STOPPED"})]})]})}function uA({titlePrefix:e,dateRange:t={},series:r={},thresholds:n={},events:i=[],headerLine:a,explainSentence:o}){const l=r.equity??[],u=r.drawdown??[],c=r.tradesPerDay??[],d=r.regime??[],f=t.start_ts??t.startTs,h=t.end_ts??t.endTs;return s.jsxs("div",{className:"portfolio-mini-grid",children:[(a||e||o)&&s.jsxs("div",{className:"mini-grid-header",children:[a&&s.jsx("p",{className:"mini-grid-header-line",children:a}),!a&&e&&s.jsxs("h3",{className:"mini-grid-title",children:[e,(f||h)&&s.jsxs("span",{className:"mini-grid-dates",children:["  ",Qn(f),"  ",h?Qn(h):"now"]})]}),o&&s.jsx("p",{className:"mini-grid-explain",children:o})]}),s.jsxs("div",{className:"mini-grid-grid",children:[s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Equity",tooltip:"Equity over time. Dashed line = bust threshold if set."}),s.jsx(fG,{data:l,thresholds:n,events:i})]}),s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Drawdown",tooltip:"Drawdown %. Horizontal line = drawdown stop threshold; breach marks entries blocked."}),s.jsx(hG,{data:u,drawdownStopPct:n.drawdown_stop_pct})]}),s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Trades per day",tooltip:"Number of trades executed each day."}),s.jsx(pG,{data:c})]}),s.jsxs("div",{className:"mini-grid-cell",children:[s.jsx(Su,{title:"Risk regime",tooltip:"Risk state by day: SAFE (green), CAUTION (amber), STOPPED (red)."}),s.jsx(mG,{data:d})]})]})]})}function ij(e){return e?String(e).slice(0,10):""}function vG(e,t){if(!e)return"";const r=new Date(e),n=t?new Date(t):new Date,i=Math.ceil((n-r)/(1e3*60*60*24));return i<1?"< 1 day":i===1?"1 day":`${i} days`}function gG({endReason:e,status:t,distributionAmount:r}){return t==="ACTIVE"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--active",children:" Active"}):e==="PROFIT_TARGET_HIT"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--crystallized",title:"Profit target hit, gains crystallized",children:" Crystallized"}):e==="DRAWDOWN_STOP"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--stopped",title:"Drawdown stop triggered",children:" Stopped"}):e==="MANUAL_RESET"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--reset",title:"Manually reset by user",children:" Reset"}):e==="BUST"?s.jsx("span",{className:"lifecycle-badge lifecycle-badge--bust",title:"Bust threshold hit",children:" Bust"}):s.jsx("span",{className:"lifecycle-badge lifecycle-badge--ended",children:"Ended"})}function yG({episode:e,portfolioId:t,isActive:r}){const[n,i]=p.useState(!1),[a,o]=p.useState(null),[l,u]=p.useState(!1),[c,d]=p.useState(null),f=(e==null?void 0:e.episode_id)??(e==null?void 0:e.EPISODE_ID),h=(e==null?void 0:e.start_ts)??(e==null?void 0:e.START_TS)??"",m=(e==null?void 0:e.end_ts)??(e==null?void 0:e.END_TS)??null,v=(e==null?void 0:e.status)??(e==null?void 0:e.STATUS)??"",y=(e==null?void 0:e.end_reason)??(e==null?void 0:e.END_REASON)??null,x=(e==null?void 0:e.profile_name)??(e==null?void 0:e.PROFILE_NAME)??"",g=(e==null?void 0:e.total_return)??(e==null?void 0:e.total_return),w=(e==null?void 0:e.max_drawdown)??(e==null?void 0:e.MAX_DRAWDOWN),b=(e==null?void 0:e.trades_count)??(e==null?void 0:e.trades_count)??0,_=(e==null?void 0:e.win_days)??(e==null?void 0:e.win_days),P=(e==null?void 0:e.loss_days)??(e==null?void 0:e.loss_days);r&&(e==null||e.risk_status);const j=(e==null?void 0:e.distribution_amount)??(e==null?void 0:e.DISTRIBUTION_AMOUNT),k=j!=null&&Number(j)>0;p.useEffect(()=>{if(!n||!t||!f||a!=null)return;let E=!1;return u(!0),d(null),fetch(`${ae}/portfolios/${t}/episodes/${f}`).then(C=>{if(!C.ok)throw new Error(C.statusText);return C.json()}).then(C=>{E||(o(C),u(!1))}).catch(C=>{E||(d(C.message),u(!1))}),()=>{E=!0}},[n,t,f,a]);const S=vG(h,m);let N="";return y?y==="PROFIT_TARGET_HIT"?N=k?`Ran for ${S}. Profit target achieved  ${Number(j).toLocaleString(void 0,{minimumFractionDigits:2})} crystallized and withdrawn.`:`Ran for ${S}. Profit target achieved.`:y==="DRAWDOWN_STOP"?N=`Ran for ${S}. Drawdown protection triggered  entries blocked to prevent further losses.`:y==="MANUAL_RESET"?N=`Ran for ${S}. Manually reset by user.`:y==="BUST"?N=`Ran for ${S}. Bust threshold hit  portfolio liquidated.`:N=`Ran for ${S}. Ended: ${y}. Profile: ${x}.`:N=`Active episode running for ${S}. Profile: ${x}.`,s.jsxs("div",{className:`episode-card ${n?"episode-card--expanded":""} ${r?"episode-card--active":""}`,children:[s.jsxs("button",{type:"button",className:"episode-card-header",onClick:()=>i(!n),"aria-expanded":n,children:[s.jsxs("span",{className:"episode-card-id",children:["Episode ",f]}),s.jsxs("span",{className:"episode-card-dates",title:"Date range",children:[ij(h),"  ",m?ij(m):"now"]}),s.jsx(gG,{endReason:y,status:v,distributionAmount:j}),k&&s.jsxs("span",{className:"episode-card-chip episode-card-chip--paidout",title:"Profits withdrawn at end of episode",children:[" ",Number(j).toLocaleString(void 0,{minimumFractionDigits:2})]}),s.jsx("span",{className:"episode-card-profile",children:x}),s.jsx("span",{className:"episode-card-expand-icon",children:n?"":""})]}),s.jsx("p",{className:"episode-card-story",children:N}),s.jsxs("dl",{className:"episode-card-stats",children:[s.jsx("dt",{children:"Start equity"}),s.jsx("dd",{children:(e==null?void 0:e.start_equity)!=null?Number(e.start_equity).toLocaleString(void 0,{minimumFractionDigits:2}):(a==null?void 0:a.start_equity)!=null?Number(a.start_equity).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("dt",{children:"End equity"}),s.jsx("dd",{children:(a==null?void 0:a.end_equity)!=null?Number(a.end_equity).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("dt",{children:"Total return"}),s.jsx("dd",{children:g!=null?(Number(g)*100).toFixed(2)+"%":""}),s.jsx("dt",{children:"Max drawdown"}),s.jsx("dd",{children:w!=null?Number(w).toFixed(2)+"%":""}),s.jsx("dt",{children:"Trades"}),s.jsx("dd",{children:b}),s.jsx("dt",{children:"Win / Loss days"}),s.jsx("dd",{children:_!=null&&P!=null?`${_} / ${P}`:""}),s.jsx("dt",{children:"Peak open symbols"}),s.jsx("dd",{children:(a==null?void 0:a.peak_open_symbols)??(e==null?void 0:e.peak_open_symbols)??""})]}),n&&s.jsxs("div",{className:"episode-card-charts",children:[l&&s.jsx(wr,{}),c&&s.jsx("p",{className:"episode-chart-error",children:c}),a&&!l&&!c&&s.jsx(uA,{titlePrefix:`Episode #${f}`,dateRange:{start_ts:a.start_ts,end_ts:a.end_ts},series:{equity:a.equity_series??[],drawdown:a.drawdown_series??[],tradesPerDay:a.trades_per_day??[],regime:a.regime_per_day??[]},thresholds:a.thresholds??{},events:a.events??[]})]})]})}const cA=p.createContext({latestRunId:null,latestRunTs:null,loading:!0,error:null,refresh:()=>{},isStale:()=>!1});function xG({children:e}){const[t,r]=p.useState(null),[n,i]=p.useState(null),[a,o]=p.useState(!0),[l,u]=p.useState(null),c=p.useCallback(async()=>{o(!0),u(null);try{const h=await fetch(`${ae}/status`);if(!h.ok)throw new Error(h.statusText);const m=await h.json();r(m.latest_success_run_id||null),i(m.latest_success_ts||null)}catch(h){u(h.message)}finally{o(!1)}},[]);p.useEffect(()=>{c();const h=setInterval(c,5*60*1e3);return()=>clearInterval(h)},[c]);const d=p.useCallback(h=>!t||!h?!1:h!==t,[t]),f={latestRunId:t,latestRunTs:n,loading:a,error:l,refresh:c,isStale:d};return s.jsx(cA.Provider,{value:f,children:e})}function dA(){return p.useContext(cA)}function wG(e){if(e==null)return"";const t=typeof e=="string"?new Date(e):e;if(Number.isNaN(t.getTime()))return"";const r=Date.now(),n=Math.floor((r-t.getTime())/1e3);if(n<0)return"just now";if(n<60)return`${n}s ago`;const i=Math.floor(n/60);if(i<60)return`${i}m ago`;const a=Math.floor(i/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function aj(){var W,B,K,H,X;const{portfolioId:e}=N1(),{explainMode:t}=Pt(),{latestRunId:r,latestRunTs:n,isStale:i}=dA(),a=t?(W=Kv("ui.status_badge"))==null?void 0:W.long:void 0,[o,l]=p.useState([]),[u,c]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(!0),[v,y]=p.useState(null),[x,g]=p.useState(30),[w,b]=p.useState(!1),[_,P]=p.useState([]),[j,k]=p.useState(null),[S,N]=p.useState(null),[E,C]=p.useState(null),{setContext:O}=Pr();if(xc(hM),p.useEffect(()=>{O(fM)},[O]),p.useEffect(()=>{let A=!1;async function L(){m(!0),y(null);try{const F=await fetch(`${ae}/portfolios`);if(!F.ok)throw new Error(F.statusText);const Q=await F.json();if(A)return;if(l(Q),e){const J=await fetch(`${ae}/portfolios/${e}`);if(!J.ok)throw new Error(J.statusText);const ne=await J.json();if(A)return;c(ne);const pe=ne.LAST_SIMULATION_RUN_ID??null,je=new URLSearchParams;pe&&je.set("run_id",pe),je.set("lookback_days",String(x));const be=`${ae}/portfolios/${e}/snapshot?${je.toString()}`,me=await fetch(be);if(!me.ok)throw new Error(me.statusText);const mt=await me.json();A||f(mt);const R=await fetch(`${ae}/portfolios/${e}/episodes`);if(R.ok){const ce=await R.json();A||P(Array.isArray(ce)?ce:[])}else A||P([]);const ee=await fetch(`${ae}/portfolios/${e}/timeline`);if(ee.ok){const ce=await ee.json();A||k(ce)}else A||k(null);const re=mt==null?void 0:mt.active_episode,$=(re==null?void 0:re.episode_id)??(re==null?void 0:re.EPISODE_ID);$&&!A?fetch(`${ae}/portfolios/${e}/episodes/${$}`).then(ce=>ce.ok?ce.json():null).then(ce=>{A||N(ce)}).catch(()=>{A||N(null)}):A||N(null),fetch(`${ae}/market-timeline/diagnostics?portfolio_id=${e}`).then(ce=>ce.ok?ce.json():null).then(ce=>{A||C(ce)}).catch(()=>{A||C(null)})}else c(null),f(null),P([]),k(null),N(null)}catch(F){A||y(F.message)}finally{A||m(!1)}}return L(),()=>{A=!0}},[e,x]),h)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:e?"Portfolio":"Portfolios"}),s.jsx(wr,{})]});if(v)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:e?"Portfolio":"Portfolios"}),e&&s.jsx("p",{children:s.jsx(ge,{to:"/portfolios",children:" Back to list"})}),s.jsx(tn,{message:v})]});if(e&&u){const A=d==null?void 0:d.active_episode,L=A?`Episode ${A.episode_id??A.EPISODE_ID??""} since ${(A.start_ts??A.START_TS??"").slice(0,10)}`:null,F=d==null?void 0:d.active_episode,Q=((F==null?void 0:F.start_ts)??(F==null?void 0:F.START_TS)??"").slice(0,10),J=(F==null?void 0:F.profile_id)??(F==null?void 0:F.PROFILE_ID),ne=d==null?void 0:d.episode_risk_state,pe=(ne==null?void 0:ne.risk_label)??((B=d==null?void 0:d.risk_gate)==null?void 0:B.risk_label)??"NORMAL",je=(ne==null?void 0:ne.episode_drawdown_breached)??!1;let be="SAFE";ne!=null&&ne.entries_blocked?be="STOPPED":je||pe==="CAUTION"?be="CAUTION":pe==="DEFENSIVE"&&(be="STOPPED");let me=((K=d==null?void 0:d.risk_gate)==null?void 0:K.reason_text)??"Portfolio is within safe limits.";if(ne&&je&&be!=="STOPPED"){const ve=((H=ne.episode_drawdown_pct)==null?void 0:H.toFixed(1))??"?",I=((X=ne.episode_drawdown_stop_pct)==null?void 0:X.toFixed(1))??"?";me=`Episode drawdown at ${ve}% (threshold: ${I}%). Approaching risk limit.`}const mt=F&&Q?`Active since ${Q}  Profile ${J??""}  ${be}`:null,R=d==null?void 0:d.portfolio_simulated_through_ts,ee=d==null?void 0:d.pipeline_last_run_at,re=d==null?void 0:d.latest_available_bar_date,$=R?R.slice(0,10):null,ce=ee?new Date(ee).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,xe=$&&re?$<re:!1,vt=R||ee;return s.jsxs(s.Fragment,{children:[s.jsxs("h1",{children:["Portfolio: ",u.NAME]}),L&&s.jsx("p",{className:"portfolio-episode-header",children:L}),s.jsx("div",{className:"portfolio-freshness-header",children:xe?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"freshness-badge freshness-stale",children:"PENDING UPDATE"}),s.jsxs("span",{className:"freshness-text",children:["Simulated through ",$,"  New market date available (",re,")"]})]}):vt?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"freshness-badge freshness-current",children:"CURRENT"}),s.jsxs("span",{className:"freshness-text",children:[$&&`Simulated through ${$}`,$&&ce&&"  ",ce&&`Pipeline ran at ${ce}`]})]}):null}),s.jsx("p",{children:s.jsx(ge,{to:"/portfolios",children:" Back to list"})}),F&&s.jsxs("section",{className:"portfolio-active-period","aria-label":"Active period dashboard",children:[(mt||me)&&s.jsxs(s.Fragment,{children:[mt&&s.jsx("p",{className:"mini-grid-header-line",children:mt}),me&&s.jsx("p",{className:"mini-grid-explain",children:me})]}),S?s.jsx(uA,{titlePrefix:"",dateRange:{start_ts:F.start_ts??F.START_TS,end_ts:null},series:{equity:S.equity_series??[],drawdown:S.drawdown_series??[],tradesPerDay:S.trades_per_day??[],regime:S.regime_per_day??[]},thresholds:S.thresholds??{},events:S.events??[]}):s.jsx("p",{className:"portfolio-active-period-loading",children:"Loading analytics"})]}),s.jsx("h2",{children:"Header"}),s.jsxs("div",{className:"kpi-cards",children:[u.STARTING_CASH!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Starting cash ",s.jsx(D,{scope:"portfolio",variant:"short"},"starting_cash")]}),s.jsx("span",{className:"kpi-value",children:Number(u.STARTING_CASH).toLocaleString()})]}),u.FINAL_EQUITY!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Final equity ",s.jsx(D,{scope:"portfolio",variant:"short"},"final_equity")]}),s.jsx("span",{className:"kpi-value",children:Number(u.FINAL_EQUITY).toLocaleString()})]}),u.TOTAL_RETURN!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Total return ",s.jsx(D,{scope:"portfolio",variant:"short"},"total_return")]}),s.jsxs("span",{className:"kpi-value",children:[Number(u.TOTAL_RETURN*100).toFixed(2),"%"]})]}),u.MAX_DRAWDOWN!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Max drawdown ",s.jsx(D,{scope:"portfolio",variant:"short"},"max_drawdown")]}),s.jsxs("span",{className:"kpi-value",children:[Number(u.MAX_DRAWDOWN*100).toFixed(2),"%"]})]}),u.WIN_DAYS!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Win days ",s.jsx(D,{scope:"portfolio",variant:"short"},"win_days")]}),s.jsx("span",{className:"kpi-value",children:u.WIN_DAYS})]}),u.LOSS_DAYS!=null&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Loss days ",s.jsx(D,{scope:"portfolio",variant:"short"},"loss_days")]}),s.jsx("span",{className:"kpi-value",children:u.LOSS_DAYS})]}),u.STATUS&&s.jsxs("div",{className:"kpi-card",children:[s.jsxs("span",{className:"kpi-label",children:["Status ",s.jsx(D,{scope:"portfolio",variant:"short"},"status")]}),s.jsx("span",{className:"kpi-value status-badge",title:a,children:u.STATUS})]})]}),d&&(()=>{var ie,M,te,Fe,cr,Ia,Ma,Ky,Hy,Vy,Gy,qy,Yy,Xy,Qy,Zy,Jy,ex;const ve=d.cards||{},I=ve.cash_and_exposure,Z=ve.open_positions??d.positions??[];ve.closed_this_bar_positions??d.closed_this_bar_positions;const oe=Array.isArray(d.trades)?d.trades:ve.recent_trades??[],Ae=d.trades_total??ve.trades_total??0,le=d.last_trade_ts??ve.last_trade_ts??null,Ne=d.risk_gate||{},Ve=d.risk_strategy||null,tt=Ne.risk_label||"NORMAL",gt=Ne.mode||"ALLOW_ENTRIES",Te=Ne.entries_allowed!==!1;Ne.exits_allowed;const de=Ne.reason_text??"Portfolio is within safe limits.",Se=Array.isArray(Ne.what_to_do_now)?Ne.what_to_do_now:[];return s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"Portfolio Overview"}),s.jsx("p",{className:"portfolio-overview-intro",children:"Where do we stand right now? Snapshot as of last simulation run."}),s.jsxs("p",{className:"portfolio-overview-semantics",children:["Positions are current holdings (snapshot); trades are execution history (events).",s.jsx(D,{scope:"positions",entryKey:"snapshot",variant:"short"}),s.jsx(D,{scope:"trades",entryKey:"event",variant:"short"})]}),s.jsxs("section",{className:"portfolio-cards","aria-label":"Portfolio snapshot cards",children:[s.jsxs("div",{className:"portfolio-card portfolio-card-cash-exposure",children:[s.jsxs("h3",{className:"portfolio-card-title",children:["Cash & Exposure ",s.jsx(D,{scope:"portfolio",variant:"short"},"total_equity")]}),I?s.jsxs("dl",{className:"portfolio-card-dl",children:[s.jsxs("dt",{children:["Cash ",s.jsx(D,{scope:"portfolio",variant:"short"},"cash")]}),s.jsx("dd",{children:I.cash!=null?Number(I.cash).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsxs("dt",{children:["Exposure ",s.jsx(D,{scope:"portfolio",variant:"short"},"exposure")]}),s.jsx("dd",{children:I.exposure!=null?Number(I.exposure).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsxs("dt",{children:["Total equity ",s.jsx(D,{scope:"portfolio",variant:"short"},"total_equity")]}),s.jsx("dd",{children:I.total_equity!=null?Number(I.total_equity).toLocaleString(void 0,{minimumFractionDigits:2}):""}),I.as_of_ts&&s.jsxs("dd",{className:"portfolio-card-meta",children:["As of ",String(I.as_of_ts).slice(0,19)]})]}):s.jsx("p",{className:"portfolio-card-empty",children:"No daily data yet. Run pipeline to see cash and exposure."})]}),s.jsxs("div",{id:"portfolio-positions",className:"portfolio-card portfolio-card-positions",children:[s.jsxs("h3",{className:"portfolio-card-title",children:["Open Positions ",s.jsx(D,{scope:"positions",entryKey:"symbol",variant:"short"})]}),(ve.as_of_ts!=null||ve.current_bar_index!=null)&&s.jsxs("p",{className:"portfolio-positions-as-of",title:"Snapshot date and current bar index (daily bars)",children:[ve.as_of_ts!=null&&s.jsxs("span",{children:["As of ",String(ve.as_of_ts).slice(0,10)]}),ve.current_bar_index!=null&&s.jsxs("span",{children:[ve.as_of_ts!=null?"  ":"","Bar ",ve.current_bar_index]})]}),Array.isArray(Z)&&Z.length>0?s.jsx("div",{className:"portfolio-card-table-wrap",children:s.jsxs("table",{className:"portfolio-card-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{children:["Symbol ",s.jsx(D,{scope:"positions",entryKey:"symbol",variant:"short"})]}),s.jsxs("th",{children:["Side ",s.jsx(D,{scope:"positions",entryKey:"side",variant:"short"})]}),s.jsxs("th",{children:["Quantity ",s.jsx(D,{scope:"positions",entryKey:"quantity",variant:"short"})]}),s.jsxs("th",{children:["Cost basis ",s.jsx(D,{scope:"positions",entryKey:"cost_basis",variant:"short"})]}),s.jsx("th",{title:"Bar index when this position is scheduled to close (next to close first)",children:"Hold until (bar)"}),s.jsx("th",{title:"Calendar date when this position is scheduled to close",children:"Hold until (date)"})]})}),s.jsx("tbody",{children:[...Z].sort((z,Ue)=>{const rt=z.HOLD_UNTIL_INDEX??z.hold_until_index??0,on=Ue.HOLD_UNTIL_INDEX??Ue.hold_until_index??0;return Number(rt)-Number(on)}).slice(0,20).map((z,Ue)=>s.jsxs("tr",{children:[s.jsx("td",{children:z.SYMBOL??z.symbol}),s.jsx("td",{children:z.side_label??z.side??""}),s.jsx("td",{children:z.QUANTITY??z.quantity}),s.jsx("td",{children:z.COST_BASIS!=null?Number(z.COST_BASIS??z.cost_basis).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("td",{children:z.HOLD_UNTIL_INDEX??z.hold_until_index??""}),s.jsx("td",{children:z.hold_until_ts?String(z.hold_until_ts).slice(0,10):""})]},Ue))})]})}):s.jsx(dt,{title:"No open positions",action:"Run pipeline or wait for next run.",explanation:"This portfolio has no open positions right now. Positions are the assets (e.g. stocks) the strategy currently holds.",reasons:["The run has not opened any positions yet.","Data may be from a time before any trades.","The risk gate may be blocking new entries."]})]}),s.jsxs("div",{className:"portfolio-card portfolio-card-trades",children:[s.jsxs("h3",{className:"portfolio-card-title",children:["Trades (events) ",s.jsx(D,{scope:"trades",entryKey:"event",variant:"short"})]}),s.jsxs("div",{className:"portfolio-trades-lookback",children:[s.jsxs("label",{children:["Lookback",s.jsxs("select",{value:x,onChange:z=>g(Number(z.target.value)),"aria-label":"Trades lookback days",children:[s.jsx("option",{value:1,children:"1 day"}),s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:-1,children:"All"})]})]}),Ae>0&&s.jsxs("span",{className:"portfolio-trades-total",children:[Ae," total"]})]}),oe.length>0?s.jsx("div",{className:"portfolio-card-table-wrap",children:s.jsxs("table",{className:"portfolio-card-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{children:["Symbol ",s.jsx(D,{scope:"trades",entryKey:"symbol",variant:"short"})]}),s.jsxs("th",{children:["Side ",s.jsx(D,{scope:"trades",entryKey:"side",variant:"short"})]}),s.jsxs("th",{children:["Quantity ",s.jsx(D,{scope:"trades",entryKey:"quantity",variant:"short"})]}),s.jsxs("th",{children:["Price ",s.jsx(D,{scope:"trades",entryKey:"price",variant:"short"})]}),s.jsxs("th",{children:["Notional ",s.jsx(D,{scope:"trades",entryKey:"notional",variant:"short"})]})]})}),s.jsx("tbody",{children:oe.slice(0,20).map((z,Ue)=>{const rt=z.PRICE??z.price,on=z.QUANTITY??z.quantity,tx=rt!=null&&on!=null?Number(rt)*Number(on):z.NOTIONAL??z.notional;return s.jsxs("tr",{className:z.from_last_run?"portfolio-trade-from-last-run":void 0,title:z.from_last_run?"From latest run":void 0,children:[s.jsx("td",{children:z.SYMBOL??z.symbol}),s.jsx("td",{children:z.SIDE??z.side}),s.jsx("td",{children:z.QUANTITY??z.quantity}),s.jsx("td",{children:rt!=null?Number(rt).toLocaleString(void 0,{minimumFractionDigits:2}):""}),s.jsx("td",{children:tx!=null?Number(tx).toLocaleString(void 0,{minimumFractionDigits:2}):""})]},Ue)})})]})}):Ae>0?s.jsxs("p",{className:"portfolio-trades-no-range",children:["No trades in this range. Last trade: ",le!=null?String(le).slice(0,19):""]}):s.jsx(dt,{title:"No trades",action:"Run pipeline or wait for next run.",explanation:"Trades are execution history (events). None have been recorded for this portfolio yet.",reasons:["The run may not have executed any trades yet.","Data may be from before the first trade.","Score or threshold filters may have excluded all signals.","The risk gate may be blocking new entries."]})]}),s.jsxs("div",{className:"portfolio-card portfolio-card-risk-gate",children:[s.jsxs("h3",{className:"portfolio-card-title risk-gate-headline",title:t?((ie=fe("risk_gate","mode"))==null?void 0:ie.short)??"":void 0,children:["Risk Gate:"," ",s.jsxs("span",{className:"risk-gate-mode risk-gate-mode--current",children:[tt==="NORMAL"&&" Normal",tt==="CAUTION"&&" Caution",tt==="DEFENSIVE"&&" Defensive",tt!=="NORMAL"&&tt!=="CAUTION"&&tt!=="DEFENSIVE"&&" Normal"]}),t&&s.jsx(D,{scope:"risk_gate",entryKey:"mode",variant:"short"})]}),Ve&&s.jsxs("div",{className:"risk-strategy-block",children:[s.jsx("p",{className:"risk-strategy-summary",children:Ve.summary}),Array.isArray(Ve.rules)&&Ve.rules.length>0&&s.jsx("div",{className:"risk-strategy-rules",role:"list",children:Ve.rules.map(z=>s.jsxs("div",{className:"risk-strategy-rule",role:"listitem",children:[s.jsx("span",{className:"risk-strategy-rule-label",title:z.tooltip??void 0,children:z.label}),s.jsx("span",{className:"risk-strategy-rule-value",children:z.value})]},z.key))}),Ve.state&&s.jsxs("div",{className:"risk-strategy-state",children:[s.jsx("span",{className:`risk-strategy-chip risk-strategy-chip--${(Ve.state.state_label||"SAFE").toLowerCase()}`,children:Ve.state.state_label??"SAFE"}),Ve.state.reason_text&&s.jsx("span",{className:"risk-strategy-reason",children:Ve.state.reason_text})]})]}),s.jsx("p",{className:"risk-gate-subtext",children:gt==="ALLOW_EXITS_ONLY"?"Exits only":"Entries allowed"}),s.jsxs("dl",{className:"portfolio-card-dl risk-gate-matrix",children:[s.jsxs("dt",{children:["Open new positions ",s.jsx(D,{scope:"risk_gate",entryKey:"entries_allowed",variant:"short"})]}),s.jsx("dd",{children:Te?"Allowed":"Blocked"}),s.jsxs("dt",{children:["Close/reduce positions ",s.jsx(D,{scope:"risk_gate",entryKey:"exits_allowed",variant:"short"})]}),s.jsx("dd",{children:"Allowed"})]}),s.jsxs("p",{className:"risk-gate-reason",title:t?((M=fe("risk_gate","reason_text"))==null?void 0:M.short)??"":void 0,children:[de,t&&s.jsx(D,{scope:"risk_gate",entryKey:"reason_text",variant:"short"})]}),Se.length>0&&s.jsxs("div",{className:"risk-gate-what-to-do",title:t?((te=fe("risk_gate","what_to_do_now"))==null?void 0:te.short)??"":void 0,children:[s.jsx("span",{className:"risk-gate-what-to-do-label",children:"What to do now"}),t&&s.jsx(D,{scope:"risk_gate",entryKey:"what_to_do_now",variant:"short"}),s.jsx("ul",{className:"risk-gate-bullets",children:Se.map((z,Ue)=>s.jsx("li",{children:z},Ue))})]}),s.jsxs("div",{className:"risk-gate-actions",children:[s.jsx(ge,{to:"/suggestions",className:"risk-gate-link",children:"Open Suggestions"}),s.jsx("a",{href:"#portfolio-positions",className:"risk-gate-link",children:"View Positions"}),s.jsx("button",{type:"button",className:"risk-gate-link risk-gate-link--button",onClick:()=>b(!0),children:"How to restart episode"})]})]}),w&&s.jsx("div",{className:"risk-gate-modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"restart-modal-title",children:s.jsxs("div",{className:"risk-gate-modal",children:[s.jsx("h4",{id:"restart-modal-title",children:"How to restart a portfolio episode"}),s.jsx("p",{children:"Run the script:"}),s.jsx("code",{className:"risk-gate-modal-script",children:"MIP/SQL/scripts/restart_portfolio_episode.sql"}),s.jsxs("p",{children:["See ",s.jsx("strong",{children:"Restarting a portfolio episode"})," in the Runbook (docs/ux/73_UX_RUNBOOK.md) for full steps."]}),s.jsx("button",{type:"button",className:"risk-gate-modal-close",onClick:()=>b(!1),children:"Close"})]})}),E&&s.jsxs("div",{className:"portfolio-card portfolio-card-proposer-diagnostics",children:[s.jsx("h3",{className:"portfolio-card-title",children:"Proposer Diagnostics"}),s.jsx("p",{className:"proposer-diagnostics-subtitle",children:"Why proposals may be zero or low"}),s.jsxs("div",{className:"proposer-diagnostics-summary",children:[s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Raw Signals (latest bar)"}),s.jsx("span",{className:`proposer-stat-value ${((Fe=E.current_state)==null?void 0:Fe.candidate_count_raw)>0?"positive":"zero"}`,children:((cr=E.current_state)==null?void 0:cr.candidate_count_raw)??0})]}),s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Trusted Signals"}),s.jsx("span",{className:`proposer-stat-value ${((Ia=E.current_state)==null?void 0:Ia.candidate_count_trusted)>0?"positive":"zero"}`,children:((Ma=E.current_state)==null?void 0:Ma.candidate_count_trusted)??0})]}),s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Trusted Patterns"}),s.jsx("span",{className:`proposer-stat-value ${((Ky=E.current_state)==null?void 0:Ky.trusted_pattern_count)>0?"positive":"zero"}`,children:((Hy=E.current_state)==null?void 0:Hy.trusted_pattern_count)??0})]}),s.jsxs("div",{className:"proposer-stat",children:[s.jsx("span",{className:"proposer-stat-label",children:"Rec TS = Bar TS?"}),s.jsx("span",{className:`proposer-stat-value ${(Vy=E.current_state)!=null&&Vy.rec_ts_matches_bar_ts?"positive":"warning"}`,children:(Gy=E.current_state)!=null&&Gy.rec_ts_matches_bar_ts?"Yes":"No"})]})]}),((qy=E.proposer_events)==null?void 0:qy.length)>0&&(()=>{var Ue,rt;const z=E.proposer_events[0];return s.jsxs("div",{className:"proposer-latest-event",children:[s.jsx("h4",{children:"Latest Proposer Run"}),s.jsxs("dl",{className:"proposer-event-details",children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{className:z.status==="SUCCESS"?"positive":"neutral",children:z.status}),s.jsx("dt",{children:"Raw candidates"}),s.jsx("dd",{children:z.candidate_count_raw??0}),s.jsx("dt",{children:"Trusted candidates"}),s.jsx("dd",{children:z.candidate_count_trusted??0}),s.jsx("dt",{children:"Proposals inserted"}),s.jsx("dd",{children:z.rows_affected??0}),z.no_candidates_reason&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Reason for zero"}),s.jsx("dd",{className:"reason-code",children:z.no_candidates_reason.replace(/_/g," ")})]}),z.entries_blocked&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Entries blocked"}),s.jsx("dd",{className:"warning",children:z.stop_reason||"Yes"})]})]}),z.diagnostics&&s.jsxs("div",{className:"proposer-diagnostics-extra",children:[s.jsx("span",{className:"extra-label",children:"Bar TS:"})," ",((Ue=z.diagnostics.latest_bar_ts)==null?void 0:Ue.slice(0,10))??""," |",s.jsx("span",{className:"extra-label",children:" Rec TS:"})," ",((rt=z.diagnostics.latest_rec_ts)==null?void 0:rt.slice(0,10))??""]})]})})(),((Yy=E.rec_freshness_by_market_type)==null?void 0:Yy.length)>0&&s.jsxs("div",{className:"proposer-rec-freshness",children:[s.jsx("h4",{children:"Recommendation Freshness by Market Type"}),s.jsxs("table",{className:"proposer-freshness-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Market Type"}),s.jsx("th",{children:"Count"}),s.jsx("th",{children:"Latest TS"})]})}),s.jsx("tbody",{children:E.rec_freshness_by_market_type.map((z,Ue)=>{var rt,on;return s.jsxs("tr",{children:[s.jsx("td",{children:z.MARKET_TYPE||z.market_type}),s.jsx("td",{children:z.CNT||z.cnt}),s.jsx("td",{children:((on=(rt=z.MAX_TS||z.max_ts)==null?void 0:rt.slice)==null?void 0:on.call(rt,0,10))||z.MAX_TS||z.max_ts})]},Ue)})})]})]}),s.jsx("p",{className:"proposer-diagnostics-hint",children:s.jsx(ge,{to:"/market-timeline",children:"View full Market Timeline "})})]})]}),j&&(((Xy=j.per_episode)==null?void 0:Xy.length)>0||((Qy=j.cumulative_series)==null?void 0:Qy.length)>0)&&s.jsxs("section",{className:"portfolio-cumulative-performance","aria-label":"Cumulative performance",children:[s.jsx("h2",{children:"Cumulative Performance"}),s.jsx("p",{className:"cumulative-intro",children:"Your investment journey across all episodes. Click a bar to jump to that episode."}),s.jsxs("div",{className:"cumulative-kpi-row",children:[s.jsxs("div",{className:"cumulative-kpi-tile cumulative-kpi-tile--paidout",children:[s.jsx("span",{className:"cumulative-kpi-icon",children:""}),s.jsx("span",{className:"cumulative-kpi-label",children:"Total Paid Out"}),s.jsxs("span",{className:"cumulative-kpi-value",children:["",Number(j.total_paid_out_amount??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("span",{className:"cumulative-kpi-hint",children:"Profits withdrawn at episode ends"})]}),s.jsxs("div",{className:"cumulative-kpi-tile cumulative-kpi-tile--pnl",children:[s.jsx("span",{className:"cumulative-kpi-icon",children:""}),s.jsx("span",{className:"cumulative-kpi-label",children:"Total Realized P&L"}),s.jsxs("span",{className:`cumulative-kpi-value ${(j.total_realized_pnl??0)>=0?"positive":"negative"}`,children:["",Number(j.total_realized_pnl??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("span",{className:"cumulative-kpi-hint",children:"Cumulative profit/loss across episodes"})]}),s.jsxs("div",{className:"cumulative-kpi-tile cumulative-kpi-tile--episodes",children:[s.jsx("span",{className:"cumulative-kpi-icon",children:""}),s.jsx("span",{className:"cumulative-kpi-label",children:"Episodes"}),s.jsx("span",{className:"cumulative-kpi-value",children:j.episode_count??((Zy=j.per_episode)==null?void 0:Zy.length)??0}),s.jsx("span",{className:"cumulative-kpi-hint",children:"Profile generations"})]})]}),((Jy=j.cumulative_series)==null?void 0:Jy.length)>0&&s.jsxs("div",{className:"portfolio-cumulative-chart",children:[s.jsx("h4",{className:"chart-section-title",children:"Cumulative Growth Over Time"}),s.jsx(Yr,{width:"100%",height:220,children:s.jsxs(Bf,{data:j.cumulative_series.map(z=>({ts:z.ts,paid_out:z.cum_distributed_amount,realized_pnl:z.cum_realized_pnl})),margin:{top:8,right:8,left:0,bottom:4},children:[s.jsx($i,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Ir,{dataKey:"ts",tick:{fontSize:10},tickFormatter:z=>String(z).slice(0,10)}),s.jsx(vr,{tick:{fontSize:10},tickFormatter:z=>Number(z).toLocaleString(void 0,{maximumFractionDigits:0}),width:48}),s.jsx(Xr,{formatter:(z,Ue)=>[`${Number(z).toLocaleString(void 0,{minimumFractionDigits:2})}`,Ue],labelFormatter:z=>String(z).slice(0,10)}),s.jsx(Ii,{y:0,stroke:"#666",strokeDasharray:"2 2"}),s.jsx(wn,{type:"monotone",dataKey:"paid_out",stroke:"#2e7d32",strokeWidth:2,dot:!1,name:"Paid out"}),s.jsx(wn,{type:"monotone",dataKey:"realized_pnl",stroke:"#1565c0",strokeWidth:2,dot:!1,name:"Realized P&L"})]})}),s.jsxs("p",{className:"portfolio-cumulative-chart-legend",children:[s.jsx("span",{className:"legend-dot",style:{background:"#2e7d32"}})," Paid out",s.jsx("span",{className:"legend-dot",style:{background:"#1565c0"}})," Realized P&L"]})]}),((ex=j.per_episode)==null?void 0:ex.length)>0&&s.jsxs("div",{className:"portfolio-cumulative-bars",children:[s.jsx("h4",{className:"chart-section-title",children:"P&L by Episode"}),s.jsx(Yr,{width:"100%",height:140,children:s.jsxs(no,{data:j.per_episode.map(z=>({episode_id:z.episode_id,name:`Ep. ${z.episode_id}`,pnl:z.realized_pnl??0,lifecycle:z.lifecycle_label??(z.status==="ACTIVE"?"Active":"Ended"),status:z.status})),margin:{top:4,right:8,left:0,bottom:4},children:[s.jsx($i,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Ir,{dataKey:"name",tick:{fontSize:9}}),s.jsx(vr,{tick:{fontSize:10},width:48,tickFormatter:z=>Number(z).toLocaleString(void 0,{maximumFractionDigits:0})}),s.jsx(Xr,{formatter:(z,Ue,rt)=>[`${Number(z).toLocaleString(void 0,{minimumFractionDigits:2})}`,rt.payload.lifecycle],labelFormatter:z=>z}),s.jsx(Ii,{y:0,stroke:"#666"}),s.jsx(na,{dataKey:"pnl",name:"P&L",onClick:z=>{const Ue=z==null?void 0:z.episode_id;if(Ue){const rt=document.getElementById(`episode-card-${Ue}`);rt&&rt.scrollIntoView({behavior:"smooth",block:"center"})}},cursor:"pointer",children:j.per_episode.map(z=>{const Ue=z.realized_pnl??0,rt=z.status==="ACTIVE";let on=Ue>=0?"#2e7d32":"#c62828";return rt&&(on="#1565c0"),s.jsx(Ll,{fill:on},z.episode_id)})})]})}),s.jsx("p",{className:"bar-chart-hint",children:"Click a bar to scroll to that episode card below."})]})]}),_.length>0&&s.jsxs("section",{className:"episode-list-section","aria-label":"Episode timeline",children:[s.jsx("h2",{children:"Episodes"}),s.jsx("p",{className:"portfolio-overview-intro",children:"Profile generations and resets. Expand a card to see equity, drawdown, trades per day, and risk regime."}),s.jsx("div",{className:"episode-list",children:_.map(z=>{const Ue=z.episode_id??z.EPISODE_ID;return s.jsx("div",{id:`episode-card-${Ue}`,children:s.jsx(yG,{episode:z,portfolioId:Number(e),isActive:z.status==="ACTIVE"||z.STATUS==="ACTIVE"})},Ue)})})]})]})})()]})}return o.length===0?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Portfolios"}),s.jsx(dt,{title:"No portfolios yet",action:s.jsxs(s.Fragment,{children:["Run pipeline, then ",s.jsx(ge,{to:"/runs",children:"check Runs"}),"."]}),explanation:"Portfolios are created by the pipeline. Run the daily pipeline, then check Audit Viewer for runs.",reasons:["Pipeline has not run yet.","No portfolios have been created in MIP.APP.PORTFOLIO."]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Portfolio Control Tower"}),s.jsxs("p",{className:"control-tower-intro",children:["Monitor all portfolios at a glance. ",s.jsx("strong",{children:"Gate"})," = risk regime (entries allowed?). ",s.jsx("strong",{children:"Health"})," = data freshness."]}),s.jsx("div",{className:"control-tower-table-wrap",children:s.jsxs("table",{className:"control-tower-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{className:"col-id",children:"ID"}),s.jsx("th",{className:"col-gate",title:"Risk regime: SAFE = entries allowed, CAUTION = approaching threshold, STOPPED = entries blocked",children:"Gate"}),s.jsx("th",{className:"col-health",title:"Data freshness: OK = recent run, STALE = older than 24h, BROKEN = very old or failed",children:"Health"}),s.jsx("th",{className:"col-equity",title:"Latest total equity from last simulation",children:"Equity"}),s.jsx("th",{className:"col-paidout",title:"Cumulative profits withdrawn across all episodes",children:"Paid Out"}),s.jsx("th",{className:"col-episode",children:"Active Episode"}),s.jsx("th",{className:"col-status",children:"Status"})]})}),s.jsx("tbody",{children:o.map(A=>{const L=(A.GATE_STATE??A.gate_state??"SAFE").toUpperCase(),F=A.gate_tooltip??(L==="STOPPED"?"Entries blocked":L==="CAUTION"?"Approaching threshold":"Entries allowed"),Q=(A.health_state??"OK").toUpperCase(),J=A.health_reason??"",ne=A.active_episode,pe=ne?`#${ne.episode_id??""} since ${(ne.start_ts??"").toString().slice(0,10)}`:"",je=A.latest_equity??A.FINAL_EQUITY??A.final_equity??0,be=A.total_paid_out??A.TOTAL_PAID_OUT??0,me=A.STATUS??A.status??"ACTIVE";return s.jsxs("tr",{className:`control-tower-row control-tower-row--gate-${L.toLowerCase()}`,children:[s.jsx("td",{className:"col-name",children:s.jsx(ge,{to:`/portfolios/${A.PORTFOLIO_ID??A.portfolio_id}`,children:A.NAME??A.name})}),s.jsx("td",{className:"col-id",children:A.PORTFOLIO_ID??A.portfolio_id}),s.jsxs("td",{className:"col-gate",children:[s.jsx("span",{className:`traffic-light traffic-light--${L.toLowerCase()}`,title:F}),s.jsx("span",{className:"traffic-label",children:L})]}),s.jsxs("td",{className:"col-health",children:[s.jsx("span",{className:`traffic-light traffic-light--${Q.toLowerCase()}`,title:J}),s.jsx("span",{className:"traffic-label",children:Q})]}),s.jsxs("td",{className:"col-equity",children:["",Number(je).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),s.jsx("td",{className:"col-paidout",children:be>0?s.jsxs("span",{className:"paidout-value",children:["",Number(be).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}):s.jsx("span",{className:"paidout-zero",children:""})}),s.jsx("td",{className:"col-episode",children:pe}),s.jsx("td",{className:"col-status",children:s.jsx("span",{className:`status-chip status-chip--${me.toLowerCase()}`,children:me})})]},A.PORTFOLIO_ID??A.portfolio_id)})})]})})]})}function Ul({status:e,showTooltip:t=!1}){var a,o,l,u,c,d;const{explainMode:r}=Pt(),n=r&&t?(a=fe("ui","status_badge"))==null?void 0:a.long:void 0,i=(o=e==null?void 0:e.toUpperCase())!=null&&o.includes("FAIL")||(l=e==null?void 0:e.toUpperCase())!=null&&l.includes("ERROR")?"status-badge--error":(u=e==null?void 0:e.toUpperCase())!=null&&u.includes("SKIP")||(c=e==null?void 0:e.toUpperCase())!=null&&c.includes("RUNNING")?"status-badge--warning":(d=e==null?void 0:e.toUpperCase())!=null&&d.includes("SUCCESS")?"status-badge--success":"";return s.jsx("span",{className:`status-badge ${i}`,title:n,children:e??""})}function ca({text:e,label:t="Copy"}){const[r,n]=p.useState(!1),i=p.useCallback(async()=>{try{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)}catch(a){console.error("Failed to copy:",a)}},[e]);return s.jsx("button",{className:"copy-button",onClick:i,title:r?"Copied!":`Copy ${t}`,children:r?" Copied":t})}function bG({filters:e,setFilters:t,onSearch:r}){const{explainMode:n}=Pt();return s.jsxs("div",{className:"run-filters",children:[s.jsxs("div",{className:"run-filters__row",children:[s.jsxs("select",{value:e.status,onChange:i=>t({...e,status:i.target.value}),className:"run-filters__select",title:n?"Filter runs by their final status":void 0,children:[s.jsx("option",{value:"",children:"All statuses"}),s.jsx("option",{value:"FAIL",children:"Failed"}),s.jsx("option",{value:"SUCCESS",children:"Success"}),s.jsx("option",{value:"SUCCESS_WITH_SKIPS",children:"Success with skips"}),s.jsx("option",{value:"RUNNING",children:"Running"})]}),s.jsx("input",{type:"date",value:e.fromDate,onChange:i=>t({...e,fromDate:i.target.value}),className:"run-filters__date",title:n?"Filter runs started after this date":void 0}),s.jsx("input",{type:"date",value:e.toDate,onChange:i=>t({...e,toDate:i.target.value}),className:"run-filters__date",title:n?"Filter runs started before this date":void 0})]}),s.jsx("button",{onClick:r,className:"run-filters__search",children:"Apply Filters"})]})}function _G({run:e,isSelected:t,onClick:r}){var a;const{explainMode:n}=Pt(),i=o=>o?new Date(o).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return s.jsxs("div",{className:`run-list-item ${t?"run-list-item--selected":""} ${e.has_errors?"run-list-item--error":""}`,onClick:r,role:"button",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),r())},title:n?"Click to view run details":void 0,children:[s.jsxs("div",{className:"run-list-item__header",children:[s.jsx(Ul,{status:e.status,showTooltip:!0}),s.jsx("span",{className:"run-list-item__time",children:i(e.started_at)})]}),s.jsxs("div",{className:"run-list-item__id",title:e.run_id,children:[(a=e.run_id)==null?void 0:a.slice(0,8),"..."]}),e.summary_hint&&s.jsx("div",{className:"run-list-item__hint",children:e.summary_hint}),e.error_count>0&&s.jsxs("div",{className:"run-list-item__errors",children:[e.error_count," error",e.error_count>1?"s":""]})]})}function jG({steps:e,selectedStep:t,onSelectStep:r}){const{explainMode:n}=Pt();return!e||e.length===0?s.jsx("p",{className:"step-timeline__empty",children:"No steps recorded."}):s.jsx("div",{className:"step-timeline",title:n?"Pipeline execution steps in order":void 0,children:e.map((i,a)=>{var c,d,f,h,m,v;const o=t===a,l=((d=(c=i.status)==null?void 0:c.toUpperCase())==null?void 0:d.includes("FAIL"))||((h=(f=i.status)==null?void 0:f.toUpperCase())==null?void 0:h.includes("ERROR")),u=(v=(m=i.status)==null?void 0:m.toUpperCase())==null?void 0:v.includes("SKIP");return s.jsxs("div",{className:`step-timeline__item ${o?"step-timeline__item--selected":""} ${l?"step-timeline__item--failed":""} ${u?"step-timeline__item--skipped":""}`,onClick:()=>r(a),role:"button",tabIndex:0,onKeyDown:y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),r(a))},children:[s.jsx("div",{className:"step-timeline__indicator",children:l?"":u?"":""}),s.jsxs("div",{className:"step-timeline__content",children:[s.jsx("div",{className:"step-timeline__name",children:i.step_name||i.event_name}),s.jsxs("div",{className:"step-timeline__meta",children:[s.jsx(Ul,{status:i.status}),i.duration_ms!=null&&s.jsxs("span",{className:"step-timeline__duration",children:[(i.duration_ms/1e3).toFixed(1),"s"]}),i.portfolio_id!=null&&s.jsxs("span",{className:"step-timeline__portfolio",children:["Portfolio ",i.portfolio_id]})]})]})]},a)})})}function SG({step:e}){var n,i,a,o;const{explainMode:t}=Pt();if(!e)return s.jsx("div",{className:"step-detail step-detail--empty",children:s.jsx("p",{children:"Select a step to view details"})});const r=((i=(n=e.status)==null?void 0:n.toUpperCase())==null?void 0:i.includes("FAIL"))||((o=(a=e.status)==null?void 0:a.toUpperCase())==null?void 0:o.includes("ERROR"));return s.jsxs("div",{className:`step-detail ${r?"step-detail--failed":""}`,children:[s.jsx("h4",{children:e.step_name||e.event_name}),s.jsxs("dl",{className:"step-detail__dl",children:[s.jsx("dt",{title:t?"Final status of this step":void 0,children:"Status"}),s.jsx("dd",{children:s.jsx(Ul,{status:e.status})}),e.duration_ms!=null&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{title:t?"Time taken to execute this step":void 0,children:"Duration"}),s.jsxs("dd",{children:[(e.duration_ms/1e3).toFixed(2),"s (",e.duration_ms,"ms)"]})]}),e.rows_affected!=null&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{title:t?"Number of database rows affected":void 0,children:"Rows Affected"}),s.jsx("dd",{children:e.rows_affected})]}),e.portfolio_id!=null&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Portfolio ID"}),s.jsx("dd",{children:e.portfolio_id})]}),e.started_at&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Started"}),s.jsx("dd",{children:e.started_at})]}),e.completed_at&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Completed"}),s.jsx("dd",{children:e.completed_at})]})]}),r&&e.error_message&&s.jsxs("div",{className:"step-detail__error",children:[s.jsx("h5",{children:"Error Details"}),s.jsxs("div",{className:"step-detail__error-message",children:[s.jsx("code",{children:e.error_message}),s.jsx(ca,{text:e.error_message,label:"Copy Error"})]}),e.error_sqlstate&&s.jsxs("div",{className:"step-detail__error-meta",children:[s.jsxs("span",{children:["SQLSTATE: ",s.jsx("code",{children:e.error_sqlstate})]}),s.jsx(ca,{text:e.error_sqlstate,label:"Copy"})]}),e.error_query_id&&s.jsxs("div",{className:"step-detail__error-meta",children:[s.jsxs("span",{children:["Query ID: ",s.jsx("code",{children:e.error_query_id})]}),s.jsx(ca,{text:e.error_query_id,label:"Copy"})]})]})]})}function PG({errors:e,debugSql:t}){const{explainMode:r}=Pt(),[n,i]=p.useState(!1),[a,o]=p.useState("all_events");return!e||e.length===0?null:s.jsxs("div",{className:"error-panel",children:[s.jsxs("h3",{className:"error-panel__title",children:["Errors (",e.length,")",s.jsx(D,{scope:"audit",entry:"error_details",variant:"short"})]}),e.map((l,u)=>s.jsxs("div",{className:"error-panel__item",children:[s.jsxs("div",{className:"error-panel__header",children:[s.jsx("span",{className:"error-panel__event",children:l.event_name}),s.jsx("span",{className:"error-panel__time",children:l.event_ts})]}),s.jsxs("div",{className:"error-panel__message",children:[s.jsx("code",{children:l.error_message}),s.jsx(ca,{text:l.error_message,label:"Copy"})]}),s.jsxs("div",{className:"error-panel__meta",children:[l.error_sqlstate&&s.jsxs("span",{title:r?"SQL error state code from Snowflake":void 0,children:["SQLSTATE: ",s.jsx("code",{children:l.error_sqlstate})]}),l.error_query_id&&s.jsxs("span",{title:r?"Snowflake query ID - use to look up in QUERY_HISTORY":void 0,children:["Query ID: ",s.jsx("code",{children:l.error_query_id}),s.jsx(ca,{text:l.error_query_id,label:"Copy"})]})]})]},u)),t&&s.jsxs("div",{className:"error-panel__debug",children:[s.jsx("button",{className:"error-panel__debug-toggle",onClick:()=>i(!n),children:n?" Hide Debug SQL":" Show Debug SQL"}),n&&s.jsxs("div",{className:"error-panel__debug-content",children:[s.jsx("div",{className:"error-panel__debug-tabs",children:Object.keys(t).map(l=>s.jsx("button",{className:`error-panel__debug-tab ${a===l?"error-panel__debug-tab--active":""}`,onClick:()=>o(l),children:l.replace(/_/g," ")},l))}),s.jsxs("div",{className:"error-panel__debug-sql",children:[s.jsx("pre",{children:t[a]}),s.jsx(ca,{text:t[a],label:"Copy SQL"})]})]})]})]})}function kG({runDetail:e}){const{explainMode:t}=Pt();if(!e)return null;const r=e.timeline||[],n=r[0],i=r[r.length-1];n==null||n.EVENT_TS,i==null||i.EVENT_TS;const a=i==null?void 0:i.STATUS,o=e.total_duration_ms;let l=null;for(const c of r){const d=c.DETAILS;if(d!=null&&d.effective_to_ts){l=d.effective_to_ts;break}}const u=new Set;for(const c of e.steps||[])c.portfolio_id&&u.add(c.portfolio_id);return s.jsxs("div",{className:"run-summary-cards",children:[s.jsxs("div",{className:"run-summary-card",title:t?"Final status of the pipeline run":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Status"}),s.jsx("div",{className:"run-summary-card__value",children:s.jsx(Ul,{status:a,showTooltip:!0})})]}),s.jsxs("div",{className:"run-summary-card",title:t?"Total time from start to finish":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Duration"}),s.jsx("div",{className:"run-summary-card__value",children:o!=null?`${(o/1e3).toFixed(1)}s`:""})]}),s.jsxs("div",{className:"run-summary-card",title:t?"Market data timestamp the pipeline processed up to":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"As-of"}),s.jsx("div",{className:"run-summary-card__value run-summary-card__value--small",children:l?new Date(l).toLocaleString():""})]}),s.jsxs("div",{className:"run-summary-card",title:t?"Number of portfolios processed":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Portfolios"}),s.jsx("div",{className:"run-summary-card__value",children:u.size||""})]}),e.error_count>0&&s.jsxs("div",{className:"run-summary-card run-summary-card--error",title:t?"Number of failed steps":void 0,children:[s.jsx("div",{className:"run-summary-card__label",children:"Errors"}),s.jsx("div",{className:"run-summary-card__value",children:e.error_count})]})]})}function oj(){var E,C;const{runId:e}=N1(),t=Do(),[r,n]=gl(),{explainMode:i}=Pt(),{setContext:a}=Pr(),[o,l]=p.useState([]),[u,c]=p.useState(e||null),[d,f]=p.useState(null),[h,m]=p.useState(null),[v,y]=p.useState(!0),[x,g]=p.useState(!1),[w,b]=p.useState(null),[_,P]=p.useState({status:r.get("status")||"",fromDate:r.get("from")||"",toDate:r.get("to")||""});p.useEffect(()=>{a(pM)},[a]);const j=p.useCallback(async()=>{y(!0),b(null);try{const O=new URLSearchParams;O.set("limit","50"),_.status&&O.set("status",_.status),_.fromDate&&O.set("from_ts",new Date(_.fromDate).toISOString()),_.toDate&&O.set("to_ts",new Date(_.toDate).toISOString());const W=await fetch(`${ae}/runs?${O}`);if(!W.ok)throw new Error(W.statusText);const B=await W.json();l(B),!u&&B.length>0&&c(B[0].run_id)}catch(O){b(O.message)}finally{y(!1)}},[_,u]),k=p.useCallback(async O=>{if(!O){f(null);return}g(!0);try{const W=await fetch(`${ae}/runs/${encodeURIComponent(O)}`);if(!W.ok)throw new Error(W.statusText);const B=await W.json();if(f(B),m(null),B.failed_step){const K=(B.steps||[]).findIndex(H=>H.event_ts===B.failed_step.event_ts&&H.step_name===B.failed_step.step_name);K>=0&&m(K)}}catch(W){console.error("Failed to load run detail:",W)}finally{g(!1)}},[]);p.useEffect(()=>{j()},[]),p.useEffect(()=>{k(u)},[u,k]),p.useEffect(()=>{u&&u!==e&&t(`/runs/${encodeURIComponent(u)}`,{replace:!0})},[u,e,t]);const S=()=>{const O=new URLSearchParams;_.status&&O.set("status",_.status),_.fromDate&&O.set("from",_.fromDate),_.toDate&&O.set("to",_.toDate),n(O),j()},N=O=>{c(O)};return v&&o.length===0?s.jsxs("div",{className:"run-explorer",children:[s.jsx("h1",{children:"Run Explorer"}),s.jsx(wr,{})]}):w&&o.length===0?s.jsxs("div",{className:"run-explorer",children:[s.jsx("h1",{children:"Run Explorer"}),s.jsx(tn,{message:w})]}):s.jsxs("div",{className:"run-explorer",children:[s.jsxs("h1",{children:["Run Explorer ",s.jsx(D,{scope:"audit",entry:"run_explorer",variant:"short"})]}),s.jsxs("div",{className:"run-explorer__layout",children:[s.jsxs("div",{className:"run-explorer__left",children:[s.jsx(bG,{filters:_,setFilters:P,onSearch:S}),s.jsx("div",{className:"run-list",children:o.length===0?s.jsx(dt,{title:"No runs found",action:"Adjust filters or run the pipeline.",explanation:"Pipeline runs appear here after SP_RUN_DAILY_PIPELINE executes.",reasons:["No runs match filters.","Pipeline has not run yet."]}):o.map(O=>s.jsx(_G,{run:O,isSelected:u===O.run_id,onClick:()=>N(O.run_id)},O.run_id))})]}),s.jsx("div",{className:"run-explorer__right",children:x?s.jsx(wr,{}):d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"run-detail-header",children:s.jsxs("h2",{title:u,children:["Run: ",u==null?void 0:u.slice(0,12),"...",s.jsx(ca,{text:u,label:"Copy ID"})]})}),s.jsx(kG,{runDetail:d}),d.run_summary&&s.jsxs("section",{className:"run-summary-narrative",children:[s.jsx("h3",{children:d.run_summary.headline}),s.jsxs("dl",{children:[s.jsx("dt",{children:"What happened"}),s.jsx("dd",{children:d.run_summary.what_happened}),s.jsx("dt",{children:"Why"}),s.jsx("dd",{children:d.run_summary.why}),s.jsx("dt",{children:"Impact"}),s.jsx("dd",{children:d.run_summary.impact}),d.run_summary.next_check&&s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:"Next check"}),s.jsx("dd",{children:d.run_summary.next_check})]})]})]}),s.jsx(PG,{errors:d.errors,debugSql:d.debug_sql}),s.jsxs("section",{className:"run-steps-section",children:[s.jsxs("h3",{children:["Step Timeline",s.jsx(D,{scope:"audit",entry:"step_timeline",variant:"short"})]}),s.jsxs("div",{className:"run-steps-layout",children:[s.jsx(jG,{steps:d.steps,selectedStep:h,onSelectStep:m}),s.jsx(SG,{step:h!=null?d.steps[h]:null})]})]}),s.jsxs("details",{className:"raw-timeline-section",children:[s.jsxs("summary",{children:["Raw Timeline (",((E=d.timeline)==null?void 0:E.length)||0," events)"]}),s.jsxs("div",{className:"raw-timeline-wrap",children:[s.jsxs("table",{className:"raw-timeline-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Event"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Duration"}),s.jsx("th",{children:"Error"})]})}),s.jsx("tbody",{children:(d.timeline||[]).slice(0,100).map((O,W)=>{var K,H,X,A;const B=((H=(K=O.STATUS)==null?void 0:K.toUpperCase())==null?void 0:H.includes("FAIL"))||((A=(X=O.STATUS)==null?void 0:X.toUpperCase())==null?void 0:A.includes("ERROR"));return s.jsxs("tr",{className:B?"raw-timeline-row--failed":"",children:[s.jsx("td",{children:O.EVENT_TS}),s.jsx("td",{children:O.EVENT_TYPE}),s.jsx("td",{children:O.EVENT_NAME}),s.jsx("td",{children:s.jsx(Ul,{status:O.STATUS})}),s.jsx("td",{children:O.DURATION_MS!=null?`${O.DURATION_MS}ms`:""}),s.jsx("td",{className:"raw-timeline-error",children:O.ERROR_MESSAGE?s.jsxs("span",{title:O.ERROR_MESSAGE,children:[O.ERROR_MESSAGE.slice(0,50),O.ERROR_MESSAGE.length>50?"...":""]}):""})]},W)})})]}),(((C=d.timeline)==null?void 0:C.length)||0)>100&&s.jsxs("p",{className:"raw-timeline-more",children:["Showing first 100 of ",d.timeline.length," events."]})]})]})]}):s.jsx("div",{className:"run-explorer__empty",children:s.jsx("p",{children:"Select a run to view details"})})})]})]})}function EG({status:e}){const t={SAFE:{className:"status-safe",icon:"",label:"Safe"},CAUTION:{className:"status-caution",icon:"",label:"Caution"},STOPPED:{className:"status-stopped",icon:"",label:"Stopped"}},r=t[e]||t.SAFE;return s.jsxs("span",{className:`status-badge ${r.className}`,children:[s.jsx("span",{className:"status-icon",children:r.icon}),r.label]})}function Pu({value:e,format:t="number",invert:r=!1}){if(e==null)return s.jsx("span",{className:"delta-indicator neutral",children:""});const n=r?e<0:e>0,i=r?e>0:e<0,a=n?"positive":i?"negative":"neutral",o=n?"":i?"":"";let l;return t==="percent"?l=`${(e*100).toFixed(2)}%`:t==="currency"?l=`$${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:l=typeof e=="number"?e.toLocaleString():e,s.jsxs("span",{className:`delta-indicator ${a}`,children:[o," ",l]})}function NG({trades:e,source:t,portfolioId:r,verificationStatus:n,briefRecordCount:i,executedLabel:a,onClose:o}){p.useEffect(()=>{const f=h=>{h.key==="Escape"&&o()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[o]);const l=a==="actions"?"Actions":"Trades",u=n==="VERIFIED",c=n==="MISMATCH",d=n==="EMPTY";return s.jsx("div",{className:"modal-backdrop",onClick:o,children:s.jsxs("div",{className:"modal-content executed-trades-modal",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h2",{children:["Executed ",l," (",e.length,")"]}),s.jsx("button",{type:"button",className:"modal-close",onClick:o,"aria-label":"Close",children:""})]}),u&&s.jsxs("div",{className:"modal-verification verified",children:[s.jsx("span",{className:"verification-icon",children:""}),s.jsxs("span",{children:["Verified: ",e.length," trade",e.length!==1?"s":""," found in PORTFOLIO_TRADES"]})]}),c&&s.jsxs("div",{className:"modal-verification mismatch",children:[s.jsx("span",{className:"verification-icon",children:""}),s.jsxs("span",{children:["Brief record shows ",i," but trade table shows ",e.length]})]}),d&&i>0&&s.jsxs("div",{className:"modal-verification unverified",children:[s.jsx("span",{className:"verification-icon",children:"?"}),s.jsxs("span",{children:["Trade history unavailable. Showing ",i," action",i!==1?"s":""," from brief record (may have been cleared by reset)."]})]}),s.jsxs("p",{className:"modal-source",children:["Source: ",t]}),s.jsx("div",{className:"modal-body",children:e.length===0?s.jsx("p",{className:"no-trades",children:d&&i>0?`The brief recorded ${i} action${i!==1?"s":""}, but trade history is unavailable (possibly cleared by portfolio reset).`:"No executed trades in this brief."}):s.jsxs("table",{className:"trades-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Symbol"}),s.jsx("th",{children:"Side"}),s.jsx("th",{children:"Qty"}),s.jsx("th",{children:"Price"}),s.jsx("th",{children:"Notional"}),!d&&s.jsx("th",{children:"Run ID"})]})}),s.jsx("tbody",{children:e.map((f,h)=>s.jsxs("tr",{children:[s.jsx("td",{children:f.trade_ts?new Date(f.trade_ts).toLocaleString():""}),s.jsx("td",{className:"trade-symbol",children:f.symbol}),s.jsx("td",{className:`trade-side ${(f.side||"").toLowerCase()}`,children:f.side}),s.jsx("td",{children:f.quantity!=null?f.quantity.toLocaleString():""}),s.jsx("td",{children:f.price!=null?`$${Number(f.price).toLocaleString()}`:""}),s.jsx("td",{children:f.notional!=null?`$${Number(f.notional).toLocaleString()}`:""}),!d&&s.jsx("td",{className:"trade-run-id",children:f.run_id?f.run_id.slice(0,8):""})]},f.trade_id||h))})]})}),s.jsx("div",{className:"modal-footer",children:s.jsx(ge,{to:`/portfolios/${r}`,className:"view-all-link",onClick:o,children:"View all trades in Portfolio "})})]})})}function OG({reason:e}){return s.jsx("span",{className:"stale-badge",title:e||"Brief is from an older pipeline run",children:"STALE"})}function AG(){return s.jsx("span",{className:"current-badge",title:"Brief is from the latest pipeline run",children:"CURRENT"})}function TG({warning:e}){return s.jsxs("div",{className:"reset-warning-banner",role:"alert",children:[s.jsx("span",{className:"warning-icon",children:""}),s.jsx("span",{className:"warning-text",children:e})]})}function CG({status:e}){return e==="VERIFIED"?s.jsx("span",{className:"verification-badge verified",title:"Count verified against PORTFOLIO_TRADES",children:""}):e==="MISMATCH"?s.jsx("span",{className:"verification-badge mismatch",title:"Brief record differs from trade table",children:""}):e==="EMPTY"||e==="UNVERIFIABLE"?s.jsx("span",{className:"verification-badge unverified",title:"Trade history unavailable",children:"?"}):null}function IG({actions:e}){return e?s.jsxs("section",{className:"brief-card portfolio-actions-card","aria-label":"Portfolio Actions",children:[s.jsx("h2",{children:"Portfolio State (Live)"}),s.jsx("p",{className:"card-subtitle",children:"Current state from portfolio tables, not brief record"}),s.jsxs("div",{className:"actions-grid",children:[s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Open Positions"}),s.jsx("span",{className:"action-value",children:e.open_positions??0})]}),s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Trades This Run"}),s.jsx("span",{className:"action-value",children:e.trades_this_run??0})]}),s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Last Trade"}),s.jsx("span",{className:"action-value",children:e.last_trade_ts?new Date(e.last_trade_ts).toLocaleString():""})]}),s.jsxs("div",{className:"action-item",children:[s.jsx("span",{className:"action-label",children:"Last Simulation Run"}),s.jsx("span",{className:"action-value",children:s.jsx("code",{children:e.last_simulation_run_id?e.last_simulation_run_id.slice(0,8)+"...":""})})]})]})]}):null}function MG({brief:e,onShowTrades:t}){const{summary:r,as_of_ts:n,created_at:i,pipeline_run_id:a,is_stale:o,stale_reason:l,is_before_reset:u,reset_warning:c}=e,d=r.executed_count>0,f=r.executed_label||"trades",h=r.executed_trades_note,m=r.verification_status||"UNVERIFIABLE",v=d?`${r.executed_count} ${f==="actions"?"action":"trade"}${r.executed_count!==1?"s":""}`:h?` (${h})`:"0 trades",y=d||m==="EMPTY"&&r.brief_record_count>0;return s.jsxs("section",{className:"brief-card executive-summary","aria-label":"Executive Summary",children:[s.jsxs("div",{className:"summary-title-row",children:[s.jsx("h2",{children:"Executive Summary"}),o?s.jsx(OG,{reason:l}):s.jsx(AG,{})]}),u&&c&&s.jsx(TG,{warning:c}),s.jsxs("div",{className:"summary-header",children:[s.jsx(EG,{status:r.status}),s.jsxs("span",{className:"entries-badge",children:["Entries: ",r.entries_allowed?s.jsx("span",{className:"entries-yes",children:"Allowed"}):s.jsx("span",{className:"entries-no",children:"Blocked"})]}),s.jsxs("span",{className:"suggestions-count",children:[r.new_suggestions_today," suggestion",r.new_suggestions_today!==1?"s":""," today"]})]}),s.jsx("p",{className:"summary-explanation",children:r.explanation}),s.jsxs("div",{className:"summary-meta",children:[s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"As of (market date):"})," ",n?new Date(n).toLocaleString():""]}),s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"Generated at:"})," ",i?new Date(i).toLocaleString():""]}),s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"Run ID:"})," ",s.jsx("code",{children:a?a.length>12?`${a.slice(0,8)}...`:a:""})]}),y?s.jsxs("button",{type:"button",className:"meta-item executed-link",onClick:t,title:h||r.executed_trades_source||"Click to see details",children:[s.jsx("strong",{children:"Executed:"})," ",v,s.jsx(CG,{status:m}),h&&s.jsxs("span",{className:"executed-note",children:[" (",h,")"]})]}):s.jsxs("span",{className:"meta-item",children:[s.jsx("strong",{children:"Executed:"})," ",v]})]})]})}function DG(e,t,r,n){const i=new URLSearchParams;t&&i.set("portfolioId",String(t)),r&&i.set("asOf",r),n&&i.set("pipelineRunId",n),e.market_type&&i.set("market_type",e.market_type),e.symbol&&e.symbol!==""&&i.set("symbol",e.symbol),e.pattern_id&&i.set("pattern_id",String(e.pattern_id)),e.horizon_bars&&i.set("horizon_bars",String(e.horizon_bars)),e.trust_label&&i.set("trust_label",e.trust_label),i.set("from","brief");const a=i.toString();return a?`/signals?${a}`:"/signals"}function RG({opportunity:e,portfolioId:t,asOfTs:r,pipelineRunId:n}){const{symbol:i,side:a,market_type:o,horizon_bars:l,interval_minutes:u,confidence:c,why:d,pattern_id:f,status:h,target_weight:m,is_proposal:v}=e,y=DG(e,t,r,n),x=i&&i!==""?i:f?`Pattern ${f}`:"",g=v&&i&&i!==""?`/market-timeline?symbol=${i}&market_type=${o}`:y,w=v?"View in Market Timeline ":"View in Signals ",b=h==="EXECUTED"?"status-executed":h==="APPROVED"?"status-approved":h==="REJECTED"?"status-rejected":"status-proposed";return s.jsxs("div",{className:`opportunity-card ${v?"is-proposal":"is-pattern"}`,children:[s.jsxs("div",{className:"opp-header",children:[s.jsxs("span",{className:"opp-symbol-title",children:[s.jsx("strong",{children:x}),"  ",a]}),v&&h&&s.jsx("span",{className:`opp-status ${b}`,children:h}),!v&&s.jsx("span",{className:`opp-confidence confidence-${(c||"low").toLowerCase()}`,children:c})]}),s.jsxs("div",{className:"opp-details",children:[s.jsx("span",{className:"opp-market",children:o}),m&&s.jsxs("span",{className:"opp-weight",children:[(m*100).toFixed(1),"% weight"]}),f&&s.jsxs("span",{className:"opp-pattern",children:["Pattern ",f]}),l&&s.jsxs("span",{className:"opp-horizon",children:[l," bar",l!==1?"s":""]})]}),s.jsx("p",{className:"opp-why",children:d}),s.jsx("div",{className:"opp-actions",children:s.jsx(ge,{to:g,className:"opp-link",children:w})})]})}function LG({opportunities:e,portfolioId:t,asOfTs:r,pipelineRunId:n}){const i=(e==null?void 0:e.filter(l=>l.is_proposal).length)||0,a=(e==null?void 0:e.filter(l=>!l.is_proposal).length)||0;if(!e||e.length===0)return s.jsxs("section",{className:"brief-card opportunities-section","aria-label":"Opportunities",children:[s.jsx("h2",{children:"Today's Proposals"}),s.jsxs("div",{className:"empty-opportunities",children:[s.jsx("p",{className:"empty-title",children:"No proposals today"}),s.jsx("p",{className:"empty-explanation",children:"Likely reasons: no new bars, no eligible signals, or risk gate blocked entries."})]})]});const o=i>0?`${i} proposal${i!==1?"s":""} generated this run`:`Showing ${a} trusted pattern${a!==1?"s":""} (no proposals yet)`;return s.jsxs("section",{className:"brief-card opportunities-section","aria-label":"Opportunities",children:[s.jsxs("h2",{children:["Today's Proposals (",e.length,")"]}),s.jsx("p",{className:"card-subtitle",children:o}),s.jsx("div",{className:"opportunities-grid",children:e.map((l,u)=>s.jsx(RG,{opportunity:l,portfolioId:t,asOfTs:r,pipelineRunId:n},l.proposal_id||l.pattern_id||u))})]})}function $G({risk:e}){var a;const{current_state:t,thresholds:r,actions:n}=e,i=!r.profile_name;return s.jsxs("section",{className:"brief-card risk-section","aria-label":"Risk & Guardrails",children:[s.jsx("h2",{children:"Risk & Guardrails"}),s.jsxs("div",{className:"risk-grid",children:[s.jsxs("div",{className:"risk-current",children:[s.jsx("h3",{children:"Current State"}),s.jsxs("dl",{className:"risk-dl",children:[s.jsx("dt",{children:"Risk Status"}),s.jsx("dd",{children:s.jsx("span",{className:`risk-status-indicator ${((a=t.risk_status)==null?void 0:a.toLowerCase())||"ok"}`,children:t.risk_status||"OK"})}),s.jsx("dt",{children:"Max Drawdown"}),s.jsx("dd",{children:t.max_drawdown_pct}),s.jsx("dt",{children:"Open Positions"}),s.jsx("dd",{children:t.open_positions??""}),s.jsx("dt",{children:"Entries Blocked"}),s.jsx("dd",{children:t.entries_blocked?"Yes":"No"})]})]}),s.jsxs("div",{className:`risk-thresholds ${i?"profile-missing":""}`,children:[s.jsxs("h3",{children:["Profile Thresholds",r.profile_name&&s.jsx("span",{className:"profile-name-badge",children:r.profile_name})]}),i&&s.jsx("p",{className:"profile-warning",children:"Profile not configured for this portfolio."}),s.jsxs("dl",{className:"risk-dl",children:[s.jsx("dt",{children:"Drawdown Stop"}),s.jsx("dd",{children:r.drawdown_stop_label||""}),s.jsx("dt",{children:"Max Positions"}),s.jsx("dd",{children:r.max_positions??""}),s.jsx("dt",{children:"Max Position Size"}),s.jsx("dd",{children:r.max_position_pct_label||""}),s.jsx("dt",{children:"Bust Threshold"}),s.jsx("dd",{children:r.bust_equity_pct_label||""})]})]})]}),s.jsxs("div",{className:"risk-actions",children:[s.jsx("h3",{children:"What to do now"}),s.jsx("ul",{className:"action-list",children:n.map((o,l)=>s.jsx("li",{children:o},l))})]})]})}function zG({deltas:e}){var t,r,n,i,a,o,l,u,c,d,f,h,m,v,y,x;return e.has_prior_brief?s.jsxs("section",{className:"brief-card deltas-section","aria-label":"Changes Since Last Brief",children:[s.jsx("h2",{children:"Changes Since Last Brief"}),e.prior_as_of_ts&&s.jsxs("p",{className:"prior-timestamp",children:["Compared to: ",new Date(e.prior_as_of_ts).toLocaleString()]}),s.jsxs("div",{className:"deltas-grid",children:[s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Total Equity"}),s.jsx("span",{className:"delta-curr",children:((t=e.equity)==null?void 0:t.curr)!=null?`$${e.equity.curr.toLocaleString()}`:""}),s.jsx(Pu,{value:(r=e.equity)==null?void 0:r.delta,format:"currency"})]}),s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Total Return"}),s.jsx("span",{className:"delta-curr",children:((n=e.total_return)==null?void 0:n.curr)!=null?`${(e.total_return.curr*100).toFixed(2)}%`:""}),s.jsx(Pu,{value:(i=e.total_return)==null?void 0:i.delta,format:"percent"})]}),s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Max Drawdown"}),s.jsx("span",{className:"delta-curr",children:((a=e.max_drawdown)==null?void 0:a.curr)!=null?`${(e.max_drawdown.curr*100).toFixed(2)}%`:""}),s.jsx(Pu,{value:(o=e.max_drawdown)==null?void 0:o.delta,format:"percent",invert:!0})]}),s.jsxs("div",{className:"delta-item",children:[s.jsx("span",{className:"delta-label",children:"Open Positions"}),s.jsx("span",{className:"delta-curr",children:((l=e.open_positions)==null?void 0:l.curr)??""}),s.jsx(Pu,{value:(u=e.open_positions)==null?void 0:u.delta})]})]}),(((d=(c=e.trusted_signals)==null?void 0:c.added)==null?void 0:d.length)>0||((h=(f=e.trusted_signals)==null?void 0:f.removed)==null?void 0:h.length)>0)&&s.jsxs("div",{className:"signal-changes",children:[s.jsx("h3",{children:"Signal Changes"}),((v=(m=e.trusted_signals)==null?void 0:m.added)==null?void 0:v.length)>0&&s.jsxs("div",{className:"signals-added",children:[s.jsxs("strong",{children:["Added (",e.trusted_signals.added.length,"):"]}),s.jsxs("ul",{children:[e.trusted_signals.added.slice(0,5).map((g,w)=>s.jsx("li",{children:g.pattern_id||JSON.stringify(g)},w)),e.trusted_signals.added.length>5&&s.jsxs("li",{className:"more",children:["+",e.trusted_signals.added.length-5," more"]})]})]}),((x=(y=e.trusted_signals)==null?void 0:y.removed)==null?void 0:x.length)>0&&s.jsxs("div",{className:"signals-removed",children:[s.jsxs("strong",{children:["Removed (",e.trusted_signals.removed.length,"):"]}),s.jsxs("ul",{children:[e.trusted_signals.removed.slice(0,5).map((g,w)=>s.jsx("li",{children:g.pattern_id||JSON.stringify(g)},w)),e.trusted_signals.removed.length>5&&s.jsxs("li",{className:"more",children:["+",e.trusted_signals.removed.length-5," more"]})]})]})]})]}):s.jsxs("section",{className:"brief-card deltas-section","aria-label":"Changes Since Last Brief",children:[s.jsx("h2",{children:"Changes Since Last Brief"}),s.jsx("div",{className:"no-prior-brief",children:s.jsx("p",{children:"No prior brief to compare."})})]})}function FG({rawJson:e}){return s.jsxs("details",{className:"raw-json-panel",children:[s.jsx("summary",{children:"Full Brief JSON (Debug)"}),s.jsx("pre",{className:"raw-json-pre",children:JSON.stringify(e,null,2)})]})}function UG(){var w;const{portfolios:e,defaultPortfolioId:t,loading:r,error:n}=By(),[i,a]=p.useState(""),[o,l]=p.useState(null),[u,c]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(!1),{setContext:v}=Pr();p.useEffect(()=>{v(mM)},[v]),p.useEffect(()=>{r||t==null||i!==""||a(String(t))},[t,r,i]);const y=async()=>{const b=i.trim();if(b){c(!0),f(null),l(null);try{const _=await fetch(`${ae}/briefs/latest?portfolio_id=${b}`);if(!_.ok)throw new Error(_.statusText);const P=await _.json();l(P)}catch(_){f(_.message)}finally{c(!1)}}},g=(o==null?void 0:o.found)===!0?o:null;return r?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx(wr,{})]}):(d||n)&&!i?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx(tn,{message:d||n})]}):e.length===0&&!d?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx(dt,{title:"No portfolios yet",action:s.jsxs(s.Fragment,{children:["Run pipeline, then ",s.jsx(ge,{to:"/portfolios",children:"pick a portfolio"}),"."]}),explanation:"Briefs are per portfolio. Load portfolios first by running the pipeline.",reasons:["Pipeline has not run yet.","No portfolios in MIP.APP.PORTFOLIO."]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Morning Brief"}),s.jsx("p",{className:"page-description",children:"Your daily portfolio summary with opportunities, risk status, and performance changes."}),s.jsxs("div",{className:"brief-controls",children:[s.jsxs("label",{children:["Portfolio:"," ",s.jsxs("select",{value:i,onChange:b=>a(b.target.value),children:[s.jsx("option",{value:"",children:"Select"}),e.map(b=>{const _=b.PORTFOLIO_ID??b.portfolio_id,P=b.NAME??b.name;return s.jsx("option",{value:_,children:P!=null?`${P} (${_})`:_},_)})]})]}),s.jsx("button",{type:"button",onClick:y,disabled:!i||u,children:u?"Loading":"Load Brief"})]}),d&&s.jsx(tn,{message:d}),!i&&!u&&s.jsx(dt,{title:"Select a portfolio",action:"Choose a portfolio above and click Load Brief.",explanation:"Briefs are generated per portfolio by the daily pipeline."}),i&&!u&&!d&&o==null&&s.jsx(dt,{title:"No brief loaded",action:"Click Load Brief above to fetch the latest brief for this portfolio.",explanation:"Briefs are generated per portfolio by the daily pipeline."}),i&&!u&&!d&&(o==null?void 0:o.found)===!1&&s.jsx(dt,{title:"No brief exists yet for this portfolio",action:s.jsx(s.Fragment,{children:"Run the daily pipeline for this portfolio, then load again."}),explanation:(o==null?void 0:o.message)??"Briefs are written when the pipeline runs and writes morning briefs for each portfolio.",reasons:["Pipeline has not run yet for this portfolio.","No brief row in MIP.AGENT_OUT.MORNING_BRIEF."]}),g&&s.jsxs("div",{className:"brief-content",children:[g.is_stale&&s.jsxs("div",{className:"stale-brief-banner",role:"alert",children:[s.jsx("div",{className:"stale-banner-icon",children:""}),s.jsxs("div",{className:"stale-banner-content",children:[s.jsx("p",{className:"stale-banner-title",children:"You are viewing an older brief"}),s.jsxs("p",{className:"stale-banner-text",children:["This brief was generated from pipeline run ",s.jsx("code",{children:((w=g.pipeline_run_id)==null?void 0:w.slice(0,8))||""}),".",g.stale_reason&&` ${g.stale_reason}`]})]}),s.jsx("button",{type:"button",className:"stale-banner-btn",onClick:y,disabled:u,children:u?"Loading":"Load Latest Brief"})]}),s.jsx(MG,{brief:g,onShowTrades:()=>m(!0)}),s.jsx(IG,{actions:g.portfolio_actions}),s.jsx(LG,{opportunities:g.opportunities,portfolioId:g.portfolio_id,asOfTs:g.as_of_ts,pipelineRunId:g.pipeline_run_id}),s.jsx($G,{risk:g.risk}),s.jsx(zG,{deltas:g.deltas}),s.jsx(FG,{rawJson:g.raw_json})]}),h&&g&&s.jsx(NG,{trades:g.summary.executed_trades_preview||[],source:g.summary.executed_trades_source||"Portfolio trades",portfolioId:g.portfolio_id,verificationStatus:g.summary.verification_status||"UNVERIFIABLE",briefRecordCount:g.summary.brief_record_count||0,executedLabel:g.summary.executed_label||"trades",onClose:()=>m(!1)})]})}function BG(e){const{cx:t,cy:r,payload:n}=e;if(!(n!=null&&n.event))return null;const a={FIRST_OUTCOME:"#1565c0",MIN_SIGNALS_REACHED:"#7b1fa2",ENTERED_WATCH:"#f57c00",ENTERED_TRUSTED:"#2e7d32",DROPPED_FROM_TRUSTED:"#c62828",MISS_STREAK:"#c62828"}[n.event]||"#666";return s.jsx("g",{children:s.jsx("circle",{cx:t,cy:r,r:6,fill:a,stroke:"#fff",strokeWidth:2})})}function WG({active:e,payload:t}){var i;if(!e||!t||!t.length)return null;const r=(i=t[0])==null?void 0:i.payload;if(!r)return null;const n={TRUSTED:"#2e7d32",WATCH:"#f57c00",UNTRUSTED:"#9e9e9e"};return s.jsxs("div",{className:"timeline-tooltip",children:[s.jsx("p",{className:"timeline-tooltip-date",children:r.ts?String(r.ts).slice(0,10):""}),s.jsxs("p",{className:"timeline-tooltip-row",children:[s.jsx("span",{children:"Hit rate:"}),s.jsx("strong",{children:r.rolling_hit_rate!=null?`${(r.rolling_hit_rate*100).toFixed(1)}%`:""})]}),s.jsxs("p",{className:"timeline-tooltip-row",children:[s.jsx("span",{children:"Evaluated:"}),s.jsx("strong",{children:r.evaluated_count??""})]}),s.jsxs("p",{className:"timeline-tooltip-row",children:[s.jsx("span",{children:"Avg return:"}),s.jsx("strong",{children:r.rolling_avg_return!=null?`${(r.rolling_avg_return*100).toFixed(3)}%`:""})]}),s.jsx("p",{className:"timeline-tooltip-state",style:{color:n[r.state]||"#666"},children:r.state??"UNKNOWN"}),r.event&&s.jsx("p",{className:"timeline-tooltip-event",children:r.event.replace(/_/g," ")})]})}function KG(){return s.jsxs("div",{className:"timeline-inline-skeleton",children:[s.jsxs("div",{className:"skeleton-header",children:[s.jsx("div",{className:"skeleton-title"}),s.jsx("div",{className:"skeleton-subtitle"})]}),s.jsxs("div",{className:"skeleton-journey",children:[s.jsx("div",{className:"skeleton-line skeleton-line--short"}),s.jsx("div",{className:"skeleton-line"}),s.jsx("div",{className:"skeleton-line skeleton-line--medium"})]}),s.jsx("div",{className:"skeleton-chart"}),s.jsxs("div",{className:"skeleton-meta",children:[s.jsx("div",{className:"skeleton-tag"}),s.jsx("div",{className:"skeleton-tag"}),s.jsx("div",{className:"skeleton-tag"})]})]})}function HG({symbol:e,marketType:t,patternId:r=1,horizonBars:n=5,cachedData:i,onDataLoaded:a,onClose:o}){var x,g;const[l,u]=p.useState(i||null),[c,d]=p.useState(!i),[f,h]=p.useState(null);p.useEffect(()=>{if(i){u(i),d(!1);return}if(!e||!t){d(!1);return}let w=!1;d(!0),h(null);const b=new URLSearchParams({symbol:e,market_type:t,pattern_id:String(r),horizon_bars:String(n)});return fetch(`${ae}/training/timeline?${b}`).then(_=>_.ok?_.json():Promise.reject(new Error(_.statusText))).then(_=>{w||(u(_),a&&a(_))}).catch(_=>{w||h(_.message)}).finally(()=>{w||d(!1)}),()=>{w=!0}},[e,t,r,n,i,a]);const m=p.useMemo(()=>l!=null&&l.series?l.series.map(w=>({...w,hit_rate_pct:w.rolling_hit_rate!=null?w.rolling_hit_rate*100:null,avg_return_pct:w.rolling_avg_return!=null?w.rolling_avg_return*100:null,date_label:w.ts?String(w.ts).slice(0,10):""})):[],[l]),v=p.useMemo(()=>{if(!m.length)return[-1,1];const w=m.map(j=>j.avg_return_pct).filter(j=>j!=null);if(!w.length)return[-1,1];const b=Math.min(...w),_=Math.max(...w),P=Math.max(.5,(_-b)*.2);return[Math.floor((b-P)*10)/10,Math.ceil((_+P)*10)/10]},[m]),y=((x=l==null?void 0:l.thresholds)==null?void 0:x.min_hit_rate)!=null?l.thresholds.min_hit_rate*100:55;return c?s.jsx("div",{className:"training-timeline-inline",children:s.jsx(KG,{})}):f?s.jsxs("div",{className:"training-timeline-inline",children:[s.jsxs("div",{className:"training-timeline-inline-header",children:[s.jsx("h4",{children:"Confidence over time"}),o&&s.jsx("button",{className:"timeline-inline-close",onClick:o,"aria-label":"Collapse details",children:""})]}),s.jsx(tn,{message:f})]}):(g=l==null?void 0:l.series)!=null&&g.length?s.jsxs("div",{className:"training-timeline-inline",children:[s.jsxs("div",{className:"training-timeline-inline-header",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"Confidence over time (evidence accumulation)"}),s.jsx("p",{className:"training-timeline-inline-subtitle",children:"This is derived from evaluated outcomes, not a model weight."})]}),o&&s.jsx("button",{className:"timeline-inline-close",onClick:o,"aria-label":"Collapse details",children:""})]}),s.jsxs("div",{className:"training-timeline-inline-content",children:[s.jsxs("div",{className:"training-timeline-inline-left",children:[l.narrative&&l.narrative.length>0&&s.jsxs("div",{className:"training-journey-card-inline",children:[s.jsx("h5",{children:"Training Journey"}),s.jsx("ul",{className:"training-journey-bullets-inline",children:l.narrative.map((w,b)=>s.jsx("li",{children:w},b))})]}),s.jsxs("div",{className:"training-timeline-meta-inline",children:[s.jsxs("span",{children:["Symbol: ",s.jsx("strong",{children:l.symbol})]}),s.jsxs("span",{children:["Pattern: ",s.jsx("strong",{children:l.pattern_id})]}),s.jsxs("span",{children:["Horizon: ",s.jsxs("strong",{children:[l.horizon_bars," bars"]})]}),s.jsxs("span",{children:["Points: ",s.jsx("strong",{children:l.series.length})]})]})]}),s.jsx("div",{className:"training-timeline-inline-right",children:s.jsxs("div",{className:"training-timeline-chart-inline",children:[s.jsx(Yr,{width:"100%",height:200,children:s.jsxs(Bf,{data:m,margin:{top:8,right:40,left:0,bottom:4},children:[s.jsx($i,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Ir,{dataKey:"date_label",tick:{fontSize:9},tickFormatter:w=>w.slice(5),interval:"preserveStartEnd"}),s.jsx(vr,{yAxisId:"left",domain:[0,100],tick:{fontSize:9},tickFormatter:w=>`${w}%`,width:36}),s.jsx(vr,{yAxisId:"right",orientation:"right",domain:v,tick:{fontSize:9},tickFormatter:w=>{var b;return`${((b=w==null?void 0:w.toFixed)==null?void 0:b.call(w,1))??w}%`},width:36}),s.jsx(Xr,{content:s.jsx(WG,{})}),s.jsx(Ii,{yAxisId:"left",y,stroke:"#2e7d32",strokeDasharray:"5 5",strokeWidth:1.5}),s.jsx(Ii,{yAxisId:"left",y:50,stroke:"#9e9e9e",strokeDasharray:"2 2",strokeWidth:1}),s.jsx(Ii,{yAxisId:"right",y:0,stroke:"#ff9800",strokeDasharray:"2 2",strokeWidth:1}),s.jsx(wn,{yAxisId:"left",type:"monotone",dataKey:"hit_rate_pct",stroke:"#1565c0",strokeWidth:2,dot:s.jsx(BG,{}),activeDot:{r:4,fill:"#1565c0"},connectNulls:!0,name:"Rolling Hit Rate"}),s.jsx(wn,{yAxisId:"right",type:"monotone",dataKey:"avg_return_pct",stroke:"#ff9800",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#ff9800"},connectNulls:!0,name:"Rolling Avg Return"})]})}),s.jsxs("div",{className:"timeline-legend-inline",children:[s.jsxs("span",{className:"legend-item-inline",children:[s.jsx("span",{className:"legend-line-inline",style:{background:"#1565c0"}}),"Hit rate (left)"]}),s.jsxs("span",{className:"legend-item-inline",children:[s.jsx("span",{className:"legend-line-inline",style:{background:"#ff9800"}}),"Avg return (right)"]}),s.jsxs("span",{className:"legend-item-inline",children:[s.jsx("span",{className:"legend-line-inline legend-line-inline--dashed",style:{borderColor:"#2e7d32"}}),"Trusted threshold"]})]})]})})]}),s.jsx("p",{className:"training-timeline-note-inline",children:"Confidence increases as outcomes are evaluated. Opportunities may be shown even when evidence is still insufficient to act."})]}):s.jsxs("div",{className:"training-timeline-inline",children:[s.jsxs("div",{className:"training-timeline-inline-header",children:[s.jsx("h4",{children:"Confidence over time (evidence accumulation)"}),o&&s.jsx("button",{className:"timeline-inline-close",onClick:o,"aria-label":"Collapse details",children:""})]}),s.jsx(dt,{title:"No evaluated outcomes yet",action:"Still observing  outcomes will appear as signals mature.",explanation:"Training timeline shows how confidence evolves as outcomes are evaluated.",reasons:(l==null?void 0:l.narrative)||["No evaluated outcomes for this symbol yet."]})]})}const st="training_status",VG=14;function GG(e){if(!e)return"maturity_stage";const t=String(e).toUpperCase();return t==="INSUFFICIENT"?"stage_insufficient":t==="WARMING_UP"?"stage_warming_up":t==="LEARNING"?"stage_learning":t==="CONFIDENT"?"stage_confident":"maturity_stage"}function qG(e){return e==null||Number.isNaN(e)?"":`${(Number(e)*100).toFixed(1)}%`}function ui(e){if(e==null||Number.isNaN(e))return"";const t=Number(e);return Number.isInteger(t)?String(t):t.toFixed(4)}function sj(e,t){return`${t(e,"market_type")}-${t(e,"symbol")}-${t(e,"pattern_id")}`}function YG(){const{explainMode:e}=Pt(),[t]=gl(),r=p.useRef(!1),[n,i]=p.useState(null),[a,o]=p.useState(!0),[l,u]=p.useState(null),[c,d]=p.useState(""),[f,h]=p.useState(""),[m,v]=p.useState(""),[y,x]=p.useState(null),g=p.useRef({}),{setContext:w}=Pr();p.useEffect(()=>{w(vM)},[w]),p.useEffect(()=>{if(r.current)return;r.current=!0;const E=t.get("symbol"),C=t.get("market_type"),O=t.get("pattern_id");E!=null&&E!==""&&h(E),C!=null&&C!==""&&d(C),O!=null&&O!==""&&v(O)},[t]),p.useEffect(()=>{let E=!1;return fetch(`${ae}/training/status`).then(C=>C.ok?C.json():Promise.reject(new Error(C.statusText))).then(C=>{E||i(C)}).catch(C=>{E||u(C.message)}).finally(()=>{E||o(!1)}),()=>{E=!0}},[]);const b=(n==null?void 0:n.rows)??[],_=(E,C)=>E[C]??E[C.toUpperCase()],P=p.useMemo(()=>{const E=new Set(b.map(C=>_(C,"market_type")).filter(Boolean));return Array.from(E).sort()},[b]),j=p.useMemo(()=>b.filter(E=>!(c&&_(E,"market_type")!==c||f.trim()&&!(_(E,"symbol")??"").toLowerCase().includes(f.trim().toLowerCase())||m!==""&&String(_(E,"pattern_id"))!==String(m))),[b,c,f,m]);p.useEffect(()=>{y&&(j.some(C=>sj(C,_)===y)||x(null))},[j,y]),p.useEffect(()=>{const E=C=>{C.key==="Escape"&&y&&x(null)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[y]);const k=p.useCallback(E=>{x(C=>C===E?null:E)},[]),S=p.useCallback((E,C)=>{(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),k(C))},[k]),N=p.useCallback((E,C)=>{g.current[E]=C},[]);return a?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Training Status"}),s.jsx(wr,{})]}):l?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Training Status"}),s.jsx(tn,{message:l})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Training Status"}),e&&s.jsx("p",{className:"training-status-intro",children:"Per-asset training maturity (daily bars): sample size, coverage, horizons, and avg outcomes. Use filters to narrow by market or symbol."}),s.jsxs("section",{className:"training-status-filters","aria-label":"Filters",children:[s.jsxs("div",{className:"training-filter-row",children:[s.jsxs("label",{htmlFor:"ts-market-type",children:["Market type",s.jsx(D,{scope:st,variant:"short"},"filter_market_type")]}),s.jsxs("select",{id:"ts-market-type",value:c,onChange:E=>d(E.target.value),"aria-label":"Filter by market type",children:[s.jsx("option",{value:"",children:"All"}),P.map(E=>s.jsx("option",{value:E,children:E},E))]})]}),s.jsxs("div",{className:"training-filter-row",children:[s.jsxs("label",{htmlFor:"ts-symbol",children:["Symbol",s.jsx(D,{scope:st,variant:"short"},"filter_symbol")]}),s.jsx("input",{id:"ts-symbol",type:"search",placeholder:"Search symbol",value:f,onChange:E=>h(E.target.value),"aria-label":"Search by symbol"})]})]}),s.jsx("div",{className:"training-status-table-wrap",children:s.jsxs("table",{className:"training-status-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"training-expand-col","aria-label":"Expand"}),s.jsxs("th",{children:["Market type ",s.jsx(D,{scope:st,variant:"short"},"market_type")]}),s.jsxs("th",{children:["Symbol ",s.jsx(D,{scope:st,variant:"short"},"symbol")]}),s.jsxs("th",{children:["Pattern ",s.jsx(D,{scope:st,variant:"short"},"pattern_id")]}),s.jsxs("th",{children:["Interval ",s.jsx(D,{scope:st,variant:"short"},"interval_minutes")]}),s.jsxs("th",{children:["As of ",s.jsx(D,{scope:st,variant:"short"},"as_of_ts")]}),s.jsxs("th",{children:["Maturity ",s.jsx(D,{scope:st,variant:"short"},"maturity_score")]}),s.jsxs("th",{children:["Sample size ",s.jsx(D,{scope:st,variant:"short"},"recs_total")]}),s.jsxs("th",{children:["Coverage ",s.jsx(D,{scope:st,variant:"short"},"coverage_ratio")]}),s.jsxs("th",{children:["Horizons ",s.jsx(D,{scope:st,variant:"short"},"horizons_covered")]}),s.jsxs("th",{children:["Avg H1 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h1")]}),s.jsxs("th",{children:["Avg H3 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h3")]}),s.jsxs("th",{children:["Avg H5 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h5")]}),s.jsxs("th",{children:["Avg H10 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h10")]}),s.jsxs("th",{children:["Avg H20 ",s.jsx(D,{scope:st,variant:"short"},"avg_outcome_h20")]})]})}),s.jsx("tbody",{children:j.map(E=>{var A,L;const C=_(E,"maturity_stage"),O=_(E,"maturity_score")!=null?Number(_(E,"maturity_score")):0,W=GG(C),B=e?((A=fe(st,W))==null?void 0:A.short)??C:void 0,K=sj(E,_),H=y===K,X=g.current[K];return s.jsxs(xd.Fragment,{children:[s.jsxs("tr",{className:`training-row ${H?"training-row-expanded":""}`,onClick:()=>k(K),onKeyDown:F=>S(F,K),tabIndex:0,role:"button","aria-expanded":H,"aria-label":`${_(E,"symbol")} training details. Press Enter to ${H?"collapse":"expand"}.`,children:[s.jsx("td",{className:"training-expand-cell",children:s.jsx("span",{className:`training-expand-icon ${H?"training-expand-icon--open":""}`,children:""})}),s.jsx("td",{children:_(E,"market_type")??""}),s.jsx("td",{className:"training-symbol-cell",children:_(E,"symbol")??""}),s.jsx("td",{children:_(E,"pattern_id")??""}),s.jsx("td",{children:_(E,"interval_minutes")??""}),s.jsx("td",{children:_(E,"as_of_ts")??""}),s.jsxs("td",{className:"training-maturity-cell",children:[s.jsx("span",{className:`training-maturity-badge training-stage-${(_(E,"maturity_stage")||"").toLowerCase().replace("_","-")}`,title:B,children:_(E,"maturity_stage")??""}),s.jsx(D,{scope:st,variant:"short"},W),s.jsx("div",{className:"training-progress-wrap",title:B,children:s.jsx("div",{className:"training-progress-bar",style:{width:`${Math.min(100,Math.max(0,O))}%`}})}),s.jsx("span",{className:"training-score-num",title:e?(L=fe(st,"maturity_score"))==null?void 0:L.short:void 0,children:ui(_(E,"maturity_score"))})]}),s.jsx("td",{children:ui(_(E,"recs_total"))}),s.jsx("td",{children:qG(_(E,"coverage_ratio"))}),s.jsx("td",{children:ui(_(E,"horizons_covered"))}),s.jsx("td",{children:ui(_(E,"avg_outcome_h1"))}),s.jsx("td",{children:ui(_(E,"avg_outcome_h3"))}),s.jsx("td",{children:ui(_(E,"avg_outcome_h5"))}),s.jsx("td",{children:ui(_(E,"avg_outcome_h10"))}),s.jsx("td",{children:ui(_(E,"avg_outcome_h20"))})]}),H&&s.jsx("tr",{className:"training-detail-row",children:s.jsx("td",{colSpan:VG+1,className:"training-detail-cell",children:s.jsx(HG,{symbol:_(E,"symbol"),marketType:_(E,"market_type"),patternId:_(E,"pattern_id"),horizonBars:5,cachedData:X,onDataLoaded:F=>N(K,F),onClose:()=>x(null)})})})]},K)})})]})}),j.length===0&&s.jsx(dt,{title:b.length===0?"No evaluated recommendations found yet":"No rows match the current filters",action:b.length===0?"Run pipeline in Snowflake.":"Clear or adjust filters above.",explanation:b.length===0?"Training status comes from recommendation and outcome data. Run the pipeline to populate it.":"Try a different market type or symbol search.",reasons:b.length===0?["Pipeline has not run yet.","No recommendations or outcomes in MIP.APP."]:[]})]})}const we="suggestions",yt="performance",dr="training_status",gd=10,Vu=3,xs=3,Fa=[1,3,5,10,20];function XG(e,t){return e*Math.min(1,(t??0)/gd)}function ku(e){if(!e)return"maturity_stage";const t=String(e).toUpperCase();return t==="INSUFFICIENT"?"stage_insufficient":t==="WARMING_UP"?"stage_warming_up":t==="LEARNING"?"stage_learning":t==="CONFIDENT"?"stage_confident":"maturity_stage"}function dn(e){return e==null||Number.isNaN(e)?"":`${Number(e).toFixed(1)}%`}function ci(e){if(e==null||Number.isNaN(e))return"";const t=Number(e);return Number.isInteger(t)?String(t):t.toFixed(2)}function QG(e,t,r){const n=Math.min(25,e/30*25),i=t/5*25,a=Math.min(50,r/40*50);return Math.min(100,Math.round(n+i+a))}function ZG(e){const t=e||[],r=t.find(o=>o.horizon_bars===5);if(r)return r;const n=[3,5,10],i=t.filter(o=>n.includes(o.horizon_bars??0));return i.length===0?null:[...i].sort((o,l)=>{const u=o.pct_positive!=null?Number(o.pct_positive):-1,c=l.pct_positive!=null?Number(l.pct_positive):-1;if(u!==c)return c-u;const d=(o.mean_realized_return??o.mean_outcome)!=null?Number(o.mean_realized_return??o.mean_outcome):-1/0;return((l.mean_realized_return??l.mean_outcome)!=null?Number(l.mean_realized_return??l.mean_outcome):-1/0)-d})[0]}function JG(e,t){const r=ZG(t);if(!r)return e*.6;const n=(r.mean_realized_return??r.mean_outcome)!=null?Number(r.mean_realized_return??r.mean_outcome):0,i=r.pct_positive!=null?Number(r.pct_positive):0;return e*.6+n*1e3*.2+i*100*.2}function e9(e){return e==null||e<25?"INSUFFICIENT":e<50?"WARMING_UP":e<75?"LEARNING":"CONFIDENT"}function Kh(e){const t=new URLSearchParams;e!=null&&e.symbol&&t.set("symbol",e.symbol),e!=null&&e.market_type&&t.set("market_type",e.market_type),(e==null?void 0:e.pattern_id)!=null&&t.set("pattern_id",String(e.pattern_id));const r=t.toString();return r?`/training?${r}`:"/training"}function t9(e,t,r){const n=[...r||[]].sort((c,d)=>((d==null?void 0:d.pct_positive)??0)-((c==null?void 0:c.pct_positive)??0))[0],i=(n==null?void 0:n.pct_positive)!=null?Number(n.pct_positive):null,a=i!=null?`${(i*100).toFixed(1)}%`:"",o=(n==null?void 0:n.mean_realized_return)??(n==null?void 0:n.mean_outcome),l=o!=null?`${(Number(o)*100).toFixed(2)}%`:"",u=(n==null?void 0:n.horizon_bars)??"?";return[`Based on ${e??0} recommendations and ${t??0} evaluated outcomes, positive at ${a} over the strongest horizon (${u} bars).`,`Mean return at that horizon: ${l}.`]}function r9(e,t,r,n){const i=(n||[]).find(u=>u.horizon_bars===5),a=(i==null?void 0:i.mean_realized_return)??(i==null?void 0:i.mean_outcome),o=(i==null?void 0:i.pct_positive)!=null?(Number(i.pct_positive)*100).toFixed(1):"",l=a!=null?`${(Number(a)*100).toFixed(2)}%`:"";return`Meets minimums (recs  ${gd} for strong, or  ${Vu} for early; horizons  ${xs}). Ranked by suggestion score: maturity ${t.toFixed(0)} (${r}), 5-bar mean return ${l}, 5-bar pct positive ${o}%.`}function n9(e){const t=[...e||[]].sort((r,n)=>((n==null?void 0:n.pct_positive)??0)-((r==null?void 0:r.pct_positive)??0))[0];return(t==null?void 0:t.horizon_bars)??5}function i9(e,t){const r=e.outcomes_total??0,n=(e.by_horizon||[]).find(u=>u.horizon_bars===t),i=((n==null?void 0:n.mean_realized_return)??(n==null?void 0:n.mean_outcome))!=null?Number(n.mean_realized_return??n.mean_outcome)*100:null,a=(n==null?void 0:n.pct_positive)!=null?Number(n.pct_positive)*100:null,o=i!=null?i.toFixed(2):"",l=a!=null?a.toFixed(1):"";return{n:r,horizon:t,mean:o,pct:l}}function a9(e,t=20){if(!e.length)return[];const r=Math.min(...e),n=Math.max(...e),i=n-r||.01,a=Array.from({length:t},(o,l)=>{const u=r+l/t*i,c=r+(l+1)/t*i,d=(u+c)/2;return{bin:l,left:u,right:c,mid:d,count:0,label:`${(d*100).toFixed(1)}%`}});return e.forEach(o=>{if(o<r||o>n)return;const l=o===n?t-1:Math.floor((o-r)/i*t);l>=0&&l<t&&(a[l].count+=1)}),a}function o9(){var ce,xe,vt,ve;const{explainMode:e}=Pt(),t=Wy(),{latestRunId:r,latestRunTs:n}=dA(),[i,a]=p.useState(null),[o,l]=p.useState(null),[u,c]=p.useState(!0),[d,f]=p.useState(null),[h,m]=p.useState(null),[v,y]=p.useState(5),[x,g]=p.useState([]),[w,b]=p.useState(!1),[_,P]=p.useState(null),[j,k]=p.useState(null),[S,N]=p.useState(!1),{setContext:E}=Pr(),C=xc(yh),[O,W]=gl(),B=Do(),K=O.get("from")==="brief",H=O.get("symbol"),X=O.get("pattern_id"),A=O.get("market_type"),L=K||H||X||A,F=p.useCallback(()=>{W({}),B("/suggestions",{replace:!0})},[W,B]);p.useEffect(()=>{E(yh)},[E]),p.useEffect(()=>{h!=null&&v!=null?E(bM(h,v)):E(yh)},[h,v,E]),p.useEffect(()=>{h&&(y(5),g([]),P(null))},[h]),p.useEffect(()=>{if(!h)return;let I=!1;b(!0),P(null);const Z=new URLSearchParams;return h.market_type&&Z.set("market_type",h.market_type),h.symbol&&Z.set("symbol",h.symbol),h.pattern_id!=null&&Z.set("pattern_id",String(h.pattern_id)),Z.set("horizon_bars",String(v)),Z.set("limit","2000"),fetch(`${ae}/performance/distribution?${Z}`).then(oe=>oe.ok?oe.json():Promise.reject(new Error(oe.statusText))).then(oe=>{I||g(oe.realized_returns??[])}).catch(oe=>{I||P(oe.message)}).finally(()=>{I||b(!1)}),()=>{I=!0}},[h,v]),p.useEffect(()=>{if(!h)return;const I=Z=>{Z.key==="Escape"&&m(null)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[h]),p.useEffect(()=>{let I=!1;return c(!0),f(null),fetch(`${ae}/performance/summary`).then(Z=>Z.ok?Z.json():Promise.reject(new Error(Z.statusText))).then(Z=>{if(!I)return a(Z),fetch(`${ae}/training/status`).then(oe=>oe.ok?oe.json():null).catch(()=>null)}).then(Z=>{!I&&Z!=null&&l(Z)}).catch(Z=>{I||f(Z.message)}).finally(()=>{I||c(!1)}),()=>{I=!0}},[]),p.useEffect(()=>{let I=!1;const Z=()=>{fetch(`${ae}/live/metrics?portfolio_id=${t}`).then(Ae=>Ae.ok?Ae.json():Promise.reject(new Error(Ae.statusText))).then(Ae=>{I||k(Ae)}).catch(()=>{I||k(null)})};Z();const oe=setInterval(Z,6e4);return()=>{I=!0,clearInterval(oe)}},[t]);const Q=p.useCallback(()=>{N(!0),fetch(`${ae}/performance/summary`).then(I=>I.ok?I.json():Promise.reject(new Error(I.statusText))).then(I=>a(I)).catch(()=>{}).finally(()=>N(!1))},[]),J=p.useMemo(()=>{const I=(o==null?void 0:o.rows)??[],Z={};return I.forEach(oe=>{const Ae=`${oe.market_type??oe.MARKET_TYPE}|${oe.symbol??oe.SYMBOL}|${oe.pattern_id??oe.PATTERN_ID}`;Z[Ae]=oe}),Z},[o]),[ne,pe]=p.useState(!0),{strongCandidates:je,earlyCandidates:be}=p.useMemo(()=>{const I=(i==null?void 0:i.items)??[],Z=le=>typeof le.horizons_covered=="number"?le.horizons_covered:Array.isArray(le.horizons_covered)?le.horizons_covered.length:0,oe=[],Ae=[];return I.forEach(le=>{const Ne=le.recs_total??0,Ve=Z(le);if(Ve<xs)return;const tt=`${le.market_type}|${le.symbol}|${le.pattern_id}`,gt=J[tt],Te=(gt==null?void 0:gt.maturity_score)!=null?Number(gt.maturity_score):QG(le.recs_total,Ve,le.outcomes_total),de=JG(Te,le.by_horizon||[]),[Se,ie]=t9(le.recs_total,le.outcomes_total,le.by_horizon),M=(gt==null?void 0:gt.maturity_stage)??e9(Te),te=r9(le,Te,M,le.by_horizon||[]),Fe={...le,suggestion_score:Math.round(de*100)/100,maturity_score:Te,maturity_stage:M,what_history_line1:Se,what_history_line2:ie,why_this_is_shown:te};Ne>=gd?(Fe.tier="strong",Fe.isEarlySignal=!1,oe.push(Fe)):Ne>=Vu&&(Fe.tier="early",Fe.isEarlySignal=!0,Fe.effective_score=Math.round(XG(Fe.suggestion_score,Ne)*100)/100,Ae.push(Fe))}),oe.sort((le,Ne)=>(Ne.suggestion_score??0)-(le.suggestion_score??0)),Ae.sort((le,Ne)=>(Ne.effective_score??0)-(le.effective_score??0)),{strongCandidates:oe,earlyCandidates:Ae}},[i,J]),mt=p.useMemo(()=>{let I=ne?[...je,...be]:je;return H&&(I=I.filter(Z=>{var oe;return((oe=Z.symbol)==null?void 0:oe.toLowerCase())===H.toLowerCase()})),X&&(I=I.filter(Z=>String(Z.pattern_id)===X)),A&&(I=I.filter(Z=>{var oe;return((oe=Z.market_type)==null?void 0:oe.toLowerCase())===A.toLowerCase()})),I},[je,be,ne,H,X,A]),R=je.length>0,ee=be.length>0,re=mt.length===0,$=!R&&ee;return u?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Suggestions"}),s.jsx(wr,{})]}):d?s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Suggestions"}),s.jsx(tn,{message:d})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Suggestions"}),n&&s.jsxs("div",{className:"suggestions-freshness-header",children:[s.jsx("span",{className:"freshness-badge freshness-current",children:"CURRENT"}),s.jsxs("span",{className:"freshness-text",children:["Data from pipeline run ",wG(n)]})]}),L&&s.jsxs("div",{className:"suggestions-filter-banner",role:"status",children:[s.jsx("span",{className:"filter-icon",children:""}),s.jsxs("span",{className:"filter-text",children:[K&&"Filtered from Morning Brief. ",H&&`Symbol: ${H}. `,X&&`Pattern: ${X}. `,A&&`Market: ${A}. `,mt.length===0&&"No matching candidates found."]}),s.jsx("button",{type:"button",className:"filter-clear-btn",onClick:F,children:"Clear filters"})]}),s.jsxs("p",{className:"suggestions-intro",children:["Ranked symbol/pattern candidates from evaluated outcome history (deterministic score). Explain mode ontooltips on every metric.",s.jsx(D,{scope:we,variant:"short"},"no_trades_notice")]}),s.jsxs("p",{className:"suggestions-requirements",children:["Strong candidates: recs_total  ",gd,s.jsx(D,{scope:we,variant:"short"},"strong_candidate"),", horizons  ",xs,". Early signals: recs_total  ",Vu,s.jsx(D,{scope:we,variant:"short"},"early_signal"),", horizons  ",xs,s.jsx(D,{scope:we,variant:"short"},"min_horizons_required"),"."," ",s.jsx("button",{type:"button",className:"suggestions-explain-this",onClick:C,"aria-label":"Open Explain Center",children:"Explain this"})]}),s.jsxs("label",{className:"suggestions-toggle-early",children:[s.jsx("input",{type:"checkbox",checked:ne,onChange:I=>pe(I.target.checked),"aria-label":"Show early signals (low confidence)"}),s.jsx("span",{children:"Show early signals"})]}),j&&(re||$)&&s.jsxs("div",{className:"suggestions-live-callout",role:"status",children:[s.jsxs("strong",{children:[R?"Live":"No strong candidates yet",((ce=j==null?void 0:j.outcomes)==null?void 0:ce.last_calculated_at)&&s.jsxs(s.Fragment,{children:["  last update ",oa(j.outcomes.last_calculated_at)," ago"]}),(((xe=j==null?void 0:j.outcomes)==null?void 0:xe.since_last_run)??0)>0&&s.jsxs(s.Fragment,{children:["; +",j.outcomes.since_last_run," new evaluations since last run"]})]}),(((vt=j==null?void 0:j.outcomes)==null?void 0:vt.since_last_run)??0)>0&&s.jsx("button",{type:"button",className:"suggestions-refresh-btn",onClick:Q,disabled:S,"aria-label":"Refresh suggestions from server",children:S?"Refreshing":"Refresh suggestions"})]}),s.jsxs("p",{className:"suggestions-count",children:[$&&s.jsx("span",{className:"suggestions-count-subtext",children:"No strong candidates yet. Showing early signals with low confidence."}),"Showing ",mt.length," candidate",mt.length!==1?"s":"",mt.length>0&&R&&ee&&ne&&s.jsxs("span",{children:[" (",je.length," strong, ",be.length," early)"]}),"."]}),re?ee&&!ne?s.jsx(dt,{title:"No strong candidates yet",action:"Turn on 'Show early signals' to see low-confidence items (recs  3, horizons  3).",explanation:"No symbol/pattern pairs yet meet the strong threshold (recs_total  10). Some early signals exist with fewer examplesenable the toggle to show them; treat as directional only.",reasons:["Strong requires recs_total  10 and horizons  3.","Early signals are ranked by effective score (score  min(1, recs/10))."]}):s.jsxs(s.Fragment,{children:[(j==null?void 0:j.outcomes)&&s.jsxs("div",{className:"suggestions-empty-live-copy",role:"status",children:[s.jsx("p",{children:"We're tracking new evaluations as they arrive."}),s.jsxs("p",{children:["Last evaluation update: ",oa(j.outcomes.last_calculated_at)," ago."]}),(j.outcomes.since_last_run??0)>0&&s.jsxs("p",{children:["Since the last pipeline run, we've added +",j.outcomes.since_last_run," new evaluated outcomes."]}),(((ve=j==null?void 0:j.outcomes)==null?void 0:ve.since_last_run)??0)>0&&s.jsx("button",{type:"button",className:"suggestions-refresh-btn",onClick:Q,disabled:S,"aria-label":"Refresh suggestions from server",children:S?"Refreshing":"Refresh suggestions"})]}),s.jsx(dt,{title:"Not enough evaluated history",action:"Run more pipelines to generate recommendations and outcomes, then return here.",explanation:"No symbol/pattern pairs meet the minimum: recs_total  3 and at least 3 horizons (e.g. 1, 3, 5, 10, 20 bars) with outcome data. Suggestions are derived from /performance/summary (RECOMMENDATION_LOG + RECOMMENDATION_OUTCOMES, daily bars only).",reasons:[`Minimum: recs_total  ${Vu}, horizons_covered  ${xs}.`,"Pipeline has not run enough, or data is for other intervals (we use daily bars only).","Check Training Status to see which triples have sufficient data."]})]}):s.jsxs("div",{className:"suggestions-list",children:[$&&s.jsxs("div",{className:"suggestions-no-strong-banner",role:"status",children:[s.jsx("strong",{children:"No strong candidates yet."})," Showing early signals with low confidence."]}),R&&s.jsxs("p",{className:"suggestions-tier-heading",children:["Strong candidates",s.jsx(D,{scope:we,variant:"short"},"strong_candidate")]}),R&&je.map((I,Z)=>{var oe,Ae,le,Ne,Ve,tt,gt;return s.jsxs("article",{className:"suggestion-card suggestion-card-strong","data-rank":Z+1,onClick:()=>m(I),role:"button",tabIndex:0,onKeyDown:Te=>(Te.key==="Enter"||Te.key===" ")&&m(I),"aria-label":`Open detail for ${I.symbol} pattern ${I.pattern_id}`,children:[s.jsxs("div",{className:"suggestion-header",children:[s.jsxs("span",{className:"suggestion-rank",children:["#",Z+1]}),s.jsxs("span",{className:"suggestion-triple",children:[s.jsx("span",{className:"suggestion-symbol",children:I.symbol??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsx("span",{className:"suggestion-market",children:I.market_type??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsxs("span",{className:"suggestion-pattern",children:["pattern ",I.pattern_id??""]})]}),s.jsxs("span",{className:"suggestion-score-block",title:e?(oe=fe(we,"suggestion_score_formula"))==null?void 0:oe.short:void 0,children:[s.jsxs("span",{className:"suggestion-score-label",children:["Suggestion score",s.jsx(D,{scope:we,variant:"short"},"suggestion_score")]}),s.jsx("span",{className:"suggestion-score",children:ci(I.suggestion_score)})]})]}),s.jsxs("div",{className:"suggestion-sample",title:e?(Ae=fe(we,"sample_size"))==null?void 0:Ae.short:void 0,children:["Sample size",s.jsx(D,{scope:we,variant:"short"},"sample_size"),": ",s.jsx("strong",{children:ci(I.recs_total)})]}),s.jsxs("div",{className:"suggestion-maturity",title:e?(le=fe(dr,"maturity_score"))==null?void 0:le.short:void 0,children:[s.jsxs("span",{className:`suggestion-stage suggestion-stage-${(I.maturity_stage||"").toLowerCase().replace("_","-")}`,title:e?(Ne=fe(dr,ku(I.maturity_stage)))==null?void 0:Ne.short:void 0,children:[I.maturity_stage??"",s.jsx(D,{scope:dr,variant:"short"},ku(I.maturity_stage))]}),s.jsx("div",{className:"suggestion-maturity-bar-wrap",title:e?(Ve=fe(dr,"maturity_score"))==null?void 0:Ve.long:void 0,children:s.jsx("div",{className:"suggestion-maturity-bar",style:{width:`${Math.min(100,Math.max(0,I.maturity_score??0))}%`},"aria-hidden":"true"})})]}),s.jsxs("div",{className:"suggestion-what-history",title:e?(tt=fe(we,"what_history_suggests"))==null?void 0:tt.short:void 0,children:[s.jsx("strong",{children:"What history suggests"}),s.jsx(D,{scope:we,variant:"short"},"what_history_suggests"),s.jsx("p",{className:"suggestion-what-line1",children:I.what_history_line1}),s.jsx("p",{className:"suggestion-what-line2",children:I.what_history_line2})]}),s.jsxs("div",{className:"suggestion-horizon-strip",title:e?(gt=fe(we,"horizon_strip"))==null?void 0:gt.short:void 0,children:[s.jsxs("span",{className:"suggestion-horizon-strip-label",children:["Horizon strip (1 / 3 / 5 / 10 / 20) ",s.jsx(D,{scope:we,variant:"short"},"horizon_strip")]}),s.jsx("div",{className:"suggestion-sparkline","aria-hidden":"true",children:Fa.map(Te=>{const de=(I.by_horizon||[]).find(cr=>cr.horizon_bars===Te),Se=((de==null?void 0:de.mean_realized_return)??(de==null?void 0:de.mean_outcome))!=null?Number(de.mean_realized_return??de.mean_outcome)*100:null,ie=(de==null?void 0:de.pct_positive)!=null?Number(de.pct_positive)*100:null,M=Se??ie??0,te=M==null?0:Math.min(100,Math.max(0,50+M)),Fe=M==null?"suggestion-sparkline-bar":M>=0?"suggestion-sparkline-bar has-value positive":"suggestion-sparkline-bar has-value negative";return s.jsx("div",{className:Fe,style:{height:`${te}%`},title:`${Te}d: mean ${Se!=null?dn(Se):""}, pct ${ie!=null?dn(ie):""}`},Te)})}),s.jsx("div",{className:"suggestion-horizon-strip-cells",children:Fa.map(Te=>{const de=(I.by_horizon||[]).find(cr=>cr.horizon_bars===Te),Se=(de==null?void 0:de.pct_positive)!=null?Number(de.pct_positive):null,ie=Se!=null?Se*100:null,M=((de==null?void 0:de.mean_realized_return)??(de==null?void 0:de.mean_outcome))!=null?Number(de.mean_realized_return??de.mean_outcome)*100:null,te=ie??M,Fe=te==null?"strip-cell empty":te>=50?"strip-cell good":"strip-cell weak";return s.jsxs("div",{className:Fe,title:`${Te} bars: pct ${ie!=null?dn(ie):""}, mean ${M!=null?dn(M):""}`,children:[s.jsx("span",{className:"strip-h",children:Te}),s.jsx("span",{className:"strip-v",children:te!=null?dn(te):""})]},Te)})})]}),s.jsxs("div",{className:"suggestion-cross-links",onClick:Te=>Te.stopPropagation(),role:"navigation","aria-label":"Connect to other views",children:[s.jsx(ge,{to:Kh(I),className:"suggestion-link",title:"Training Status filtered to this symbol/pattern",children:"View Training"}),s.jsx(ge,{to:"/portfolios",className:"suggestion-link",title:"Portfolio snapshot  see if you hold this symbol",children:"View Portfolio"}),s.jsx(ge,{to:"/brief",className:"suggestion-link",title:"Morning brief  see if this symbol is mentioned",children:"View Brief"})]})]},`strong-${I.symbol}-${I.pattern_id}-${I.market_type}`)}),ne&&ee&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"suggestions-tier-heading",children:["Early signals (low confidence)",s.jsx(D,{scope:we,variant:"short"},"early_signal")]}),be.map((I,Z)=>{var oe,Ae,le,Ne,Ve,tt,gt,Te,de;return s.jsxs("article",{className:"suggestion-card suggestion-card-early","data-rank":R?je.length+Z+1:Z+1,onClick:()=>m(I),role:"button",tabIndex:0,onKeyDown:Se=>(Se.key==="Enter"||Se.key===" ")&&m(I),"aria-label":`Open detail for ${I.symbol} pattern ${I.pattern_id} (early signal)`,children:[s.jsxs("div",{className:"suggestion-header",children:[s.jsxs("span",{className:"suggestion-rank",children:["#",R?je.length+Z+1:Z+1]}),s.jsxs("span",{className:"suggestion-triple",children:[s.jsx("span",{className:"suggestion-symbol",children:I.symbol??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsx("span",{className:"suggestion-market",children:I.market_type??""}),s.jsx("span",{className:"suggestion-sep",children:"/"}),s.jsxs("span",{className:"suggestion-pattern",children:["pattern ",I.pattern_id??""]})]}),s.jsxs("span",{className:"suggestion-score-block",children:[s.jsxs("span",{className:"suggestion-score-label",children:["Score",s.jsx(D,{scope:we,variant:"short"},"suggestion_score"),"/ Effective",s.jsx(D,{scope:we,variant:"short"},"effective_score")]}),s.jsx("span",{className:"suggestion-score",title:e?(oe=fe(we,"suggestion_score_formula"))==null?void 0:oe.short:void 0,children:ci(I.suggestion_score)}),s.jsx("span",{className:"suggestion-effective-score",title:e?(Ae=fe(we,"effective_score"))==null?void 0:Ae.short:void 0,children:ci(I.effective_score)})]})]}),s.jsxs("div",{className:"suggestion-badge-early",title:e?(le=fe(we,"why_confidence_low"))==null?void 0:le.short:void 0,children:["Early / Low confidence",s.jsx(D,{scope:we,variant:"short"},"why_confidence_low")]}),s.jsxs("p",{className:"suggestion-early-sentence",children:["Only ",ci(I.recs_total)," evaluated examples so fartreat as directional only."]}),s.jsxs("div",{className:"suggestion-sample",title:e?(Ne=fe(we,"sample_size"))==null?void 0:Ne.short:void 0,children:["Sample size",s.jsx(D,{scope:we,variant:"short"},"sample_size"),": ",s.jsx("strong",{children:ci(I.recs_total)})]}),s.jsxs("div",{className:"suggestion-maturity",title:e?(Ve=fe(dr,"maturity_score"))==null?void 0:Ve.short:void 0,children:[s.jsxs("span",{className:`suggestion-stage suggestion-stage-${(I.maturity_stage||"").toLowerCase().replace("_","-")}`,title:e?(tt=fe(dr,ku(I.maturity_stage)))==null?void 0:tt.short:void 0,children:[I.maturity_stage??"",s.jsx(D,{scope:dr,variant:"short"},ku(I.maturity_stage))]}),s.jsx("div",{className:"suggestion-maturity-bar-wrap",title:e?(gt=fe(dr,"maturity_score"))==null?void 0:gt.long:void 0,children:s.jsx("div",{className:"suggestion-maturity-bar",style:{width:`${Math.min(100,Math.max(0,I.maturity_score??0))}%`},"aria-hidden":"true"})})]}),s.jsxs("div",{className:"suggestion-what-history",title:e?(Te=fe(we,"what_history_suggests"))==null?void 0:Te.short:void 0,children:[s.jsx("strong",{children:"What history suggests"}),s.jsx(D,{scope:we,variant:"short"},"what_history_suggests"),s.jsx("p",{className:"suggestion-what-line1",children:I.what_history_line1}),s.jsx("p",{className:"suggestion-what-line2",children:I.what_history_line2})]}),s.jsxs("div",{className:"suggestion-horizon-strip",title:e?(de=fe(we,"horizon_strip"))==null?void 0:de.short:void 0,children:[s.jsxs("span",{className:"suggestion-horizon-strip-label",children:["Horizon strip (1 / 3 / 5 / 10 / 20) ",s.jsx(D,{scope:we,variant:"short"},"horizon_strip")]}),s.jsx("div",{className:"suggestion-sparkline","aria-hidden":"true",children:Fa.map(Se=>{const ie=(I.by_horizon||[]).find(Ma=>Ma.horizon_bars===Se),M=((ie==null?void 0:ie.mean_realized_return)??(ie==null?void 0:ie.mean_outcome))!=null?Number(ie.mean_realized_return??ie.mean_outcome)*100:null,te=(ie==null?void 0:ie.pct_positive)!=null?Number(ie.pct_positive)*100:null,Fe=M??te??0,cr=Fe==null?0:Math.min(100,Math.max(0,50+Fe)),Ia=Fe==null?"suggestion-sparkline-bar":Fe>=0?"suggestion-sparkline-bar has-value positive":"suggestion-sparkline-bar has-value negative";return s.jsx("div",{className:Ia,style:{height:`${cr}%`},title:`${Se}d: mean ${M!=null?dn(M):""}, pct ${te!=null?dn(te):""}`},Se)})}),s.jsx("div",{className:"suggestion-horizon-strip-cells",children:Fa.map(Se=>{const ie=(I.by_horizon||[]).find(Ma=>Ma.horizon_bars===Se),M=(ie==null?void 0:ie.pct_positive)!=null?Number(ie.pct_positive):null,te=M!=null?M*100:null,Fe=((ie==null?void 0:ie.mean_realized_return)??(ie==null?void 0:ie.mean_outcome))!=null?Number(ie.mean_realized_return??ie.mean_outcome)*100:null,cr=te??Fe,Ia=cr==null?"strip-cell empty":cr>=50?"strip-cell good":"strip-cell weak";return s.jsxs("div",{className:Ia,title:`${Se} bars: pct ${te!=null?dn(te):""}, mean ${Fe!=null?dn(Fe):""}`,children:[s.jsx("span",{className:"strip-h",children:Se}),s.jsx("span",{className:"strip-v",children:cr!=null?dn(cr):""})]},Se)})})]}),s.jsxs("div",{className:"suggestion-cross-links",onClick:Se=>Se.stopPropagation(),role:"navigation","aria-label":"Connect to other views",children:[s.jsx(ge,{to:Kh(I),className:"suggestion-link",title:"Training Status filtered to this symbol/pattern",children:"View Training"}),s.jsx(ge,{to:"/portfolios",className:"suggestion-link",title:"Portfolio snapshot  see if you hold this symbol",children:"View Portfolio"}),s.jsx(ge,{to:"/brief",className:"suggestion-link",title:"Morning brief  see if this symbol is mentioned",children:"View Brief"})]})]},`early-${I.symbol}-${I.pattern_id}-${I.market_type}`)})]})]}),h&&(()=>{var de,Se,ie;const I=J[`${h.market_type}|${h.symbol}|${h.pattern_id}`],Z=i9(h,v),oe=n9(h.by_horizon||[]),Ae=(h.by_horizon||[]).filter(M=>Fa.includes(M.horizon_bars)).sort((M,te)=>(M.horizon_bars??0)-(te.horizon_bars??0)).map(M=>({days:M.horizon_bars,mean_pct:(M.mean_realized_return??M.mean_outcome)!=null?Number(M.mean_realized_return??M.mean_outcome)*100:null,pct_positive:M.pct_positive!=null?Number(M.pct_positive)*100:null,pct_hit:M.pct_hit!=null?Number(M.pct_hit)*100:null})),le=a9(x),Ne=x.length?x.reduce((M,te)=>M+te,0)/x.length:null,Ve=[...x].sort((M,te)=>M-te),tt=Ve.length?Ve[Math.floor(Ve.length/2)]:null,gt=(I==null?void 0:I.coverage_ratio)!=null?Number(I.coverage_ratio):null,Te=(I==null?void 0:I.reasons)??(Array.isArray(I==null?void 0:I.reasons)?I.reasons:[]);return s.jsx("div",{className:"suggestion-drawer-backdrop",onClick:()=>m(null),onKeyDown:M=>M.key==="Escape"&&m(null),role:"presentation",children:s.jsxs("div",{className:"suggestion-drawer suggestion-drawer-evidence",onClick:M=>M.stopPropagation(),role:"dialog","aria-label":"Evidence drawer",children:[s.jsxs("div",{className:"suggestion-drawer-header",children:[s.jsxs("h2",{children:[h.symbol,"  ",h.market_type,"  pattern ",h.pattern_id]}),s.jsx("button",{type:"button",className:"suggestion-drawer-close",onClick:()=>m(null),"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"suggestion-drawer-body",children:[s.jsxs("div",{className:"suggestion-drawer-connect",role:"navigation","aria-label":"Connect to other views",children:[s.jsx("span",{className:"suggestion-drawer-connect-label",children:"Connect:"}),s.jsx(ge,{to:Kh(h),className:"suggestion-link",onClick:()=>m(null),children:"View Training"}),s.jsx("span",{className:"suggestion-drawer-connect-sep","aria-hidden":"true",children:""}),s.jsx(ge,{to:"/portfolios",className:"suggestion-link",onClick:()=>m(null),title:"Portfolio snapshot  see if you hold this symbol",children:"View Portfolio"}),s.jsx("span",{className:"suggestion-drawer-connect-sep","aria-hidden":"true",children:""}),s.jsx(ge,{to:"/brief",className:"suggestion-link",onClick:()=>m(null),title:"Morning brief  see if this symbol is mentioned",children:"View Brief"})]}),s.jsxs("section",{className:"evidence-section evidence-explanations","aria-label":"Explanations",children:[s.jsxs("div",{className:"evidence-what",children:[s.jsx("h3",{children:"What"}),e&&s.jsx(D,{scope:we,variant:"short"},"what_history_suggests"),s.jsxs("p",{children:["We evaluated this pattern ",s.jsx(D,{scope:dr,variant:"short"},"pattern_id")," ",s.jsx("strong",{children:Z.n})," ",s.jsx(D,{scope:we,variant:"short"},"sample_size")," ","times on daily data. At ",s.jsxs("strong",{children:[Z.horizon," days"]})," ",s.jsx(D,{scope:yt,variant:"short"},"horizon_days"),", the average ",s.jsx("strong",{children:"realized return"})," ",s.jsx(D,{scope:yt,variant:"short"},"realized_return")," ","was ",s.jsxs("strong",{children:[Z.mean,"%"]}),", and outcomes were positive ",s.jsxs("strong",{children:[Z.pct,"%"]})," of the time"," ",s.jsx(D,{scope:yt,variant:"short"},"pct_positive"),"."]})]}),s.jsxs("div",{className:"evidence-why",children:[s.jsx("h3",{children:"Why"}),e&&s.jsx(D,{scope:we,variant:"short"},"why_this_is_shown"),s.jsxs("p",{children:["This appears because it has ",s.jsxs("strong",{children:[h.maturity_stage??""," training maturity"]})," ",s.jsx(D,{scope:dr,variant:"short"},"maturity_stage")," ","and shows its strongest results around ",s.jsxs("strong",{children:[oe," days"]}),"."]})]}),s.jsxs("div",{className:"evidence-how",children:[s.jsx("h3",{children:"How"}),e&&s.jsx(D,{scope:we,variant:"short"},"how_to_interpret"),s.jsxs("p",{children:[s.jsx("strong",{children:"Realized return"})," ",s.jsx(D,{scope:yt,variant:"short"},"realized_return")," ","is computed from the ",s.jsx("strong",{children:"entry price"})," to the ",s.jsx("strong",{children:"exit price"})," at the chosen"," ",s.jsx("strong",{children:"horizon"})," ",s.jsx(D,{scope:yt,variant:"short"},"horizon_bars"),". ",s.jsx("strong",{children:"Hit rate"})," ",s.jsx(D,{scope:yt,variant:"short"},"hit_rate")," ","shows how often the move exceeded the minimum threshold."]})]})]}),s.jsxs("section",{className:"evidence-section evidence-charts","aria-label":"Charts",children:[s.jsx("h3",{children:"Horizon strip (1 / 3 / 5 / 10 / 20 days)"}),e&&s.jsx(D,{scope:we,variant:"short"},"horizon_strip"),s.jsxs("div",{className:"evidence-horizon-chart",children:[s.jsx("span",{className:"evidence-chart-label",children:"Average return over holding period"}),s.jsx(Yr,{width:"100%",height:220,children:s.jsxs(no,{data:Ae,margin:{top:8,right:8,bottom:24,left:8},children:[s.jsx(Ir,{dataKey:"days",tickFormatter:M=>`${M} days`}),s.jsx(vr,{tickFormatter:M=>`${M}%`}),s.jsx(Xr,{formatter:M=>{var te;return[M!=null?`${Number(M).toFixed(2)}%`:"",e?((te=fe(yt,"mean_realized_return"))==null?void 0:te.short)??"Mean return":"Mean return"]},labelFormatter:M=>{var te;return e?`${M} days  ${((te=fe(yt,"horizon_bars"))==null?void 0:te.short)??"holding period"}`:`${M} days`}}),s.jsx(na,{dataKey:"mean_pct",name:"Mean return",fill:"#1976d2",radius:[4,4,0,0],children:Ae.map((M,te)=>s.jsx(Ll,{fill:Ae[te].mean_pct>=0?"#2e7d32":"#c62828"},te))})]})})]}),s.jsxs("div",{className:"evidence-pct-chart",children:[s.jsx("span",{className:"evidence-chart-label",children:"Share of outcomes that were positive"}),s.jsx(Yr,{width:"100%",height:120,children:s.jsxs(no,{data:Ae,margin:{top:4,right:8,bottom:24,left:8},children:[s.jsx(Ir,{dataKey:"days",tickFormatter:M=>`${M}d`}),s.jsx(vr,{domain:[0,100],tickFormatter:M=>`${M}%`}),s.jsx(Xr,{formatter:M=>{var te;return[M!=null?`${Number(M).toFixed(1)}%`:"",e?((te=fe(yt,"pct_positive"))==null?void 0:te.short)??"% positive":"% positive"]},labelFormatter:M=>`${M} days`}),s.jsx(na,{dataKey:"pct_positive",name:"% positive",fill:"#1565c0",radius:[4,4,0,0]})]})})]}),s.jsxs("div",{className:"evidence-pct-chart",children:[s.jsx("span",{className:"evidence-chart-label",children:"Hit rate  how often the move met the target"}),s.jsx(Yr,{width:"100%",height:120,children:s.jsxs(no,{data:Ae,margin:{top:4,right:8,bottom:24,left:8},children:[s.jsx(Ir,{dataKey:"days",tickFormatter:M=>`${M}d`}),s.jsx(vr,{domain:[0,100],tickFormatter:M=>`${M}%`}),s.jsx(Xr,{formatter:M=>{var te;return[M!=null?`${Number(M).toFixed(1)}%`:"",e?((te=fe(yt,"hit_rate"))==null?void 0:te.short)??"Hit rate":"Hit rate"]},labelFormatter:M=>`${M} days`}),s.jsx(na,{dataKey:"pct_hit",name:"Hit rate",fill:"#5e35b1",radius:[4,4,0,0]})]})})]}),s.jsxs("h3",{children:["Distribution of realized return (",v," days)"]}),e&&s.jsx(D,{scope:yt,variant:"short"},"realized_return"),s.jsx("div",{className:"evidence-horizon-selector",children:Fa.map(M=>s.jsxs("button",{type:"button",className:v===M?"evidence-horizon-btn active":"evidence-horizon-btn",onClick:()=>y(M),children:[M," days"]},M))}),w&&s.jsx(wr,{}),_&&s.jsx(tn,{message:_}),!w&&!_&&x.length===0&&s.jsx("p",{className:"evidence-empty",children:"No distribution data for this horizon."}),!w&&!_&&x.length>0&&s.jsxs("div",{className:"evidence-dist-chart",children:[s.jsx(Yr,{width:"100%",height:240,children:s.jsxs(no,{data:le,margin:{top:8,right:8,bottom:24,left:8},children:[s.jsx(Ir,{dataKey:"label",interval:Math.max(0,Math.floor(le.length/10))}),s.jsx(vr,{}),s.jsx(Xr,{formatter:M=>[M,"Count"],labelFormatter:M=>`Return: ${M}`}),s.jsx(na,{dataKey:"count",name:"Count",fill:"#37474f",radius:[2,2,0,0]}),Ne!=null&&s.jsx(ReferenceLine,{x:((de=le.find(M=>M.mid>=Ne))==null?void 0:de.bin)??0,stroke:"#c62828",strokeDasharray:"3 3"}),tt!=null&&tt!==Ne&&s.jsx(ReferenceLine,{x:((Se=le.find(M=>M.mid>=tt))==null?void 0:Se.bin)??0,stroke:"#1976d2",strokeDasharray:"2 2"})]})}),e&&(Ne!=null||tt!=null)&&s.jsxs("p",{className:"evidence-dist-legend",children:[Ne!=null&&s.jsxs("span",{children:["Mean: ",(Ne*100).toFixed(2),"%"]}),tt!=null&&s.jsxs("span",{children:[" Median: ",(tt*100).toFixed(2),"%"]})]})]}),s.jsxs("div",{className:"evidence-confidence",children:[s.jsx("h3",{children:"Confidence"}),e&&s.jsx(D,{scope:dr,variant:"short"},"maturity_score"),s.jsx("div",{className:"evidence-maturity-bar-wrap",children:s.jsx("div",{className:"evidence-maturity-bar",style:{width:`${Math.min(100,Math.max(0,h.maturity_score??0))}%`},"aria-hidden":"true"})}),s.jsxs("span",{className:"evidence-maturity-label",children:["Maturity: ",ci(h.maturity_score)]}),gt!=null&&s.jsxs("p",{className:"evidence-coverage",title:e?(ie=fe(dr,"coverage_ratio"))==null?void 0:ie.short:void 0,children:["Coverage ratio: ",(gt*100).toFixed(0),"%",s.jsx(D,{scope:dr,variant:"short"},"coverage_ratio")]}),Array.isArray(Te)&&Te.length>0&&s.jsx("ul",{className:"evidence-reasons",children:Te.map((M,te)=>s.jsx("li",{children:typeof M=="string"?M:(M&&(M.reason??M.message))??String(M)},te))})]})]}),s.jsxs("table",{className:"suggestion-drawer-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{children:["Horizon ",s.jsx(D,{scope:yt,variant:"short"},"horizon_bars")]}),s.jsxs("th",{children:["N ",s.jsx(D,{scope:yt,variant:"short"},"n")]}),s.jsxs("th",{children:["Mean realized ",s.jsx(D,{scope:yt,variant:"short"},"mean_realized_return")]}),s.jsxs("th",{children:["% positive ",s.jsx(D,{scope:yt,variant:"short"},"pct_positive")]}),s.jsxs("th",{children:["% hit ",s.jsx(D,{scope:yt,variant:"short"},"pct_hit")]}),s.jsxs("th",{children:["Min ",s.jsx(D,{scope:yt,variant:"short"},"min_outcome")]}),s.jsxs("th",{children:["Max ",s.jsx(D,{scope:yt,variant:"short"},"max_outcome")]})]})}),s.jsx("tbody",{children:(h.by_horizon||[]).sort((M,te)=>(M.horizon_bars??0)-(te.horizon_bars??0)).map((M,te)=>s.jsxs("tr",{children:[s.jsxs("td",{children:[M.horizon_bars," bars"]}),s.jsx("td",{children:ci(M.n)}),s.jsx("td",{children:(M.mean_realized_return??M.mean_outcome)!=null?`${(Number(M.mean_realized_return??M.mean_outcome)*100).toFixed(2)}%`:""}),s.jsx("td",{children:M.pct_positive!=null?`${(Number(M.pct_positive)*100).toFixed(1)}%`:""}),s.jsx("td",{children:M.pct_hit!=null?`${(Number(M.pct_hit)*100).toFixed(1)}%`:""}),s.jsx("td",{children:(M.min_realized_return??M.min_outcome)!=null?`${(Number(M.min_realized_return??M.min_outcome)*100).toFixed(2)}%`:""}),s.jsx("td",{children:(M.max_realized_return??M.max_outcome)!=null?`${(Number(M.max_realized_return??M.max_outcome)*100).toFixed(2)}%`:""})]},te))})]})]})]})})})()]})}function Ua({label:e,value:t,onClear:r}){return t?s.jsxs("span",{className:"filter-badge",children:[s.jsxs("span",{className:"filter-label",children:[e,":"]}),s.jsx("span",{className:"filter-value",children:t}),r&&s.jsx("button",{type:"button",className:"filter-clear",onClick:r,"aria-label":`Clear ${e} filter`,children:""})]}):null}function s9({reason:e,onClearFilters:t,onUseLatestRun:r,onBackToBrief:n}){return s.jsxs("div",{className:"signals-fallback-banner",role:"alert",children:[s.jsx("div",{className:"fallback-icon",children:""}),s.jsxs("div",{className:"fallback-content",children:[s.jsx("p",{className:"fallback-reason",children:e}),s.jsxs("div",{className:"fallback-actions",children:[s.jsx("button",{type:"button",className:"fallback-btn",onClick:t,children:"Clear all filters"}),s.jsx("button",{type:"button",className:"fallback-btn",onClick:r,children:"Use latest run"}),s.jsx(ge,{to:"/brief",className:"fallback-btn",onClick:n,children:"Back to Morning Brief"})]})]})]})}function l9({portfolioId:e,asOfTs:t,pipelineRunId:r,onClearFilters:n}){return s.jsxs("div",{className:"signals-from-brief-banner",role:"status",children:[s.jsx("span",{className:"banner-icon",children:""}),s.jsxs("span",{className:"banner-text",children:["Filtered from Morning Brief",e&&` (Portfolio ${e})`,t&&`  As of ${new Date(t).toLocaleDateString()}`]}),s.jsx("button",{type:"button",className:"banner-clear-btn",onClick:n,children:"Clear filters"})]})}function u9({signal:e}){var n;const t=(e.TRUST_LABEL||e.trust_label||"").toLowerCase(),r=e.IS_ELIGIBLE??e.is_eligible;return s.jsxs("tr",{className:`signal-row ${r?"":"signal-ineligible"}`,children:[s.jsx("td",{className:"signal-symbol",children:e.SYMBOL||e.symbol}),s.jsx("td",{className:"signal-market",children:e.MARKET_TYPE||e.market_type}),s.jsx("td",{className:"signal-pattern",children:e.PATTERN_ID||e.pattern_id}),s.jsx("td",{className:"signal-score",children:((n=e.SCORE||e.score)==null?void 0:n.toFixed(2))??""}),s.jsx("td",{className:`signal-trust trust-${t}`,children:e.TRUST_LABEL||e.trust_label||""}),s.jsx("td",{className:"signal-action",children:e.RECOMMENDED_ACTION||e.recommended_action||""}),s.jsx("td",{className:"signal-eligible",children:r?"":e.GATING_REASON||e.gating_reason||"No"}),s.jsx("td",{className:"signal-ts",children:e.SIGNAL_TS||e.signal_ts?new Date(e.SIGNAL_TS||e.signal_ts).toLocaleString():""})]})}function c9(){var P;const[e,t]=gl(),r=Do(),{setContext:n}=Pr(),[i,a]=p.useState(null),[o,l]=p.useState(!0),[u,c]=p.useState(null);p.useEffect(()=>{n(yM)},[n]);const d={symbol:e.get("symbol"),marketType:e.get("market_type"),patternId:e.get("pattern_id"),horizonBars:e.get("horizon_bars"),runId:e.get("pipelineRunId")||e.get("run_id"),asOfTs:e.get("asOf")||e.get("as_of_ts"),trustLabel:e.get("trust_label"),fromBrief:e.get("from")==="brief",portfolioId:e.get("portfolioId")},f=Object.values(d).some(j=>j&&j!=="brief"),h=p.useCallback(async()=>{l(!0),c(null);try{const j=new URLSearchParams;d.symbol&&j.set("symbol",d.symbol),d.marketType&&j.set("market_type",d.marketType),d.patternId&&j.set("pattern_id",d.patternId),d.horizonBars&&j.set("horizon_bars",d.horizonBars),d.runId&&j.set("run_id",d.runId),d.asOfTs&&j.set("as_of_ts",d.asOfTs),d.trustLabel&&j.set("trust_label",d.trustLabel),j.set("include_fallback","true"),j.set("limit","100");const k=await fetch(`${ae}/signals?${j}`);if(!k.ok)throw new Error(k.statusText);const S=await k.json();a(S)}catch(j){c(j.message)}finally{l(!1)}},[d.symbol,d.marketType,d.patternId,d.horizonBars,d.runId,d.asOfTs,d.trustLabel]);p.useEffect(()=>{h()},[h]);const m=p.useCallback(()=>{t({})},[t]),v=p.useCallback(j=>{const k=new URLSearchParams(e);k.delete(j),j!=="from"&&k.delete("from"),t(k)},[e,t]),y=p.useCallback(()=>{const j=new URLSearchParams(e);j.delete("pipelineRunId"),j.delete("run_id"),j.delete("asOf"),j.delete("as_of_ts"),t(j)},[e,t]);if(o)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Signals Explorer"}),s.jsx(wr,{})]});if(u)return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Signals Explorer"}),s.jsx(tn,{message:u})]});const x=(i==null?void 0:i.signals)||[],g=(i==null?void 0:i.count)||0,w=i==null?void 0:i.fallback_used,b=i==null?void 0:i.fallback_reason,_=i==null?void 0:i.query_type;return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Signals Explorer"}),s.jsx("p",{className:"page-description",children:"Browse actual signal and recommendation rows. Filter by symbol, pattern, trust level, and more."}),d.fromBrief&&s.jsx(l9,{portfolioId:d.portfolioId,asOfTs:d.asOfTs,pipelineRunId:d.runId,onClearFilters:m}),w&&b&&s.jsx(s9,{reason:b,onClearFilters:m,onUseLatestRun:y,onBackToBrief:()=>r("/brief")}),f&&s.jsxs("div",{className:"signals-active-filters",children:[s.jsx("span",{className:"filters-label",children:"Active filters:"}),s.jsx(Ua,{label:"Symbol",value:d.symbol,onClear:()=>v("symbol")}),s.jsx(Ua,{label:"Market",value:d.marketType,onClear:()=>v("market_type")}),s.jsx(Ua,{label:"Pattern",value:d.patternId,onClear:()=>v("pattern_id")}),s.jsx(Ua,{label:"Trust",value:d.trustLabel,onClear:()=>v("trust_label")}),s.jsx(Ua,{label:"Run ID",value:(P=d.runId)==null?void 0:P.slice(0,8),onClear:()=>v("pipelineRunId")}),s.jsx(Ua,{label:"As of",value:d.asOfTs?new Date(d.asOfTs).toLocaleDateString():null,onClear:()=>v("asOf")}),s.jsx("button",{type:"button",className:"clear-all-btn",onClick:m,children:"Clear all"})]}),s.jsxs("div",{className:"signals-count",children:[g>0?s.jsxs("span",{children:["Showing ",g," signal",g!==1?"s":""]}):s.jsx("span",{children:"No signals found"}),_&&_!=="primary"&&_!=="no_results"&&s.jsx("span",{className:"query-type-badge",children:_.replace(/_/g," ")})]}),g===0?s.jsx(dt,{title:"No signals found",action:f?s.jsx("button",{type:"button",onClick:m,children:"Clear all filters"}):s.jsx(ge,{to:"/brief",children:"Go to Morning Brief"}),explanation:f?"No signals match your current filters. Try clearing some filters or using a different time window.":"No signals available. Run the pipeline to generate recommendations.",reasons:["The brief may be stale (from an older pipeline run).","The signal may have been filtered out by trust rules.","Try clearing the run ID or date filters."]}):s.jsx("div",{className:"signals-table-container",children:s.jsxs("table",{className:"signals-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Symbol"}),s.jsx("th",{children:"Market"}),s.jsx("th",{children:"Pattern"}),s.jsx("th",{children:"Score"}),s.jsx("th",{children:"Trust"}),s.jsx("th",{children:"Action"}),s.jsx("th",{children:"Eligible"}),s.jsx("th",{children:"Signal Time"})]})}),s.jsx("tbody",{children:x.map((j,k)=>s.jsx(u9,{signal:j},j.RECOMMENDATION_ID||j.recommendation_id||k))})]})}),s.jsxs("div",{className:"signals-nav",children:[s.jsx(ge,{to:"/brief",className:"nav-link",children:" Morning Brief"}),s.jsx(ge,{to:"/suggestions",className:"nav-link",children:"Suggestions "})]})]})}function ds(e,t=!1){if(t)return typeof e=="string"?e:String(e);if(e==null)return"(null)";if(typeof e=="object"&&!Array.isArray(e)){const r=Object.keys(e),n={};return r.slice(0,3).forEach(i=>{n[i]=e[i]}),JSON.stringify(n)}if(Array.isArray(e)){const r=e.length,n=e[0];if(n==null)return`[] (${r} items)`;const i=typeof n=="object"&&n!==null?Object.keys(n):[],a={};return i.slice(0,3).forEach(o=>{a[o]=n[o]}),`[${r} items] first: ${JSON.stringify(a)}`}return String(e).slice(0,80)}function d9(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),{setContext:i}=Pr();p.useEffect(()=>{i(wM)},[i]),p.useEffect(()=>{let o=!1;async function l(){const u=[],c=async f=>{const h=await f.text();if(!f.ok)return h;try{return JSON.parse(h)}catch{return h}};try{const f=await fetch(`${ae}/status`),h=await c(f);u.push({url:`${ae}/status`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/status`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}try{const f=await fetch(`${ae}/runs`),h=await c(f);u.push({url:`${ae}/runs`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/runs`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}let d=null;try{const f=await fetch(`${ae}/portfolios`),h=await c(f);if(f.ok&&Array.isArray(h)&&h.length>0){const m=h[0];d=m.portfolio_id??m.PORTFOLIO_ID??m.id}u.push({url:`${ae}/portfolios`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/portfolios`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}if(d!=null)try{const f=`${ae}/briefs/latest?portfolio_id=${d}`,h=await fetch(f),m=await c(h);u.push({url:f,status:h.status,ok:h.ok,preview:ds(m,!h.ok),raw:m})}catch(f){u.push({url:`${ae}/briefs/latest?portfolio_id=${d}`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}else u.push({url:`${ae}/briefs/latest?portfolio_id=...`,status:null,ok:null,preview:"skipped: no portfolio id",raw:null});try{const f=await fetch(`${ae}/training/status`),h=await c(f);u.push({url:`${ae}/training/status`,status:f.status,ok:f.ok,preview:ds(h,!f.ok),raw:h})}catch(f){u.push({url:`${ae}/training/status`,status:0,ok:!1,preview:String((f==null?void 0:f.message)??f),raw:String((f==null?void 0:f.message)??f)})}o||(t(u),n(!1))}return l(),()=>{o=!0}},[]);const a=()=>{const o=e.map(l=>({url:l.url,status:l.status,ok:l.ok,preview:l.preview,raw:l.raw}));navigator.clipboard.writeText(JSON.stringify(o,null,2))};return s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Route smoke"}),s.jsx("p",{children:"Quick debug: which endpoints fail and why (404 vs 500 vs CORS vs proxy)."}),s.jsx("button",{type:"button",className:"debug-copy-btn",onClick:a,disabled:r,"aria-label":"Copy diagnostics to clipboard",children:"Copy diagnostics"}),r&&s.jsx(wr,{message:"Running smoke checks"}),s.jsxs("table",{className:"debug-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"URL"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Preview"})]})}),s.jsx("tbody",{children:e.map((o,l)=>s.jsxs("tr",{className:o.ok===!0?"debug-ok":o.ok===!1?"debug-fail":"debug-skip",children:[s.jsx("td",{className:"debug-url",title:o.url,children:o.url}),s.jsxs("td",{className:"debug-status",children:[o.status!=null?o.status:"",o.status===0&&" (network)"]}),s.jsx("td",{className:"debug-preview",title:typeof o.preview=="string"?o.preview:JSON.stringify(o.preview),children:o.preview})]},l))})]})]})}function f9({active:e,payload:t,label:r}){var i,a,o,l,u;if(!e||!t||!t.length)return null;const n=(i=t[0])==null?void 0:i.payload;return n?s.jsxs("div",{className:"mtd-tooltip",children:[s.jsx("div",{className:"mtd-tooltip-date",children:r}),n.open!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"Open:"})," ",s.jsx("span",{children:(a=n.open)==null?void 0:a.toFixed(2)})]}),n.high!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"High:"})," ",s.jsx("span",{children:(o=n.high)==null?void 0:o.toFixed(2)})]}),n.low!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"Low:"})," ",s.jsx("span",{children:(l=n.low)==null?void 0:l.toFixed(2)})]}),n.close!=null&&s.jsxs("div",{className:"mtd-tooltip-row",children:[s.jsx("span",{children:"Close:"})," ",s.jsx("span",{children:(u=n.close)==null?void 0:u.toFixed(2)})]}),n.events&&n.events.length>0&&s.jsx("div",{className:"mtd-tooltip-events",children:n.events.map((c,d)=>{var f,h;return s.jsxs("div",{className:`mtd-tooltip-event event-${(f=c.type)==null?void 0:f.toLowerCase()}`,children:[c.type,": ",c.side||""," ",c.type==="TRADE"&&c.quantity?`${c.quantity} @ ${(h=c.price)==null?void 0:h.toFixed(2)}`:""]},d)})})]}):null}function h9(){return s.jsxs("div",{className:"mtd-skeleton",children:[s.jsx("div",{className:"mtd-skeleton-header"}),s.jsx("div",{className:"mtd-skeleton-chart"}),s.jsxs("div",{className:"mtd-skeleton-narrative",children:[s.jsx("div",{className:"mtd-skeleton-line"}),s.jsx("div",{className:"mtd-skeleton-line"}),s.jsx("div",{className:"mtd-skeleton-line short"})]})]})}function p9({symbol:e,marketType:t,portfolioId:r,windowBars:n=60,cachedData:i,onDataLoaded:a,onClose:o}){var P,j,k;const[l,u]=p.useState(i||null),[c,d]=p.useState(!i),[f,h]=p.useState(null);if(p.useEffect(()=>{if(i){u(i),d(!1);return}let S=!1;d(!0),h(null);const N=new URLSearchParams;return N.set("symbol",e),N.set("market_type",t),N.set("window_bars",String(n)),r&&N.set("portfolio_id",r),fetch(`${ae}/market-timeline/detail?${N.toString()}`).then(E=>E.ok?E.json():Promise.reject(new Error(E.statusText))).then(E=>{S||(u(E),a&&a(E))}).catch(E=>{S||h(E.message)}).finally(()=>{S||d(!1)}),()=>{S=!0}},[e,t,r,n,i,a]),c)return s.jsx(h9,{});if(f)return s.jsxs("div",{className:"mtd-error",children:[s.jsxs("p",{children:["Error loading details: ",f]}),s.jsx("button",{onClick:o,children:"Close"})]});if(!l)return null;const m=l.ohlc||[],v=l.events||[],y=l.narrative||{},x=l.counts||{},g={};v.forEach(S=>{var E;const N=(E=S.ts)==null?void 0:E.slice(0,10);g[N]||(g[N]=[]),g[N].push(S)});const w=m.map(S=>{var B;const N=(B=S.ts)==null?void 0:B.slice(0,10),E=g[N]||[],C=E.some(K=>K.type==="SIGNAL"),O=E.some(K=>K.type==="PROPOSAL"),W=E.some(K=>K.type==="TRADE");return{...S,date:N,events:E,signalMarker:C?S.low*.995:null,proposalMarker:O?S.low*.99:null,tradeMarker:W?S.high*1.005:null,range:S.high&&S.low?[S.low,S.high]:null}}),b=y.decision_status||"SKIPPED",_=b==="EXECUTED"?"status-executed":b==="PROPOSED"?"status-proposed":"status-skipped";return s.jsxs("div",{className:"mtd-container",children:[s.jsxs("div",{className:"mtd-header",children:[s.jsxs("div",{className:"mtd-header-left",children:[s.jsxs("h3",{children:[e," ",s.jsx("span",{className:"mtd-market-type",children:t})]}),s.jsx("span",{className:`mtd-decision-badge ${_}`,children:b})]}),s.jsx("button",{className:"mtd-close-btn",onClick:o,"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"mtd-counts-bar",children:[s.jsxs("span",{className:"mtd-count mtd-count-signal",children:[s.jsx("strong",{children:x.signals||0})," signals"]}),s.jsx("span",{className:"mtd-count-arrow",children:""}),s.jsxs("span",{className:"mtd-count mtd-count-proposal",children:[s.jsx("strong",{children:x.proposals||0})," proposals"]}),s.jsx("span",{className:"mtd-count-arrow",children:""}),s.jsxs("span",{className:"mtd-count mtd-count-trade",children:[s.jsx("strong",{children:x.trades||0})," trades"]})]}),s.jsx("div",{className:"mtd-chart-container",children:s.jsx(Yr,{width:"100%",height:300,children:s.jsxs(cG,{data:w,margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx($i,{strokeDasharray:"3 3",stroke:"#eee"}),s.jsx(Ir,{dataKey:"date",tick:{fontSize:10},tickFormatter:S=>S==null?void 0:S.slice(5)}),s.jsx(vr,{domain:["auto","auto"],tick:{fontSize:10},tickFormatter:S=>S==null?void 0:S.toFixed(2)}),s.jsx(Xr,{content:s.jsx(f9,{})}),s.jsx(wn,{type:"monotone",dataKey:"high",stroke:"#bbb",strokeWidth:1,strokeDasharray:"2 2",dot:!1,name:"Daily High",legendType:"none"}),s.jsx(wn,{type:"monotone",dataKey:"low",stroke:"#bbb",strokeWidth:1,strokeDasharray:"2 2",dot:!1,name:"Daily Low",legendType:"none"}),s.jsx(wn,{type:"monotone",dataKey:"close",stroke:"#1976d2",strokeWidth:2,dot:!1,name:"Close Price"}),s.jsx(Hu,{dataKey:"signalMarker",fill:"#2196f3",name:"Signal",children:w.map((S,N)=>S.signalMarker!=null?s.jsx("circle",{r:6,fill:"#2196f3",stroke:"#1565c0",strokeWidth:1},`signal-${N}`):null)}),s.jsx(Hu,{dataKey:"proposalMarker",fill:"#ff9800",name:"Proposal",children:w.map((S,N)=>S.proposalMarker!=null?s.jsx("circle",{r:7,fill:"#ff9800",stroke:"#e65100",strokeWidth:2},`proposal-${N}`):null)}),s.jsx(Hu,{dataKey:"tradeMarker",fill:"#4caf50",name:"Trade",children:w.map((S,N)=>S.tradeMarker!=null?s.jsx("circle",{r:8,fill:"#4caf50",stroke:"#2e7d32",strokeWidth:2},`trade-${N}`):null)})]})})}),s.jsxs("div",{className:"mtd-chart-legend",children:[s.jsxs("div",{className:"legend-section legend-price",children:[s.jsx("span",{className:"legend-title",children:"Price:"}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-line blue"})," Close price"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-line grey dashed"})," High/Low range"]})]}),s.jsxs("div",{className:"legend-section legend-events",children:[s.jsx("span",{className:"legend-title",children:"Events:"}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot signal"})," Signal (pattern fired)"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot proposal"})," Proposal (order suggested)"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot trade"})," Trade (executed)"]})]})]}),s.jsxs("div",{className:"mtd-narrative",children:[s.jsx("h4",{children:"Decision Narrative"}),s.jsx("div",{className:"mtd-narrative-bullets",children:(P=y.bullets)==null?void 0:P.map((S,N)=>s.jsxs("p",{className:"mtd-bullet",children:[" ",S]},N))}),((j=y.reasons)==null?void 0:j.length)>0&&s.jsxs("div",{className:"mtd-reasons",children:[s.jsx("h5",{children:"Reason Details"}),y.reasons.map((S,N)=>s.jsxs("div",{className:"mtd-reason",children:[s.jsx("span",{className:"mtd-reason-code",children:S.code}),s.jsx("span",{className:"mtd-reason-title",children:S.title}),S.evidence&&Object.keys(S.evidence).length>0&&s.jsx("span",{className:"mtd-reason-evidence",children:JSON.stringify(S.evidence)})]},N))]})]}),((k=l.trust_summary)==null?void 0:k.length)>0&&s.jsxs("div",{className:"mtd-trust-summary",children:[s.jsx("h5",{children:"Trust Status by Pattern"}),s.jsx("div",{className:"mtd-trust-grid",children:l.trust_summary.map((S,N)=>{var E;return s.jsxs("div",{className:`mtd-trust-item trust-${(E=S.trust_label)==null?void 0:E.toLowerCase()}`,children:[s.jsxs("span",{className:"mtd-trust-pattern",children:["Pattern ",S.pattern_id]}),s.jsx("span",{className:"mtd-trust-label",children:S.trust_label}),S.n_success!=null&&s.jsxs("span",{className:"mtd-trust-detail",children:[S.n_success," outcomes  ",(S.coverage_rate*100).toFixed(0),"% coverage"]})]},N)})})]}),v.length>0&&s.jsxs("div",{className:"mtd-events-table",children:[s.jsxs("h5",{children:["Recent Events (",v.length,")"]}),s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Details"})]})}),s.jsx("tbody",{children:v.slice(-20).reverse().map((S,N)=>{var E,C,O,W,B,K,H;return s.jsxs("tr",{className:`event-row event-${(E=S.type)==null?void 0:E.toLowerCase()}`,children:[s.jsx("td",{children:(C=S.ts)==null?void 0:C.slice(0,10)}),s.jsx("td",{children:s.jsx("span",{className:`event-badge ${(O=S.type)==null?void 0:O.toLowerCase()}`,children:S.type})}),s.jsxs("td",{children:[S.type==="SIGNAL"&&`Pattern ${S.pattern_id}, Score: ${((W=S.score)==null?void 0:W.toFixed(4))||""}`,S.type==="PROPOSAL"&&s.jsxs(s.Fragment,{children:[S.side,"  Weight: ",((B=S.target_weight)==null?void 0:B.toFixed(2))||"","  Status: ",S.status,S.portfolio_id&&s.jsxs(s.Fragment,{children:["  ",s.jsxs(ge,{to:`/portfolios/${S.portfolio_id}`,className:"mtd-portfolio-link",children:["Portfolio ",S.portfolio_id]})]})]}),S.type==="TRADE"&&s.jsxs(s.Fragment,{children:[S.side," ",S.quantity," @ ",(K=S.price)==null?void 0:K.toFixed(2)," ($",(H=S.notional)==null?void 0:H.toFixed(0),")",S.portfolio_id&&s.jsxs(s.Fragment,{children:["  ",s.jsxs(ge,{to:`/portfolios/${S.portfolio_id}`,className:"mtd-portfolio-link",children:["Portfolio ",S.portfolio_id]})]})]})]})]},N)})})]})]})]})}function m9(){var j,k;const[e,t]=p.useState(null),[r,n]=p.useState(!0),[i,a]=p.useState(null),{setContext:o}=Pr(),[l,u]=p.useState(""),[c,d]=p.useState(""),[f,h]=p.useState(30),[m,v]=p.useState(null),y=p.useRef({});p.useEffect(()=>{o(xM)},[o]),p.useEffect(()=>{let S=!1;n(!0),a(null);const N=new URLSearchParams;return N.set("window_bars",String(f)),l&&N.set("portfolio_id",l),c&&N.set("market_type",c),fetch(`${ae}/market-timeline/overview?${N.toString()}`).then(E=>E.ok?E.json():Promise.reject(new Error(E.statusText))).then(E=>{S||t(E)}).catch(E=>{S||a(E.message)}).finally(()=>{S||n(!1)}),()=>{S=!0}},[l,c,f]);const x=p.useMemo(()=>{if(!(e!=null&&e.symbols))return[];const S=new Set(e.symbols.map(N=>N.market_type).filter(Boolean));return Array.from(S).sort()},[e]),g=p.useCallback((S,N)=>{const E=`${N}-${S}`;m&&m.symbol===S&&m.market_type===N?v(null):v({symbol:S,market_type:N,key:E})},[m]),w=p.useCallback((S,N,E)=>{S.key==="Enter"||S.key===" "?(S.preventDefault(),g(N,E)):S.key==="Escape"&&m&&v(null)},[g,m]),b=p.useCallback((S,N)=>{y.current[S]=N},[]);if(r)return s.jsxs("div",{className:"market-timeline-page",children:[s.jsx("h1",{children:"Market Timeline"}),s.jsx(wr,{})]});if(i)return s.jsxs("div",{className:"market-timeline-page",children:[s.jsx("h1",{children:"Market Timeline"}),s.jsx(tn,{message:i})]});const _=(e==null?void 0:e.symbols)??[],P=(e==null?void 0:e.window)??{};return s.jsxs("div",{className:"market-timeline-page",children:[s.jsx("h1",{children:"Market Timeline"}),s.jsx("p",{className:"market-timeline-subtitle",children:"End-to-end observability: signals  proposals  trades per symbol. Click a symbol to see the OHLC chart with event overlays and decision narrative."}),s.jsxs("div",{className:"market-timeline-filters",children:[s.jsxs("label",{children:["Portfolio:",s.jsxs("select",{value:l,onChange:S=>u(S.target.value),children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"1",children:"Portfolio 1"}),s.jsx("option",{value:"2",children:"Portfolio 2"})]})]}),s.jsxs("label",{children:["Market:",s.jsxs("select",{value:c,onChange:S=>d(S.target.value),children:[s.jsx("option",{value:"",children:"All"}),x.map(S=>s.jsx("option",{value:S,children:S},S))]})]}),s.jsxs("label",{children:["Window:",s.jsxs("select",{value:f,onChange:S=>h(Number(S.target.value)),children:[s.jsx("option",{value:30,children:"30 bars"}),s.jsx("option",{value:60,children:"60 bars"}),s.jsx("option",{value:90,children:"90 bars"}),s.jsx("option",{value:180,children:"180 bars"})]})]})]}),P.start_ts&&s.jsxs("p",{className:"market-timeline-window-info",children:["Showing ",P.bars," bars from ",(j=P.start_ts)==null?void 0:j.slice(0,10)," to ",(k=P.latest_ts)==null?void 0:k.slice(0,10)]}),s.jsxs("div",{className:"market-timeline-legend",children:[s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-signal",children:"S"})," Signals"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-proposal",children:"P"})," Proposals"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-trade",children:"T"})," Trades"]})]}),_.length===0?s.jsx(dt,{title:"No symbols found",message:"No market data in the selected window."}):s.jsx("div",{className:"market-timeline-grid",children:_.map(S=>{var A;const N=`${S.market_type}-${S.symbol}`,E=(m==null?void 0:m.key)===N,C=S.signal_count>0,O=S.proposal_count>0,W=S.trade_count>0,B=S.today_proposal_count>0,K=y.current[N];let H="tile-inactive";W?H="tile-executed":O?H="tile-proposed":C&&(H="tile-signals-only");const X=B?"tile-today-actionable":"";return s.jsxs(xd.Fragment,{children:[s.jsxs("div",{className:`market-timeline-tile ${H} ${X} ${E?"tile-expanded":""}`,onClick:()=>g(S.symbol,S.market_type),onKeyDown:L=>w(L,S.symbol,S.market_type),tabIndex:0,role:"button","aria-expanded":E,"aria-label":`${S.symbol} ${S.market_type}. Signals: ${S.signal_count}, Proposals: ${S.proposal_count}, Trades: ${S.trade_count}. Press Enter to ${E?"collapse":"expand"}.`,children:[s.jsxs("div",{className:"tile-header",children:[s.jsx("span",{className:"tile-symbol",children:S.symbol}),s.jsx("span",{className:"tile-market-type",children:S.market_type})]}),B&&s.jsx("span",{className:"tile-action-badge",children:"ACTION"}),S.trust_label&&s.jsx("span",{className:`tile-trust-badge trust-${(A=S.trust_label)==null?void 0:A.toLowerCase()}`,children:S.trust_label}),s.jsxs("div",{className:"tile-counts",children:[s.jsxs("span",{className:`count-badge count-signal ${C?"has-count":""}`,children:["S:",S.signal_count]}),s.jsxs("span",{className:`count-badge count-proposal ${O?"has-count":""}`,children:["P:",S.proposal_count]}),s.jsxs("span",{className:`count-badge count-trade ${W?"has-count":""}`,children:["T:",S.trade_count]})]}),s.jsx("div",{className:"tile-expand-icon",children:s.jsx("span",{className:E?"icon-open":"",children:""})})]}),E&&s.jsx("div",{className:"market-timeline-detail-row",children:s.jsx(p9,{symbol:S.symbol,marketType:S.market_type,portfolioId:l||null,windowBars:f*2,cachedData:K,onDataLoaded:L=>b(N,L),onClose:()=>v(null)})})]},N)})}),_.length>0&&s.jsx("div",{className:"market-timeline-summary",children:s.jsxs("p",{children:[s.jsx("strong",{children:_.length})," symbols ",s.jsxs("strong",{children:[" ",_.reduce((S,N)=>S+N.signal_count,0)]})," signals ",s.jsxs("strong",{children:[" ",_.reduce((S,N)=>S+N.proposal_count,0)]})," proposals ",s.jsxs("strong",{children:[" ",_.reduce((S,N)=>S+N.trade_count,0)]})," trades"]})})]})}const di={OK:"ok",DEGRADED:"degraded",DOWN:"down",LOADING:"loading"};function v9(){const[e,t]=p.useState(di.LOADING),[r,n]=p.useState(null);p.useEffect(()=>{let o=!1;return fetch(`${ae}/status`).then(l=>l.ok?l.json():Promise.reject(new Error(l.statusText))).then(l=>{o||(n(l.snowflake_message??null),l.api_ok&&l.snowflake_ok?t(di.OK):(l.api_ok&&l.snowflake_ok,t(di.DEGRADED)))}).catch(()=>{o||t(di.DOWN)}),()=>{o=!0}},[]);const i=r??"Data backend not reachable",a=e===di.OK?"All systems OK":e===di.DEGRADED?i:e===di.DOWN?"API not reachable":null;return a?s.jsxs("span",{className:`status-banner status-banner--${e}`,role:"status","aria-live":"polite","aria-label":a,children:[s.jsx("span",{className:"status-banner-dot","aria-hidden":"true"}),s.jsx("span",{className:"status-banner-label",children:a}),s.jsx(D,{scope:"ui",entryKey:"system_status",variant:"short"})]}):null}function g9(){const{explainMode:e,setExplainMode:t}=Pt();return s.jsxs("label",{className:"explain-mode-toggle",children:[s.jsx("input",{type:"checkbox",checked:e,onChange:()=>t(r=>!r),"aria-label":"Explain mode: show tooltips and helper callouts"}),s.jsx("span",{className:"explain-mode-label",children:"Explain"})]})}function Hh({text:e}){if(!e)return null;const t=e.split(`

`).filter(Boolean);return s.jsx("div",{className:"explain-formatted-content",children:t.map((r,n)=>{const i=r.split(`
`),a=i.every(l=>l.trim().startsWith("-")||l.trim()===""),o=i.every(l=>/^\d+\./.test(l.trim())||l.trim()==="");return a&&i.some(l=>l.trim().startsWith("-"))?s.jsx("ul",{className:"explain-list",children:i.filter(l=>l.trim().startsWith("-")).map((l,u)=>s.jsx("li",{children:Vh(l.trim().slice(1).trim())},u))},n):o&&i.some(l=>/^\d+\./.test(l.trim()))?s.jsx("ol",{className:"explain-list",children:i.filter(l=>/^\d+\./.test(l.trim())).map((l,u)=>s.jsx("li",{children:Vh(l.trim().replace(/^\d+\.\s*/,""))},u))},n):s.jsx("p",{children:Vh(r.replace(/\n/g," "))},n)})})}function Vh(e){return e&&e.split(/(\*\*[^*]+\*\*)/g).map((r,n)=>r.startsWith("**")&&r.endsWith("**")?s.jsx("strong",{children:r.slice(2,-2)},n):r)}function y9(e,t){return e.glossaryKey&&t?{label:e.label,meaning:t.long??t.short??e.meaning,calc:e.calc??(t.calc||null)}:{label:e.label,meaning:e.meaning,calc:e.calc??null}}function x9(e,t){var n;const r=[];return r.push(`# ${e.title}
`),e.what&&r.push(`## What

`+e.what+`
`),e.why&&r.push(`## Why

`+e.why+`
`),e.how&&r.push(`## How

`+e.how+`
`),(n=e.sources)!=null&&n.length&&(r.push(`## Data sources

`),e.sources.forEach(i=>r.push(`- **${i.object}**: ${i.purpose}
`)),r.push(`
`)),t!=null&&t.length&&(r.push(`## Fields & calculations

`),t.forEach(i=>{r.push(`- **${i.label}**: ${i.meaning}`),i.calc&&r.push(`  - How computed: ${i.calc}`),r.push("")})),e.lastUpdated&&r.push(`
*Last updated: `+e.lastUpdated+`*
`),r.join(`
`)}function w9(){var d,f,h,m;const{explainMode:e}=Pt(),{isOpen:t,close:r,context:n}=Pr(),[i,a]=p.useState(""),o=p.useMemo(()=>{const v=n.fields??[];if(!i.trim())return v;const y=i.trim().toLowerCase();return v.filter(x=>(x.label||"").toLowerCase().includes(y)||(x.key||"").toLowerCase().includes(y))},[n.fields,i]),l=p.useMemo(()=>o.map(v=>{const y=v.glossaryKey?Kv(v.glossaryKey):null,x=y9(v,y);return{...v,...x}}),[o]),u=p.useCallback(()=>{var y;const v=x9(n,l);(y=navigator.clipboard)==null||y.writeText(v).catch(()=>{})},[n,l]),c=p.useCallback(()=>{var x;const v=(n.sources??[]).map(g=>g.object).join("  "),y=v?`Data sources: ${v}`:"";y&&((x=navigator.clipboard)==null||x.writeText(y).catch(()=>{}))},[n.sources]);return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`explain-drawer-backdrop ${t?"explain-drawer-backdrop--open":""}`,onClick:r,onKeyDown:v=>v.key==="Escape"&&r(),role:"button",tabIndex:-1,"aria-label":"Close Explain drawer"}),s.jsx("aside",{className:`explain-drawer ${t?"explain-drawer--open":""}`,role:"dialog","aria-label":"Explain Center","aria-modal":"true",children:s.jsxs("div",{className:"explain-drawer-inner",children:[s.jsxs("header",{className:"explain-drawer-header",children:[s.jsx("h2",{className:"explain-drawer-title",children:n.title||"Explain"}),s.jsx("button",{type:"button",className:"explain-drawer-close",onClick:r,"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"explain-drawer-body",children:[n.what&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"What"}),s.jsx(Hh,{text:n.what})]}),n.why&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"Why"}),s.jsx(Hh,{text:n.why})]}),n.how&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"How"}),s.jsx(Hh,{text:n.how})]}),(((d=n.sources)==null?void 0:d.length)??0)>0&&s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"Data sources"}),s.jsx("p",{className:"explain-drawer-sources-copy",title:"Click to copy",children:s.jsx("button",{type:"button",className:"explain-drawer-sources-badge",onClick:c,title:"Copy data lineage",children:(n.sources??[]).map(v=>v.object).join("  ")})}),s.jsx("ul",{className:"explain-drawer-sources-list",children:(n.sources??[]).map((v,y)=>s.jsxs("li",{children:[s.jsx("strong",{children:v.object}),": ",v.purpose]},y))})]}),s.jsxs("section",{className:"explain-drawer-section",children:[s.jsx("h3",{children:"Fields & calculations"}),(((f=n.fields)==null?void 0:f.length)??0)>0?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"search",className:"explain-drawer-search",placeholder:"Filter fields",value:i,onChange:v=>a(v.target.value),"aria-label":"Filter fields by name"}),s.jsx("ul",{className:"explain-drawer-fields",children:l.map((v,y)=>s.jsxs("li",{className:"explain-drawer-field",children:[s.jsx("strong",{children:v.label}),": ",v.meaning,v.calc&&s.jsxs("span",{className:"explain-drawer-field-calc",children:[" How computed: ",v.calc]})]},v.key||y))})]}):s.jsx("p",{className:"explain-drawer-empty",children:"No fields defined for this context."})]}),(n.what||((h=n.sources)==null?void 0:h.length)||((m=n.fields)==null?void 0:m.length))&&s.jsx("div",{className:"explain-drawer-actions",children:s.jsx("button",{type:"button",className:"explain-drawer-copy",onClick:u,title:"Copy full explanation as Markdown",children:"Copy as Markdown"})}),n.lastUpdated&&s.jsxs("p",{className:"explain-drawer-updated",children:["Last updated: ",n.lastUpdated]})]})]})})]}):null}const lj=220,b9=[{to:"/today",label:"Today"},{to:"/home",label:"Home"},{to:"/portfolios",label:"Portfolio"},{to:"/runs",label:"Runs (Audit)"},{to:"/brief",label:"Morning Brief"},{to:"/training",label:"Training Status"},{to:"/suggestions",label:"Suggestions"},{to:"/signals",label:"Signals"},{to:"/market-timeline",label:"Market Timeline"},{to:"/debug",label:"Debug"}];function _9(){const[e,t]=p.useState(!1),{explainMode:r}=Pt(),{open:n}=Pr(),i=()=>t(!1);return s.jsxs("div",{className:"app-layout",children:[s.jsx("button",{type:"button",className:"app-layout-sidebar-toggle",onClick:()=>t(a=>!a),"aria-label":e?"Close menu":"Open menu","aria-expanded":e,children:s.jsxs("span",{className:"app-layout-hamburger","aria-hidden":"true",children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]})}),s.jsx("aside",{className:`app-layout-sidebar ${e?"app-layout-sidebar--open":""}`,style:{width:lj},"aria-label":"Main navigation",children:s.jsxs("div",{className:"app-layout-sidebar-inner",children:[s.jsx("h1",{className:"app-layout-title",children:s.jsx(y0,{to:"/",onClick:i,className:"app-layout-title-link",children:"MIP"})}),s.jsx("nav",{className:"app-layout-nav",children:b9.map(({to:a,label:o})=>s.jsx(y0,{to:a,end:a!=="/portfolios"&&a!=="/runs",className:({isActive:l})=>`app-layout-nav-link ${l?"app-layout-nav-link--active":""}`,onClick:i,children:o},a))})]})}),e&&s.jsx("div",{className:"app-layout-sidebar-backdrop",onClick:i,onKeyDown:a=>a.key==="Escape"&&i(),role:"button",tabIndex:0,"aria-label":"Close menu"}),s.jsxs("div",{className:"app-layout-main",style:{marginLeft:lj},children:[s.jsxs("header",{className:"app-layout-topbar",role:"banner",children:[s.jsxs("div",{className:"app-layout-topbar-left",children:[s.jsx(v9,{}),s.jsx(SM,{})]}),s.jsxs("div",{className:"app-layout-topbar-right",children:[r&&s.jsx("button",{type:"button",className:"explain-center-btn",onClick:n,"aria-label":"Open Explain Center",children:"Explain"}),s.jsx(g9,{})]})]}),s.jsx("main",{className:"app-layout-content page",role:"main",children:s.jsx(CI,{})})]}),s.jsx(w9,{})]})}const ae="/api";function j9(){return s.jsx(MI,{children:s.jsxs(Kt,{element:s.jsx(_9,{}),children:[s.jsx(Kt,{path:"/",element:s.jsx(TI,{to:"/today",replace:!0})}),s.jsx(Kt,{path:"/today",element:s.jsx(_M,{})}),s.jsx(Kt,{path:"/home",element:s.jsx(PM,{})}),s.jsx(Kt,{path:"/portfolios",element:s.jsx(aj,{})}),s.jsx(Kt,{path:"/portfolios/:portfolioId",element:s.jsx(aj,{})}),s.jsx(Kt,{path:"/runs",element:s.jsx(oj,{})}),s.jsx(Kt,{path:"/runs/:runId",element:s.jsx(oj,{})}),s.jsx(Kt,{path:"/brief",element:s.jsx(UG,{})}),s.jsx(Kt,{path:"/training",element:s.jsx(YG,{})}),s.jsx(Kt,{path:"/suggestions",element:s.jsx(o9,{})}),s.jsx(Kt,{path:"/signals",element:s.jsx(c9,{})}),s.jsx(Kt,{path:"/market-timeline",element:s.jsx(m9,{})}),s.jsx(Kt,{path:"/debug",element:s.jsx(d9,{})})]})})}const fA=p.createContext({portfolios:[],defaultPortfolioId:null,loading:!0,error:null});function S9({children:e}){const[t,r]=p.useState([]),[n,i]=p.useState(!0),[a,o]=p.useState(null);p.useEffect(()=>{let u=!1;return fetch(`${ae}/portfolios`).then(c=>c.ok?c.json():Promise.reject(new Error(c.statusText))).then(c=>{!u&&Array.isArray(c)&&r(c)}).catch(c=>{u||o(c.message)}).finally(()=>{u||i(!1)}),()=>{u=!0}},[]);const l=p.useMemo(()=>{const u=t.filter(f=>(f.STATUS||f.status||"").toUpperCase()==="ACTIVE"),c=u.length?u[0]:t[0],d=c!=null?c.PORTFOLIO_ID??c.portfolio_id??c.id:null;return{portfolios:t,defaultPortfolioId:d!=null?Number(d):null,loading:n,error:a}},[t,n,a]);return s.jsx(fA.Provider,{value:l,children:e})}function By(){const e=p.useContext(fA);if(!e)throw new Error("usePortfolios must be used within PortfolioProvider");return e}function Wy(){const{defaultPortfolioId:e}=By();return e??1}Gh.createRoot(document.getElementById("root")).render(s.jsx(xd.StrictMode,{children:s.jsx(WI,{children:s.jsx(xG,{children:s.jsx(YI,{defaultOn:!0,children:s.jsx(XI,{children:s.jsx(S9,{children:s.jsx(j9,{})})})})})})}));
